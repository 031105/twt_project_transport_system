{"ast":null,"code":"import _objectSpread from\"/Users/gohshunda/TWT-Transport-Booking/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useContext,useReducer,useEffect}from'react';// import { mockUsers, mockApi } from '../data/mockData';\n// Initial state\nimport{jsx as _jsx}from\"react/jsx-runtime\";const initialState={// System Settings\nsystemDate:'2025-06-24',// Fixed project date instead of real-time\n// User & Auth\ncurrentUser:null,isAuthenticated:false,isLoading:false,// Search & Booking\nsearchParams:{origin:'',destination:'',date:'2025-06-24'},searchResults:[],selectedTrip:null,selectedSeat:null,// Locations\nlocations:[],locationsLoading:false,// Booking Process\nbookingInProgress:null,bookingHistory:[],// UI State\nsidebarOpen:false,notifications:[],// Error handling\nerror:null};// Action types\nexport const ACTIONS={// System actions\nSET_SYSTEM_DATE:'SET_SYSTEM_DATE',// Auth actions\nLOGIN_START:'LOGIN_START',LOGIN_SUCCESS:'LOGIN_SUCCESS',LOGIN_FAILURE:'LOGIN_FAILURE',LOGOUT:'LOGOUT',// Search actions\nSET_SEARCH_PARAMS:'SET_SEARCH_PARAMS',SEARCH_TRIPS_START:'SEARCH_TRIPS_START',SEARCH_TRIPS_SUCCESS:'SEARCH_TRIPS_SUCCESS',SEARCH_TRIPS_FAILURE:'SEARCH_TRIPS_FAILURE',// Location actions\nLOAD_LOCATIONS_START:'LOAD_LOCATIONS_START',LOAD_LOCATIONS_SUCCESS:'LOAD_LOCATIONS_SUCCESS',LOAD_LOCATIONS_FAILURE:'LOAD_LOCATIONS_FAILURE',// Booking actions\nSELECT_TRIP:'SELECT_TRIP',SELECT_SEAT:'SELECT_SEAT',CREATE_BOOKING_START:'CREATE_BOOKING_START',CREATE_BOOKING_SUCCESS:'CREATE_BOOKING_SUCCESS',CREATE_BOOKING_FAILURE:'CREATE_BOOKING_FAILURE',LOAD_BOOKING_HISTORY:'LOAD_BOOKING_HISTORY',// UI actions\nTOGGLE_SIDEBAR:'TOGGLE_SIDEBAR',ADD_NOTIFICATION:'ADD_NOTIFICATION',REMOVE_NOTIFICATION:'REMOVE_NOTIFICATION',CLEAR_ERROR:'CLEAR_ERROR',SET_ERROR:'SET_ERROR'};// Reducer function\nconst appReducer=(state,action)=>{switch(action.type){case ACTIONS.SET_SYSTEM_DATE:return _objectSpread(_objectSpread({},state),{},{systemDate:action.payload});case ACTIONS.LOGIN_START:return _objectSpread(_objectSpread({},state),{},{isLoading:true,error:null});case ACTIONS.LOGIN_SUCCESS:return _objectSpread(_objectSpread({},state),{},{currentUser:action.payload,isAuthenticated:true,isLoading:false,error:null});case ACTIONS.LOGIN_FAILURE:return _objectSpread(_objectSpread({},state),{},{currentUser:null,isAuthenticated:false,isLoading:false,error:action.payload});case ACTIONS.LOGOUT:return _objectSpread(_objectSpread({},state),{},{currentUser:null,isAuthenticated:false,bookingHistory:[],bookingInProgress:null,selectedTrip:null,selectedSeat:null});case ACTIONS.SET_SEARCH_PARAMS:return _objectSpread(_objectSpread({},state),{},{searchParams:_objectSpread(_objectSpread({},state.searchParams),action.payload)});case ACTIONS.SEARCH_TRIPS_START:return _objectSpread(_objectSpread({},state),{},{isLoading:true,error:null});case ACTIONS.SEARCH_TRIPS_SUCCESS:return _objectSpread(_objectSpread({},state),{},{searchResults:action.payload,isLoading:false,error:null});case ACTIONS.SEARCH_TRIPS_FAILURE:return _objectSpread(_objectSpread({},state),{},{searchResults:[],isLoading:false,error:action.payload});case ACTIONS.LOAD_LOCATIONS_START:return _objectSpread(_objectSpread({},state),{},{locationsLoading:true,error:null});case ACTIONS.LOAD_LOCATIONS_SUCCESS:return _objectSpread(_objectSpread({},state),{},{locations:action.payload,locationsLoading:false,error:null});case ACTIONS.LOAD_LOCATIONS_FAILURE:return _objectSpread(_objectSpread({},state),{},{locations:[],locationsLoading:false,error:action.payload});case ACTIONS.SELECT_TRIP:return _objectSpread(_objectSpread({},state),{},{selectedTrip:action.payload,selectedSeat:null// Reset seat selection when trip changes\n});case ACTIONS.SELECT_SEAT:return _objectSpread(_objectSpread({},state),{},{selectedSeat:action.payload});case ACTIONS.CREATE_BOOKING_START:return _objectSpread(_objectSpread({},state),{},{isLoading:true,error:null});case ACTIONS.CREATE_BOOKING_SUCCESS:return _objectSpread(_objectSpread({},state),{},{bookingInProgress:action.payload,isLoading:false,error:null});case ACTIONS.CREATE_BOOKING_FAILURE:return _objectSpread(_objectSpread({},state),{},{bookingInProgress:null,isLoading:false,error:action.payload});case ACTIONS.LOAD_BOOKING_HISTORY:return _objectSpread(_objectSpread({},state),{},{bookingHistory:action.payload});case ACTIONS.TOGGLE_SIDEBAR:return _objectSpread(_objectSpread({},state),{},{sidebarOpen:!state.sidebarOpen});case ACTIONS.ADD_NOTIFICATION:return _objectSpread(_objectSpread({},state),{},{notifications:[...state.notifications,_objectSpread({id:Date.now()},action.payload)]});case ACTIONS.REMOVE_NOTIFICATION:return _objectSpread(_objectSpread({},state),{},{notifications:state.notifications.filter(n=>n.id!==action.payload)});case ACTIONS.CLEAR_ERROR:return _objectSpread(_objectSpread({},state),{},{error:null});case ACTIONS.SET_ERROR:return _objectSpread(_objectSpread({},state),{},{error:action.payload});default:return state;}};// Create context\nconst AppContext=/*#__PURE__*/createContext();// Provider component\nexport const AppProvider=_ref=>{let{children}=_ref;const[state,dispatch]=useReducer(appReducer,initialState);// Auto-login from localStorage on app start\nuseEffect(()=>{const savedUser=localStorage.getItem('currentUser');if(savedUser){try{const user=JSON.parse(savedUser);dispatch({type:ACTIONS.LOGIN_SUCCESS,payload:user});}catch(error){localStorage.removeItem('currentUser');}}},[]);// Load locations on app start\nuseEffect(()=>{const loadInitialLocations=async()=>{try{const response=await fetch('http://localhost:5001/api/locations');if(response.ok){const data=await response.json();dispatch({type:ACTIONS.LOAD_LOCATIONS_SUCCESS,payload:data.data||[]});}}catch(error){console.error('Failed to load locations:',error);}};loadInitialLocations();},[]);// Load user bookings when user logs in\nuseEffect(()=>{if(state.isAuthenticated&&state.currentUser){loadBookingHistory();}},[state.isAuthenticated,state.currentUser]);// Action creators\nconst login=async(email,password)=>{dispatch({type:ACTIONS.LOGIN_START});try{const response=await fetch('http://localhost:5001/api/auth/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})});if(!response.ok){var _errorData$error;const errorData=await response.json();throw new Error(((_errorData$error=errorData.error)===null||_errorData$error===void 0?void 0:_errorData$error.message)||'Login failed');}const data=await response.json();const user=data.data.user;const token=data.data.tokens.accessToken;// Save user and token to localStorage\nlocalStorage.setItem('currentUser',JSON.stringify(user));localStorage.setItem('accessToken',token);localStorage.setItem('refreshToken',data.data.tokens.refreshToken);dispatch({type:ACTIONS.LOGIN_SUCCESS,payload:user});addNotification({type:'success',message:\"Welcome back, \".concat(user.firstName||user.email,\"!\")});return user;}catch(error){dispatch({type:ACTIONS.LOGIN_FAILURE,payload:error.message});addNotification({type:'error',message:error.message});throw error;}};const logout=()=>{localStorage.removeItem('currentUser');localStorage.removeItem('accessToken');localStorage.removeItem('refreshToken');dispatch({type:ACTIONS.LOGOUT});addNotification({type:'success',message:'You have been logged out successfully'});};const setSystemDate=date=>{dispatch({type:ACTIONS.SET_SYSTEM_DATE,payload:date});};const searchTrips=async searchParams=>{dispatch({type:ACTIONS.SEARCH_TRIPS_START});try{const token=localStorage.getItem('accessToken');const query=new URLSearchParams(searchParams).toString();const response=await fetch(\"http://localhost:5001/api/trips?\".concat(query),{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});if(!response.ok){var _errorData$error2;const errorData=await response.json();throw new Error(((_errorData$error2=errorData.error)===null||_errorData$error2===void 0?void 0:_errorData$error2.message)||'Failed to search trips');}const data=await response.json();const results=data.data||[];dispatch({type:ACTIONS.SEARCH_TRIPS_SUCCESS,payload:results});dispatch({type:ACTIONS.SET_SEARCH_PARAMS,payload:searchParams});return results;}catch(error){dispatch({type:ACTIONS.SEARCH_TRIPS_FAILURE,payload:error.message});throw error;}};const loadAllTrips=async()=>{dispatch({type:ACTIONS.SEARCH_TRIPS_START});try{const token=localStorage.getItem('accessToken');const response=await fetch('http://localhost:5001/api/trips',{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});if(!response.ok){var _errorData$error3;const errorData=await response.json();throw new Error(((_errorData$error3=errorData.error)===null||_errorData$error3===void 0?void 0:_errorData$error3.message)||'Failed to load trips');}const data=await response.json();const results=data.data||[];// Process the trips to ensure next_departure is available\nconst processedResults=results.map(trip=>{return _objectSpread(_objectSpread({},trip),{},{next_departure:trip.departureDatetime,route:_objectSpread(_objectSpread({},trip.route),{},{next_departure:trip.departureDatetime})});});dispatch({type:ACTIONS.SEARCH_TRIPS_SUCCESS,payload:processedResults});dispatch({type:ACTIONS.SET_SEARCH_PARAMS,payload:{origin:'',destination:'',date:''}});return processedResults;}catch(error){dispatch({type:ACTIONS.SEARCH_TRIPS_FAILURE,payload:error.message});throw error;}};const loadLocations=async()=>{dispatch({type:ACTIONS.LOAD_LOCATIONS_START});try{const token=localStorage.getItem('accessToken');const response=await fetch('http://localhost:5001/api/locations',{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});if(!response.ok){var _errorData$error4;const errorData=await response.json();throw new Error(((_errorData$error4=errorData.error)===null||_errorData$error4===void 0?void 0:_errorData$error4.message)||'Failed to load locations');}const data=await response.json();const locations=data.data||[];dispatch({type:ACTIONS.LOAD_LOCATIONS_SUCCESS,payload:locations});return locations;}catch(error){dispatch({type:ACTIONS.LOAD_LOCATIONS_FAILURE,payload:error.message});throw error;}};const selectTrip=async trip=>{try{const token=localStorage.getItem('accessToken');const response=await fetch(\"http://localhost:5001/api/trips/\".concat(trip.id),{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});if(!response.ok){var _errorData$error5;const errorData=await response.json();throw new Error(((_errorData$error5=errorData.error)===null||_errorData$error5===void 0?void 0:_errorData$error5.message)||'Failed to load trip details');}const data=await response.json();const tripDetails=data.data;dispatch({type:ACTIONS.SELECT_TRIP,payload:tripDetails});return tripDetails;}catch(error){addNotification({type:'error',message:'Failed to load trip details'});throw error;}};const selectSeat=seat=>{dispatch({type:ACTIONS.SELECT_SEAT,payload:seat});};const createBooking=async bookingData=>{dispatch({type:ACTIONS.CREATE_BOOKING_START});try{const token=localStorage.getItem('accessToken');const response=await fetch('http://localhost:5001/api/bookings',{method:'POST',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify(bookingData)});if(!response.ok){var _errorData$error6;const errorData=await response.json();throw new Error(((_errorData$error6=errorData.error)===null||_errorData$error6===void 0?void 0:_errorData$error6.message)||'Failed to create booking');}const data=await response.json();const booking=data.data;dispatch({type:ACTIONS.CREATE_BOOKING_SUCCESS,payload:booking});addNotification({type:'success',message:\"Booking created successfully! Reference: \".concat(booking.booking_reference||booking.id)});return booking;}catch(error){dispatch({type:ACTIONS.CREATE_BOOKING_FAILURE,payload:error.message});addNotification({type:'error',message:'Failed to create booking. Please try again.'});throw error;}};const processPayment=async paymentData=>{try{const token=localStorage.getItem('accessToken');const response=await fetch('http://localhost:5001/api/payments',{method:'POST',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify(paymentData)});if(!response.ok){var _errorData$error7;const errorData=await response.json();throw new Error(((_errorData$error7=errorData.error)===null||_errorData$error7===void 0?void 0:_errorData$error7.message)||'Payment failed');}const data=await response.json();const payment=data.data;if(payment.status==='completed'){addNotification({type:'success',message:'Payment completed successfully!'});loadBookingHistory();}else{addNotification({type:'error',message:payment.failureReason||'Payment failed. Please try again.'});}return payment;}catch(error){addNotification({type:'error',message:'Payment processing failed. Please try again.'});throw error;}};const loadBookingHistory=async()=>{if(!state.currentUser){console.log('No current user, skipping booking history load');return;}try{const token=localStorage.getItem('accessToken');console.log('Loading booking history for user:',state.currentUser.id);console.log('Token exists:',!!token);if(!token){console.log('No access token found');return;}const response=await fetch(\"http://localhost:5001/api/bookings/user/\".concat(state.currentUser.id),{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});if(!response.ok){var _errorData$error8;console.log('Booking history request failed:',response.status,response.statusText);const errorData=await response.json();throw new Error(((_errorData$error8=errorData.error)===null||_errorData$error8===void 0?void 0:_errorData$error8.message)||'Failed to load booking history');}const data=await response.json();const bookings=data.data||[];console.log('Loaded bookings:',bookings.length);dispatch({type:ACTIONS.LOAD_BOOKING_HISTORY,payload:bookings});}catch(error){console.error('Failed to load booking history:',error);}};const addNotification=notification=>{const notificationWithId=_objectSpread({id:Date.now()},notification);dispatch({type:ACTIONS.ADD_NOTIFICATION,payload:notificationWithId});// Auto-remove notification after 5 seconds\nsetTimeout(()=>{dispatch({type:ACTIONS.REMOVE_NOTIFICATION,payload:notificationWithId.id});},5000);};const removeNotification=id=>{dispatch({type:ACTIONS.REMOVE_NOTIFICATION,payload:id});};const clearError=()=>{dispatch({type:ACTIONS.CLEAR_ERROR});};const toggleSidebar=()=>{dispatch({type:ACTIONS.TOGGLE_SIDEBAR});};// Context value\nconst contextValue=_objectSpread(_objectSpread({},state),{},{// Actions\nlogin,logout,setSystemDate,searchTrips,loadAllTrips,loadLocations,selectTrip,selectSeat,createBooking,processPayment,loadBookingHistory,addNotification,removeNotification,clearError,toggleSidebar});return/*#__PURE__*/_jsx(AppContext.Provider,{value:contextValue,children:children});};// Custom hook to use context\nexport const useApp=()=>{const context=useContext(AppContext);if(!context){throw new Error('useApp must be used within an AppProvider');}return context;};export default AppContext;","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","jsx","_jsx","initialState","systemDate","currentUser","isAuthenticated","isLoading","searchParams","origin","destination","date","searchResults","selectedTrip","selectedSeat","locations","locationsLoading","bookingInProgress","bookingHistory","sidebarOpen","notifications","error","ACTIONS","SET_SYSTEM_DATE","LOGIN_START","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","SET_SEARCH_PARAMS","SEARCH_TRIPS_START","SEARCH_TRIPS_SUCCESS","SEARCH_TRIPS_FAILURE","LOAD_LOCATIONS_START","LOAD_LOCATIONS_SUCCESS","LOAD_LOCATIONS_FAILURE","SELECT_TRIP","SELECT_SEAT","CREATE_BOOKING_START","CREATE_BOOKING_SUCCESS","CREATE_BOOKING_FAILURE","LOAD_BOOKING_HISTORY","TOGGLE_SIDEBAR","ADD_NOTIFICATION","REMOVE_NOTIFICATION","CLEAR_ERROR","SET_ERROR","appReducer","state","action","type","_objectSpread","payload","id","Date","now","filter","n","AppContext","AppProvider","_ref","children","dispatch","savedUser","localStorage","getItem","user","JSON","parse","removeItem","loadInitialLocations","response","fetch","ok","data","json","console","loadBookingHistory","login","email","password","method","headers","body","stringify","_errorData$error","errorData","Error","message","token","tokens","accessToken","setItem","refreshToken","addNotification","concat","firstName","logout","setSystemDate","searchTrips","query","URLSearchParams","toString","_errorData$error2","results","loadAllTrips","_errorData$error3","processedResults","map","trip","next_departure","departureDatetime","route","loadLocations","_errorData$error4","selectTrip","_errorData$error5","tripDetails","selectSeat","seat","createBooking","bookingData","_errorData$error6","booking","booking_reference","processPayment","paymentData","_errorData$error7","payment","status","failureReason","log","_errorData$error8","statusText","bookings","length","notification","notificationWithId","setTimeout","removeNotification","clearError","toggleSidebar","contextValue","Provider","value","useApp","context"],"sources":["/Users/gohshunda/TWT-Transport-Booking/src/context/AppContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\n// import { mockUsers, mockApi } from '../data/mockData';\n\n// Initial state\nconst initialState = {\n  // System Settings\n  systemDate: '2025-06-24', // Fixed project date instead of real-time\n  \n  // User & Auth\n  currentUser: null,\n  isAuthenticated: false,\n  isLoading: false,\n  \n  // Search & Booking\n  searchParams: {\n    origin: '',\n    destination: '',\n    date: '2025-06-24'\n  },\n  searchResults: [],\n  selectedTrip: null,\n  selectedSeat: null,\n  \n  // Locations\n  locations: [],\n  locationsLoading: false,\n  \n  // Booking Process\n  bookingInProgress: null,\n  bookingHistory: [],\n  \n  // UI State\n  sidebarOpen: false,\n  notifications: [],\n  \n  // Error handling\n  error: null\n};\n\n// Action types\nexport const ACTIONS = {\n  // System actions\n  SET_SYSTEM_DATE: 'SET_SYSTEM_DATE',\n  \n  // Auth actions\n  LOGIN_START: 'LOGIN_START',\n  LOGIN_SUCCESS: 'LOGIN_SUCCESS',\n  LOGIN_FAILURE: 'LOGIN_FAILURE',\n  LOGOUT: 'LOGOUT',\n  \n  // Search actions\n  SET_SEARCH_PARAMS: 'SET_SEARCH_PARAMS',\n  SEARCH_TRIPS_START: 'SEARCH_TRIPS_START',\n  SEARCH_TRIPS_SUCCESS: 'SEARCH_TRIPS_SUCCESS',\n  SEARCH_TRIPS_FAILURE: 'SEARCH_TRIPS_FAILURE',\n  \n  // Location actions\n  LOAD_LOCATIONS_START: 'LOAD_LOCATIONS_START',\n  LOAD_LOCATIONS_SUCCESS: 'LOAD_LOCATIONS_SUCCESS',\n  LOAD_LOCATIONS_FAILURE: 'LOAD_LOCATIONS_FAILURE',\n  \n  // Booking actions\n  SELECT_TRIP: 'SELECT_TRIP',\n  SELECT_SEAT: 'SELECT_SEAT',\n  CREATE_BOOKING_START: 'CREATE_BOOKING_START',\n  CREATE_BOOKING_SUCCESS: 'CREATE_BOOKING_SUCCESS',\n  CREATE_BOOKING_FAILURE: 'CREATE_BOOKING_FAILURE',\n  LOAD_BOOKING_HISTORY: 'LOAD_BOOKING_HISTORY',\n  \n  // UI actions\n  TOGGLE_SIDEBAR: 'TOGGLE_SIDEBAR',\n  ADD_NOTIFICATION: 'ADD_NOTIFICATION',\n  REMOVE_NOTIFICATION: 'REMOVE_NOTIFICATION',\n  CLEAR_ERROR: 'CLEAR_ERROR',\n  SET_ERROR: 'SET_ERROR'\n};\n\n// Reducer function\nconst appReducer = (state, action) => {\n  switch (action.type) {\n    case ACTIONS.SET_SYSTEM_DATE:\n      return {\n        ...state,\n        systemDate: action.payload\n      };\n      \n    case ACTIONS.LOGIN_START:\n      return {\n        ...state,\n        isLoading: true,\n        error: null\n      };\n      \n    case ACTIONS.LOGIN_SUCCESS:\n      return {\n        ...state,\n        currentUser: action.payload,\n        isAuthenticated: true,\n        isLoading: false,\n        error: null\n      };\n      \n    case ACTIONS.LOGIN_FAILURE:\n      return {\n        ...state,\n        currentUser: null,\n        isAuthenticated: false,\n        isLoading: false,\n        error: action.payload\n      };\n      \n    case ACTIONS.LOGOUT:\n      return {\n        ...state,\n        currentUser: null,\n        isAuthenticated: false,\n        bookingHistory: [],\n        bookingInProgress: null,\n        selectedTrip: null,\n        selectedSeat: null\n      };\n      \n    case ACTIONS.SET_SEARCH_PARAMS:\n      return {\n        ...state,\n        searchParams: { ...state.searchParams, ...action.payload }\n      };\n      \n    case ACTIONS.SEARCH_TRIPS_START:\n      return {\n        ...state,\n        isLoading: true,\n        error: null\n      };\n      \n    case ACTIONS.SEARCH_TRIPS_SUCCESS:\n      return {\n        ...state,\n        searchResults: action.payload,\n        isLoading: false,\n        error: null\n      };\n      \n    case ACTIONS.SEARCH_TRIPS_FAILURE:\n      return {\n        ...state,\n        searchResults: [],\n        isLoading: false,\n        error: action.payload\n      };\n      \n    case ACTIONS.LOAD_LOCATIONS_START:\n      return {\n        ...state,\n        locationsLoading: true,\n        error: null\n      };\n      \n    case ACTIONS.LOAD_LOCATIONS_SUCCESS:\n      return {\n        ...state,\n        locations: action.payload,\n        locationsLoading: false,\n        error: null\n      };\n      \n    case ACTIONS.LOAD_LOCATIONS_FAILURE:\n      return {\n        ...state,\n        locations: [],\n        locationsLoading: false,\n        error: action.payload\n      };\n      \n    case ACTIONS.SELECT_TRIP:\n      return {\n        ...state,\n        selectedTrip: action.payload,\n        selectedSeat: null // Reset seat selection when trip changes\n      };\n      \n    case ACTIONS.SELECT_SEAT:\n      return {\n        ...state,\n        selectedSeat: action.payload\n      };\n      \n    case ACTIONS.CREATE_BOOKING_START:\n      return {\n        ...state,\n        isLoading: true,\n        error: null\n      };\n      \n    case ACTIONS.CREATE_BOOKING_SUCCESS:\n      return {\n        ...state,\n        bookingInProgress: action.payload,\n        isLoading: false,\n        error: null\n      };\n      \n    case ACTIONS.CREATE_BOOKING_FAILURE:\n      return {\n        ...state,\n        bookingInProgress: null,\n        isLoading: false,\n        error: action.payload\n      };\n      \n    case ACTIONS.LOAD_BOOKING_HISTORY:\n      return {\n        ...state,\n        bookingHistory: action.payload\n      };\n      \n    case ACTIONS.TOGGLE_SIDEBAR:\n      return {\n        ...state,\n        sidebarOpen: !state.sidebarOpen\n      };\n      \n    case ACTIONS.ADD_NOTIFICATION:\n      return {\n        ...state,\n        notifications: [...state.notifications, { id: Date.now(), ...action.payload }]\n      };\n      \n    case ACTIONS.REMOVE_NOTIFICATION:\n      return {\n        ...state,\n        notifications: state.notifications.filter(n => n.id !== action.payload)\n      };\n      \n    case ACTIONS.CLEAR_ERROR:\n      return {\n        ...state,\n        error: null\n      };\n      \n    case ACTIONS.SET_ERROR:\n      return {\n        ...state,\n        error: action.payload\n      };\n      \n    default:\n      return state;\n  }\n};\n\n// Create context\nconst AppContext = createContext();\n\n// Provider component\nexport const AppProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(appReducer, initialState);\n  \n  // Auto-login from localStorage on app start\n  useEffect(() => {\n    const savedUser = localStorage.getItem('currentUser');\n    if (savedUser) {\n      try {\n        const user = JSON.parse(savedUser);\n        dispatch({ type: ACTIONS.LOGIN_SUCCESS, payload: user });\n      } catch (error) {\n        localStorage.removeItem('currentUser');\n      }\n    }\n  }, []);\n  \n  // Load locations on app start\n  useEffect(() => {\n    const loadInitialLocations = async () => {\n      try {\n        const response = await fetch('http://localhost:5001/api/locations');\n        if (response.ok) {\n          const data = await response.json();\n          dispatch({ type: ACTIONS.LOAD_LOCATIONS_SUCCESS, payload: data.data || [] });\n        }\n      } catch (error) {\n        console.error('Failed to load locations:', error);\n      }\n    };\n    \n    loadInitialLocations();\n  }, []);\n  \n  // Load user bookings when user logs in\n  useEffect(() => {\n    if (state.isAuthenticated && state.currentUser) {\n      loadBookingHistory();\n    }\n  }, [state.isAuthenticated, state.currentUser]);\n  \n  // Action creators\n  const login = async (email, password) => {\n    dispatch({ type: ACTIONS.LOGIN_START });\n    try {\n      const response = await fetch('http://localhost:5001/api/auth/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email, password })\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error?.message || 'Login failed');\n      }\n      \n      const data = await response.json();\n      const user = data.data.user;\n      const token = data.data.tokens.accessToken;\n      \n      // Save user and token to localStorage\n      localStorage.setItem('currentUser', JSON.stringify(user));\n      localStorage.setItem('accessToken', token);\n      localStorage.setItem('refreshToken', data.data.tokens.refreshToken);\n      \n      dispatch({ type: ACTIONS.LOGIN_SUCCESS, payload: user });\n      addNotification({ type: 'success', message: `Welcome back, ${user.firstName || user.email}!` });\n      return user;\n    } catch (error) {\n      dispatch({ type: ACTIONS.LOGIN_FAILURE, payload: error.message });\n      addNotification({ type: 'error', message: error.message });\n      throw error;\n    }\n  };\n  \n  const logout = () => {\n    localStorage.removeItem('currentUser');\n    localStorage.removeItem('accessToken');\n    localStorage.removeItem('refreshToken');\n    dispatch({ type: ACTIONS.LOGOUT });\n    addNotification({\n      type: 'success',\n      message: 'You have been logged out successfully'\n    });\n  };\n\n  const setSystemDate = (date) => {\n    dispatch({ type: ACTIONS.SET_SYSTEM_DATE, payload: date });\n  };\n  \n  const searchTrips = async (searchParams) => {\n    dispatch({ type: ACTIONS.SEARCH_TRIPS_START });\n    try {\n      const token = localStorage.getItem('accessToken');\n      const query = new URLSearchParams(searchParams).toString();\n      const response = await fetch(`http://localhost:5001/api/trips?${query}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error?.message || 'Failed to search trips');\n      }\n      \n      const data = await response.json();\n      const results = data.data || [];\n      dispatch({ type: ACTIONS.SEARCH_TRIPS_SUCCESS, payload: results });\n      dispatch({ type: ACTIONS.SET_SEARCH_PARAMS, payload: searchParams });\n      return results;\n    } catch (error) {\n      dispatch({ type: ACTIONS.SEARCH_TRIPS_FAILURE, payload: error.message });\n      throw error;\n    }\n  };\n  \n  const loadAllTrips = async () => {\n    dispatch({ type: ACTIONS.SEARCH_TRIPS_START });\n    try {\n      const token = localStorage.getItem('accessToken');\n      const response = await fetch('http://localhost:5001/api/trips', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error?.message || 'Failed to load trips');\n      }\n      \n      const data = await response.json();\n      const results = data.data || [];\n      \n      // Process the trips to ensure next_departure is available\n      const processedResults = results.map(trip => {\n        return {\n          ...trip,\n          next_departure: trip.departureDatetime,\n          route: {\n            ...trip.route,\n            next_departure: trip.departureDatetime\n          }\n        };\n      });\n      \n      dispatch({ type: ACTIONS.SEARCH_TRIPS_SUCCESS, payload: processedResults });\n      dispatch({ type: ACTIONS.SET_SEARCH_PARAMS, payload: { origin: '', destination: '', date: '' } });\n      return processedResults;\n    } catch (error) {\n      dispatch({ type: ACTIONS.SEARCH_TRIPS_FAILURE, payload: error.message });\n      throw error;\n    }\n  };\n  \n  const loadLocations = async () => {\n    dispatch({ type: ACTIONS.LOAD_LOCATIONS_START });\n    try {\n      const token = localStorage.getItem('accessToken');\n      const response = await fetch('http://localhost:5001/api/locations', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error?.message || 'Failed to load locations');\n      }\n      \n      const data = await response.json();\n      const locations = data.data || [];\n      dispatch({ type: ACTIONS.LOAD_LOCATIONS_SUCCESS, payload: locations });\n      return locations;\n    } catch (error) {\n      dispatch({ type: ACTIONS.LOAD_LOCATIONS_FAILURE, payload: error.message });\n      throw error;\n    }\n  };\n  \n  const selectTrip = async (trip) => {\n    try {\n      const token = localStorage.getItem('accessToken');\n      const response = await fetch(`http://localhost:5001/api/trips/${trip.id}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error?.message || 'Failed to load trip details');\n      }\n      \n      const data = await response.json();\n      const tripDetails = data.data;\n      dispatch({ type: ACTIONS.SELECT_TRIP, payload: tripDetails });\n      return tripDetails;\n    } catch (error) {\n      addNotification({ type: 'error', message: 'Failed to load trip details' });\n      throw error;\n    }\n  };\n  \n  const selectSeat = (seat) => {\n    dispatch({ type: ACTIONS.SELECT_SEAT, payload: seat });\n  };\n  \n  const createBooking = async (bookingData) => {\n    dispatch({ type: ACTIONS.CREATE_BOOKING_START });\n    try {\n      const token = localStorage.getItem('accessToken');\n      const response = await fetch('http://localhost:5001/api/bookings', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(bookingData)\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error?.message || 'Failed to create booking');\n      }\n      \n      const data = await response.json();\n      const booking = data.data;\n      dispatch({ type: ACTIONS.CREATE_BOOKING_SUCCESS, payload: booking });\n      addNotification({ type: 'success', message: `Booking created successfully! Reference: ${booking.booking_reference || booking.id}` });\n      return booking;\n    } catch (error) {\n      dispatch({ type: ACTIONS.CREATE_BOOKING_FAILURE, payload: error.message });\n      addNotification({ type: 'error', message: 'Failed to create booking. Please try again.' });\n      throw error;\n    }\n  };\n  \n  const processPayment = async (paymentData) => {\n    try {\n      const token = localStorage.getItem('accessToken');\n      const response = await fetch('http://localhost:5001/api/payments', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(paymentData)\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error?.message || 'Payment failed');\n      }\n      \n      const data = await response.json();\n      const payment = data.data;\n      if (payment.status === 'completed') {\n        addNotification({ type: 'success', message: 'Payment completed successfully!' });\n        loadBookingHistory();\n      } else {\n        addNotification({ type: 'error', message: payment.failureReason || 'Payment failed. Please try again.' });\n      }\n      return payment;\n    } catch (error) {\n      addNotification({ type: 'error', message: 'Payment processing failed. Please try again.' });\n      throw error;\n    }\n  };\n  \n  const loadBookingHistory = async () => {\n    if (!state.currentUser) {\n      console.log('No current user, skipping booking history load');\n      return;\n    }\n    \n    try {\n      const token = localStorage.getItem('accessToken');\n      console.log('Loading booking history for user:', state.currentUser.id);\n      console.log('Token exists:', !!token);\n      \n      if (!token) {\n        console.log('No access token found');\n        return;\n      }\n      \n      const response = await fetch(`http://localhost:5001/api/bookings/user/${state.currentUser.id}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      \n      if (!response.ok) {\n        console.log('Booking history request failed:', response.status, response.statusText);\n        const errorData = await response.json();\n        throw new Error(errorData.error?.message || 'Failed to load booking history');\n      }\n      \n      const data = await response.json();\n      const bookings = data.data || [];\n      console.log('Loaded bookings:', bookings.length);\n      dispatch({ type: ACTIONS.LOAD_BOOKING_HISTORY, payload: bookings });\n    } catch (error) {\n      console.error('Failed to load booking history:', error);\n    }\n  };\n  \n  const addNotification = (notification) => {\n    const notificationWithId = { id: Date.now(), ...notification };\n    dispatch({ type: ACTIONS.ADD_NOTIFICATION, payload: notificationWithId });\n    \n    // Auto-remove notification after 5 seconds\n    setTimeout(() => {\n      dispatch({ type: ACTIONS.REMOVE_NOTIFICATION, payload: notificationWithId.id });\n    }, 5000);\n  };\n  \n  const removeNotification = (id) => {\n    dispatch({ type: ACTIONS.REMOVE_NOTIFICATION, payload: id });\n  };\n  \n  const clearError = () => {\n    dispatch({ type: ACTIONS.CLEAR_ERROR });\n  };\n  \n  const toggleSidebar = () => {\n    dispatch({ type: ACTIONS.TOGGLE_SIDEBAR });\n  };\n  \n  // Context value\n  const contextValue = {\n    // State\n    ...state,\n    \n    // Actions\n    login,\n    logout,\n    setSystemDate,\n    searchTrips,\n    loadAllTrips,\n    loadLocations,\n    selectTrip,\n    selectSeat,\n    createBooking,\n    processPayment,\n    loadBookingHistory,\n    addNotification,\n    removeNotification,\n    clearError,\n    toggleSidebar\n  };\n  \n  return (\n    <AppContext.Provider value={contextValue}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n\n// Custom hook to use context\nexport const useApp = () => {\n  const context = useContext(AppContext);\n  if (!context) {\n    throw new Error('useApp must be used within an AppProvider');\n  }\n  return context;\n};\n\nexport default AppContext; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}