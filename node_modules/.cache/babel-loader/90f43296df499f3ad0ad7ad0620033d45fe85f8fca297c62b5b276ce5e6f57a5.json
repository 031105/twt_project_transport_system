{"ast":null,"code":"import _objectSpread from\"/Users/gohshunda/TWT-Transport-Booking/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{format,addDays}from'date-fns';import{MapPin,Clock,Search,Calendar,Bus}from'lucide-react';import{useApp}from'../../context/AppContext';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminCustomerServicePortal=()=>{const{searchTrips,searchResults,searchParams,isLoading,selectTrip,loadAllTrips,addNotification,locations,systemDate}=useApp();const navigate=useNavigate();// Search form state\nconst[searchForm,setSearchForm]=useState({origin:searchParams.origin||'',destination:searchParams.destination||'',date:searchParams.date||systemDate});// Load all trips when component mounts only once\nuseEffect(()=>{// Only load trips once when the component mounts\nloadAllTrips();// No dependencies array to ensure it only runs once\n},[]);// Update search form when searchParams change\nuseEffect(()=>{setSearchForm({origin:searchParams.origin||'',destination:searchParams.destination||'',date:searchParams.date||systemDate});},[searchParams,systemDate]);const handleSearch=async e=>{e.preventDefault();try{await searchTrips(searchForm);}catch(error){addNotification({type:'error',message:'Search failed. Please try again.'});}};const handleSelectTrip=async trip=>{try{await selectTrip(trip);navigate(\"/trip/\".concat(trip.id));}catch(error){console.error('Failed to select trip:',error);}};// Get location names for display\nconst getLocationName=locationId=>{const location=locations.find(loc=>loc.id===locationId);return location?location.city:'Unknown';};// Duration formatting helper\nconst formatDuration=minutes=>{const hours=Math.floor(minutes/60);const mins=minutes%60;return\"\".concat(hours,\"h \").concat(mins,\"m\");};// Safe format function to handle invalid date values\nconst safeFormatTime=(dateStr,timeStr)=>{try{if(!dateStr||!timeStr)return'--:--';const dateTime=new Date(\"\".concat(dateStr,\"T\").concat(timeStr));// Check if date is valid\nif(isNaN(dateTime.getTime()))return'--:--';return format(dateTime,'HH:mm');}catch(error){console.error('Error formatting time:',error);return'--:--';}};// Safe format for date strings\nconst safeFormatDate=(date,formatStr)=>{try{if(!date)return'';const dateObj=typeof date==='string'?new Date(date):date;if(isNaN(dateObj.getTime()))return'';return format(dateObj,formatStr);}catch(error){console.error('Error formatting date:',error);return'';}};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Searching for trips...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 max-w-6xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-6\",children:\"Customer Service Portal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow rounded-lg mb-6 p-4\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearch,className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-2\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"w-5 h-5 text-gray-500 mr-2\"}),/*#__PURE__*/_jsx(\"label\",{className:\"text-gray-700 font-medium\",children:\"From\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:searchForm.origin,onChange:e=>setSearchForm(prev=>_objectSpread(_objectSpread({},prev),{},{origin:e.target.value})),className:\"w-full border border-gray-300 rounded-md p-2\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select origin\"}),locations.map(location=>/*#__PURE__*/_jsx(\"option\",{value:location.id,children:location.city},location.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-2\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"w-5 h-5 text-gray-500 mr-2\"}),/*#__PURE__*/_jsx(\"label\",{className:\"text-gray-700 font-medium\",children:\"To\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:searchForm.destination,onChange:e=>setSearchForm(prev=>_objectSpread(_objectSpread({},prev),{},{destination:e.target.value})),className:\"w-full border border-gray-300 rounded-md p-2\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select destination\"}),locations.map(location=>/*#__PURE__*/_jsx(\"option\",{value:location.id,children:location.city},location.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-2\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-5 h-5 text-gray-500 mr-2\"}),/*#__PURE__*/_jsx(\"label\",{className:\"text-gray-700 font-medium\",children:\"Date\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:searchForm.date,onChange:e=>setSearchForm(prev=>_objectSpread(_objectSpread({},prev),{},{date:e.target.value})),min:systemDate,max:safeFormatDate(addDays(new Date(systemDate||new Date()),90),'yyyy-MM-dd'),className:\"w-full border border-gray-300 rounded-md p-2\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-end\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:isLoading,className:\"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md flex items-center justify-center\",children:[/*#__PURE__*/_jsx(Search,{className:\"w-5 h-5 mr-2\"}),\"Search\"]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg mb-6 p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold\",children:searchParams.origin&&searchParams.destination?'Search Results':'All Available Trips'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:searchParams.origin&&searchParams.destination?\"\".concat(getLocationName(searchParams.origin),\" to \").concat(getLocationName(searchParams.destination)):'Showing all available trips across Malaysia'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 md:mt-0\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Found \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:searchResults.length}),\" trips\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[searchResults.map(trip=>{var _trip$route,_trip$originLocation,_trip$destinationLoca,_trip$vehicleType,_trip$route2,_trip$route3,_trip$route4,_trip$route5;return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold\",children:((_trip$route=trip.route)===null||_trip$route===void 0?void 0:_trip$route.name)||'Unknown Route'}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[((_trip$originLocation=trip.originLocation)===null||_trip$originLocation===void 0?void 0:_trip$originLocation.city)||'Unknown',\" \\u2192 \",((_trip$destinationLoca=trip.destinationLocation)===null||_trip$destinationLoca===void 0?void 0:_trip$destinationLoca.city)||'Unknown']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right mt-2 md:mt-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-blue-600\",children:[\"RM \",trip.price?trip.price.toFixed(2):'0.00']}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"per person\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"Departure\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:(()=>{try{return trip.departureDatetime?format(new Date(trip.departureDatetime),'HH:mm'):'--:--';}catch(error){return'--:--';}})()})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"Arrival\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:(()=>{try{const arrivalTime=trip.estimatedArrivalDatetime||trip.arrivalDatetime;return arrivalTime?format(new Date(arrivalTime),'HH:mm'):'--:--';}catch(error){return'--:--';}})()})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"Available\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold\",children:[trip.availableSeats,\" seats\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"Vehicle\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:((_trip$vehicleType=trip.vehicleType)===null||_trip$vehicleType===void 0?void 0:_trip$vehicleType.name)||'Standard Bus'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 mt-4 pt-4 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-4 h-4 inline-block mr-1\"}),\"Duration: \",(_trip$route2=trip.route)!==null&&_trip$route2!==void 0&&_trip$route2.estimatedDurationMinutes?\"\".concat(Math.floor(trip.route.estimatedDurationMinutes/60),\"h \").concat(trip.route.estimatedDurationMinutes%60,\"m\"):(_trip$route3=trip.route)!==null&&_trip$route3!==void 0&&_trip$route3.durationHours?\"\".concat(trip.route.durationHours,\"h\"):'--',\" \\u2022 Distance: \",((_trip$route4=trip.route)===null||_trip$route4===void 0?void 0:_trip$route4.distanceKm)||((_trip$route5=trip.route)===null||_trip$route5===void 0?void 0:_trip$route5.distance_km)||'--',\" km\"]}),trip.availableSeats>0?/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSelectTrip(trip),className:\"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md\",children:\"Select Seats\"}):/*#__PURE__*/_jsx(\"button\",{disabled:true,className:\"bg-gray-300 text-gray-500 font-medium py-2 px-4 rounded-md cursor-not-allowed\",children:\"Sold Out\"})]})]},trip.id);}),searchResults.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Bus,{className:\"w-16 h-16 text-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-medium text-gray-700\",children:\"No trips found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mt-2\",children:\"Try adjusting your search criteria\"})]})]})]})]});};export default AdminCustomerServicePortal;","map":{"version":3,"names":["React","useEffect","useState","format","addDays","MapPin","Clock","Search","Calendar","Bus","useApp","useNavigate","jsx","_jsx","jsxs","_jsxs","AdminCustomerServicePortal","searchTrips","searchResults","searchParams","isLoading","selectTrip","loadAllTrips","addNotification","locations","systemDate","navigate","searchForm","setSearchForm","origin","destination","date","handleSearch","e","preventDefault","error","type","message","handleSelectTrip","trip","concat","id","console","getLocationName","locationId","location","find","loc","city","formatDuration","minutes","hours","Math","floor","mins","safeFormatTime","dateStr","timeStr","dateTime","Date","isNaN","getTime","safeFormatDate","formatStr","dateObj","className","children","onSubmit","value","onChange","prev","_objectSpread","target","map","min","max","disabled","length","_trip$route","_trip$originLocation","_trip$destinationLoca","_trip$vehicleType","_trip$route2","_trip$route3","_trip$route4","_trip$route5","route","name","originLocation","destinationLocation","price","toFixed","departureDatetime","arrivalTime","estimatedArrivalDatetime","arrivalDatetime","availableSeats","vehicleType","estimatedDurationMinutes","durationHours","distanceKm","distance_km","onClick"],"sources":["/Users/gohshunda/TWT-Transport-Booking/src/pages/admin/AdminCustomerServicePortal.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { format, addDays } from 'date-fns';\nimport { \n  MapPin, \n  Clock, \n  Search,\n  Calendar,\n  Bus\n} from 'lucide-react';\nimport { useApp } from '../../context/AppContext';\nimport { useNavigate } from 'react-router-dom';\n\nconst AdminCustomerServicePortal = () => {\n  const { \n    searchTrips, \n    searchResults, \n    searchParams, \n    isLoading, \n    selectTrip, \n    loadAllTrips, \n    addNotification, \n    locations, \n    systemDate \n  } = useApp();\n  \n  const navigate = useNavigate();\n  \n  // Search form state\n  const [searchForm, setSearchForm] = useState({\n    origin: searchParams.origin || '',\n    destination: searchParams.destination || '',\n    date: searchParams.date || systemDate\n  });\n  \n  // Load all trips when component mounts only once\n  useEffect(() => {\n    // Only load trips once when the component mounts\n    loadAllTrips();\n    // No dependencies array to ensure it only runs once\n  }, []);\n  \n  // Update search form when searchParams change\n  useEffect(() => {\n    setSearchForm({\n      origin: searchParams.origin || '',\n      destination: searchParams.destination || '',\n      date: searchParams.date || systemDate\n    });\n  }, [searchParams, systemDate]);\n  \n  const handleSearch = async (e) => {\n    e.preventDefault();\n    \n    try {\n      await searchTrips(searchForm);\n    } catch (error) {\n      addNotification({\n        type: 'error',\n        message: 'Search failed. Please try again.'\n      });\n    }\n  };\n  \n  const handleSelectTrip = async (trip) => {\n    try {\n      await selectTrip(trip);\n      navigate(`/trip/${trip.id}`);\n    } catch (error) {\n      console.error('Failed to select trip:', error);\n    }\n  };\n  \n  // Get location names for display\n  const getLocationName = (locationId) => {\n    const location = locations.find(loc => loc.id === locationId);\n    return location ? location.city : 'Unknown';\n  };\n\n  // Duration formatting helper\n  const formatDuration = (minutes) => {\n    const hours = Math.floor(minutes / 60);\n    const mins = minutes % 60;\n    return `${hours}h ${mins}m`;\n  };\n  \n  // Safe format function to handle invalid date values\n  const safeFormatTime = (dateStr, timeStr) => {\n    try {\n      if (!dateStr || !timeStr) return '--:--';\n      const dateTime = new Date(`${dateStr}T${timeStr}`);\n      // Check if date is valid\n      if (isNaN(dateTime.getTime())) return '--:--';\n      return format(dateTime, 'HH:mm');\n    } catch (error) {\n      console.error('Error formatting time:', error);\n      return '--:--';\n    }\n  };\n  \n  // Safe format for date strings\n  const safeFormatDate = (date, formatStr) => {\n    try {\n      if (!date) return '';\n      const dateObj = typeof date === 'string' ? new Date(date) : date;\n      if (isNaN(dateObj.getTime())) return '';\n      return format(dateObj, formatStr);\n    } catch (error) {\n      console.error('Error formatting date:', error);\n      return '';\n    }\n  };\n  \n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Searching for trips...</p>\n        </div>\n      </div>\n    );\n  }\n  \n  return (\n    <div className=\"p-6 max-w-6xl mx-auto\">\n      <h1 className=\"text-2xl font-bold mb-6\">Customer Service Portal</h1>\n      \n      {/* Search Form */}\n      <div className=\"bg-white shadow rounded-lg mb-6 p-4\">\n        <form onSubmit={handleSearch} className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          {/* From */}\n          <div>\n            <div className=\"flex items-center mb-2\">\n              <MapPin className=\"w-5 h-5 text-gray-500 mr-2\" />\n              <label className=\"text-gray-700 font-medium\">From</label>\n            </div>\n            <select\n              value={searchForm.origin}\n              onChange={(e) => setSearchForm(prev => ({ ...prev, origin: e.target.value }))}\n              className=\"w-full border border-gray-300 rounded-md p-2\"\n            >\n              <option value=\"\">Select origin</option>\n              {locations.map(location => (\n                <option key={location.id} value={location.id}>\n                  {location.city}\n                </option>\n              ))}\n            </select>\n          </div>\n          \n          {/* To */}\n          <div>\n            <div className=\"flex items-center mb-2\">\n              <MapPin className=\"w-5 h-5 text-gray-500 mr-2\" />\n              <label className=\"text-gray-700 font-medium\">To</label>\n            </div>\n            <select\n              value={searchForm.destination}\n              onChange={(e) => setSearchForm(prev => ({ ...prev, destination: e.target.value }))}\n              className=\"w-full border border-gray-300 rounded-md p-2\"\n            >\n              <option value=\"\">Select destination</option>\n              {locations.map(location => (\n                <option key={location.id} value={location.id}>\n                  {location.city}\n                </option>\n              ))}\n            </select>\n          </div>\n          \n          {/* Date */}\n          <div>\n            <div className=\"flex items-center mb-2\">\n              <Calendar className=\"w-5 h-5 text-gray-500 mr-2\" />\n              <label className=\"text-gray-700 font-medium\">Date</label>\n            </div>\n            <input\n              type=\"date\"\n              value={searchForm.date}\n              onChange={(e) => setSearchForm(prev => ({ ...prev, date: e.target.value }))}\n              min={systemDate}\n              max={safeFormatDate(addDays(new Date(systemDate || new Date()), 90), 'yyyy-MM-dd')}\n              className=\"w-full border border-gray-300 rounded-md p-2\"\n            />\n          </div>\n          \n          {/* Search Button */}\n          <div className=\"flex items-end\">\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md flex items-center justify-center\"\n            >\n              <Search className=\"w-5 h-5 mr-2\" />\n              Search\n            </button>\n          </div>\n        </form>\n      </div>\n      \n      {/* Search Results */}\n      <div className=\"bg-white shadow rounded-lg mb-6 p-4\">\n        <div className=\"flex flex-col md:flex-row justify-between mb-4\">\n          <div>\n            <h2 className=\"text-xl font-bold\">{searchParams.origin && searchParams.destination ? 'Search Results' : 'All Available Trips'}</h2>\n            <p className=\"text-gray-600\">\n              {searchParams.origin && searchParams.destination \n                ? `${getLocationName(searchParams.origin)} to ${getLocationName(searchParams.destination)}`\n                : 'Showing all available trips across Malaysia'}\n            </p>\n          </div>\n          <div className=\"mt-2 md:mt-0\">\n            <p className=\"text-gray-600\">\n              Found <span className=\"font-semibold\">{searchResults.length}</span> trips\n            </p>\n          </div>\n        </div>\n        \n        {/* Trip Cards */}\n        <div className=\"space-y-4\">\n          {searchResults.map((trip) => (\n            <div key={trip.id} className=\"border border-gray-200 rounded-lg p-4\">\n              <div className=\"flex flex-col md:flex-row justify-between\">\n                <div>\n                  <h3 className=\"text-lg font-bold\">{trip.route?.name || 'Unknown Route'}</h3>\n                  <p className=\"text-gray-600\">\n                    {trip.originLocation?.city || 'Unknown'} → {trip.destinationLocation?.city || 'Unknown'}\n                  </p>\n                </div>\n                <div className=\"text-right mt-2 md:mt-0\">\n                  <div className=\"text-2xl font-bold text-blue-600\">\n                    RM {trip.price ? trip.price.toFixed(2) : '0.00'}\n                  </div>\n                  <p className=\"text-gray-500\">per person</p>\n                </div>\n              </div>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4\">\n                <div>\n                  <p className=\"text-gray-600 text-sm\">Departure</p>\n                  <p className=\"font-semibold\">\n                    {(() => {\n                      try {\n                        return trip.departureDatetime ? format(new Date(trip.departureDatetime), 'HH:mm') : '--:--';\n                      } catch (error) {\n                        return '--:--';\n                      }\n                    })()}\n                  </p>\n                </div>\n                \n                <div>\n                  <p className=\"text-gray-600 text-sm\">Arrival</p>\n                  <p className=\"font-semibold\">\n                    {(() => {\n                      try {\n                        const arrivalTime = trip.estimatedArrivalDatetime || trip.arrivalDatetime;\n                        return arrivalTime ? format(new Date(arrivalTime), 'HH:mm') : '--:--';\n                      } catch (error) {\n                        return '--:--';\n                      }\n                    })()}\n                  </p>\n                </div>\n                \n                <div>\n                  <p className=\"text-gray-600 text-sm\">Available</p>\n                  <p className=\"font-semibold\">{trip.availableSeats} seats</p>\n                </div>\n                \n                <div>\n                  <p className=\"text-gray-600 text-sm\">Vehicle</p>\n                  <p className=\"font-semibold\">\n                    {trip.vehicleType?.name || 'Standard Bus'}\n                  </p>\n                </div>\n              </div>\n              \n              <div className=\"border-t border-gray-200 mt-4 pt-4 flex justify-between items-center\">\n                <div className=\"text-sm text-gray-600\">\n                  <Clock className=\"w-4 h-4 inline-block mr-1\" />\n                  Duration: {\n                    trip.route?.estimatedDurationMinutes \n                      ? `${Math.floor(trip.route.estimatedDurationMinutes / 60)}h ${trip.route.estimatedDurationMinutes % 60}m`\n                      : trip.route?.durationHours \n                        ? `${trip.route.durationHours}h`\n                        : '--'\n                  } • \n                  Distance: {trip.route?.distanceKm || trip.route?.distance_km || '--'} km\n                </div>\n                \n                {trip.availableSeats > 0 ? (\n                  <button\n                    onClick={() => handleSelectTrip(trip)}\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md\"\n                  >\n                    Select Seats\n                  </button>\n                ) : (\n                  <button\n                    disabled\n                    className=\"bg-gray-300 text-gray-500 font-medium py-2 px-4 rounded-md cursor-not-allowed\"\n                  >\n                    Sold Out\n                  </button>\n                )}\n              </div>\n            </div>\n          ))}\n          \n          {searchResults.length === 0 && (\n            <div className=\"text-center py-12\">\n              <Bus className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n              <h3 className=\"text-xl font-medium text-gray-700\">No trips found</h3>\n              <p className=\"text-gray-500 mt-2\">Try adjusting your search criteria</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminCustomerServicePortal; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}