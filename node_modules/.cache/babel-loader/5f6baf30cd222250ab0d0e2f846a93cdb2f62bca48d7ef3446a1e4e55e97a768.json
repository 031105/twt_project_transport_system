{"ast":null,"code":"import React from'react';import{useNavigate}from'react-router-dom';import Navbar from'../components/layout/Navbar';import Sidebar from'../components/layout/Sidebar';import{useApp}from'../context/AppContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminLayout=_ref=>{let{children}=_ref;const{currentUser,isAuthenticated}=useApp();const navigate=useNavigate();// 检查用户是否是管理员\nReact.useEffect(()=>{if(!isAuthenticated){navigate('/login');}else if((currentUser===null||currentUser===void 0?void 0:currentUser.role)!=='admin'){navigate('/');}},[isAuthenticated,currentUser,navigate]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"flex\",children:/*#__PURE__*/_jsx(\"main\",{className:\"flex-1 p-6\",children:children})})]});};export default AdminLayout;","map":{"version":3,"names":["React","useNavigate","Navbar","Sidebar","useApp","jsx","_jsx","jsxs","_jsxs","AdminLayout","_ref","children","currentUser","isAuthenticated","navigate","useEffect","role","className"],"sources":["/Users/gohshunda/TWT-Transport-Booking/src/layouts/AdminLayout.js"],"sourcesContent":["import React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Navbar from '../components/layout/Navbar';\nimport Sidebar from '../components/layout/Sidebar';\nimport { useApp } from '../context/AppContext';\n\nconst AdminLayout = ({ children }) => {\n  const { currentUser, isAuthenticated } = useApp();\n  const navigate = useNavigate();\n\n  // 检查用户是否是管理员\n  React.useEffect(() => {\n    if (!isAuthenticated) {\n      navigate('/login');\n    } else if (currentUser?.role !== 'admin') {\n      navigate('/');\n    }\n  }, [isAuthenticated, currentUser, navigate]);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navbar />\n      <div className=\"flex\">\n        {/* 可选: 如果需要侧边栏 */}\n        {/* <Sidebar /> */}\n        <main className=\"flex-1 p-6\">\n          {children}\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminLayout; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,MAAM,KAAM,6BAA6B,CAChD,MAAO,CAAAC,OAAO,KAAM,8BAA8B,CAClD,OAASC,MAAM,KAAQ,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC/B,KAAM,CAAEE,WAAW,CAAEC,eAAgB,CAAC,CAAGT,MAAM,CAAC,CAAC,CACjD,KAAM,CAAAU,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAE9B;AACAD,KAAK,CAACe,SAAS,CAAC,IAAM,CACpB,GAAI,CAACF,eAAe,CAAE,CACpBC,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,IAAM,IAAI,CAAAF,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEI,IAAI,IAAK,OAAO,CAAE,CACxCF,QAAQ,CAAC,GAAG,CAAC,CACf,CACF,CAAC,CAAE,CAACD,eAAe,CAAED,WAAW,CAAEE,QAAQ,CAAC,CAAC,CAE5C,mBACEN,KAAA,QAAKS,SAAS,CAAC,yBAAyB,CAAAN,QAAA,eACtCL,IAAA,CAACJ,MAAM,GAAE,CAAC,cACVI,IAAA,QAAKW,SAAS,CAAC,MAAM,CAAAN,QAAA,cAGnBL,IAAA,SAAMW,SAAS,CAAC,YAAY,CAAAN,QAAA,CACzBA,QAAQ,CACL,CAAC,CACJ,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAF,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}