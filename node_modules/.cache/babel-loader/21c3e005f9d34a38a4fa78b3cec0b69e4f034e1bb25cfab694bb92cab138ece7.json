{"ast":null,"code":"var _jsxFileName = \"/Users/gohshunda/TWT-Transport-Booking/src/components/admin/RouteManagement.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Route as RouteIcon, Plus, Edit, Trash, Search, X, Check, Map, ArrowRight, Clock, DollarSign, Bus } from 'lucide-react';\nimport { getAllRoutes, getAllLocations, createRoute, updateRoute, deleteRoute } from '../../services/adminApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RouteManagement = () => {\n  _s();\n  const [routes, setRoutes] = useState([]);\n  const [filteredRoutes, setFilteredRoutes] = useState([]);\n  const [locations, setLocations] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [currentRoute, setCurrentRoute] = useState(null);\n  const [formData, setFormData] = useState({\n    name: '',\n    basePrice: '',\n    routeType: 'standard',\n    stops: [{\n      locationId: '',\n      isOrigin: true,\n      isDestination: false,\n      arrivalOffsetMinutes: 0,\n      departureOffsetMinutes: 10,\n      priceFromOrigin: 0\n    }, {\n      locationId: '',\n      isOrigin: false,\n      isDestination: true,\n      arrivalOffsetMinutes: 120,\n      departureOffsetMinutes: 0,\n      priceFromOrigin: 0\n    }]\n  });\n\n  // 加载所有路线\n  const loadRoutes = async () => {\n    setLoading(true);\n    try {\n      const response = await getAllRoutes();\n      if (response.success) {\n        setRoutes(response.data);\n        setFilteredRoutes(response.data);\n      } else {\n        alert('Failed to load routes: ' + (response.error || 'Unknown error'));\n      }\n    } catch (error) {\n      console.error('Error loading routes:', error);\n      alert('An error occurred while loading routes');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 加载所有站点\n  const loadLocations = async () => {\n    try {\n      const response = await getAllLocations();\n      if (response.success) {\n        setLocations(response.data);\n      } else {\n        alert('Failed to load locations: ' + (response.error || 'Unknown error'));\n      }\n    } catch (error) {\n      console.error('Error loading locations:', error);\n      alert('An error occurred while loading locations');\n    }\n  };\n\n  // 初始化加载\n  useEffect(() => {\n    loadRoutes();\n    loadLocations();\n  }, []);\n\n  // 搜索过滤\n  useEffect(() => {\n    if (searchTerm.trim() === '') {\n      setFilteredRoutes(routes);\n    } else {\n      const term = searchTerm.toLowerCase();\n      const filtered = routes.filter(route => {\n        var _route$originLocation, _route$originLocation2, _route$destinationLoc, _route$destinationLoc2;\n        return route.name.toLowerCase().includes(term) || ((_route$originLocation = route.originLocation) === null || _route$originLocation === void 0 ? void 0 : (_route$originLocation2 = _route$originLocation.name) === null || _route$originLocation2 === void 0 ? void 0 : _route$originLocation2.toLowerCase().includes(term)) || ((_route$destinationLoc = route.destinationLocation) === null || _route$destinationLoc === void 0 ? void 0 : (_route$destinationLoc2 = _route$destinationLoc.name) === null || _route$destinationLoc2 === void 0 ? void 0 : _route$destinationLoc2.toLowerCase().includes(term));\n      });\n      setFilteredRoutes(filtered);\n    }\n  }, [searchTerm, routes]);\n\n  // 表单处理\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // 处理站点变更\n  const handleStopChange = (index, field, value) => {\n    setFormData(prev => {\n      const newStops = [...prev.stops];\n      newStops[index] = {\n        ...newStops[index],\n        [field]: value\n      };\n\n      // 如果设置为起点，其他站点不能是起点\n      if (field === 'isOrigin' && value === true) {\n        newStops.forEach((stop, i) => {\n          if (i !== index) {\n            newStops[i] = {\n              ...newStops[i],\n              isOrigin: false\n            };\n          }\n        });\n      }\n\n      // 如果设置为终点，其他站点不能是终点\n      if (field === 'isDestination' && value === true) {\n        newStops.forEach((stop, i) => {\n          if (i !== index) {\n            newStops[i] = {\n              ...newStops[i],\n              isDestination: false\n            };\n          }\n        });\n      }\n      return {\n        ...prev,\n        stops: newStops\n      };\n    });\n  };\n\n  // 添加新站点\n  const addStop = () => {\n    setFormData(prev => {\n      const newStops = [...prev.stops];\n      // 在倒数第二个位置添加新站点（在终点站之前）\n      const lastIndex = newStops.length - 1;\n      const newStop = {\n        locationId: '',\n        isOrigin: false,\n        isDestination: false,\n        arrivalOffsetMinutes: newStops[lastIndex].arrivalOffsetMinutes - 30,\n        departureOffsetMinutes: newStops[lastIndex].arrivalOffsetMinutes - 20,\n        priceFromOrigin: 0\n      };\n      newStops.splice(lastIndex, 0, newStop);\n      return {\n        ...prev,\n        stops: newStops\n      };\n    });\n  };\n\n  // 删除站点\n  const removeStop = index => {\n    setFormData(prev => {\n      const newStops = [...prev.stops];\n      // 不能删除起点或终点\n      if (newStops[index].isOrigin || newStops[index].isDestination) {\n        alert('Cannot remove origin or destination stops');\n        return prev;\n      }\n\n      // 需要至少保留两个站点（起点和终点）\n      if (newStops.length <= 2) {\n        alert('Route must have at least two stops');\n        return prev;\n      }\n      newStops.splice(index, 1);\n      return {\n        ...prev,\n        stops: newStops\n      };\n    });\n  };\n\n  // 打开创建模态框\n  const openCreateModal = () => {\n    var _locations$, _locations$2;\n    // 检查是否有足够的站点\n    if (locations.length < 2) {\n      alert('You need at least two locations to create a route. Please add locations first.');\n      return;\n    }\n    setFormData({\n      name: '',\n      basePrice: '',\n      routeType: 'standard',\n      stops: [{\n        locationId: ((_locations$ = locations[0]) === null || _locations$ === void 0 ? void 0 : _locations$.id) || '',\n        isOrigin: true,\n        isDestination: false,\n        arrivalOffsetMinutes: 0,\n        departureOffsetMinutes: 10,\n        priceFromOrigin: 0\n      }, {\n        locationId: ((_locations$2 = locations[1]) === null || _locations$2 === void 0 ? void 0 : _locations$2.id) || '',\n        isOrigin: false,\n        isDestination: true,\n        arrivalOffsetMinutes: 120,\n        departureOffsetMinutes: 0,\n        priceFromOrigin: 0\n      }]\n    });\n    setShowCreateModal(true);\n  };\n\n  // 打开编辑模态框\n  const openEditModal = route => {\n    setCurrentRoute(route);\n\n    // 准备表单数据\n    const formattedStops = route.stops.map(stop => ({\n      id: stop.id,\n      locationId: stop.locationId,\n      isOrigin: stop.isOrigin,\n      isDestination: stop.isDestination,\n      arrivalOffsetMinutes: stop.arrivalOffsetMinutes,\n      departureOffsetMinutes: stop.departureOffsetMinutes,\n      priceFromOrigin: stop.priceFromOrigin\n    }));\n    setFormData({\n      name: route.name || '',\n      basePrice: route.basePrice || '',\n      routeType: route.routeType || 'standard',\n      stops: formattedStops\n    });\n    setShowEditModal(true);\n  };\n\n  // 创建路线\n  const handleCreateRoute = async () => {\n    // 基本验证\n    if (!formData.name || !formData.basePrice) {\n      alert('Name and base price are required fields');\n      return;\n    }\n\n    // 验证站点\n    const hasOrigin = formData.stops.some(stop => stop.isOrigin);\n    const hasDestination = formData.stops.some(stop => stop.isDestination);\n    if (!hasOrigin || !hasDestination) {\n      alert('Route must have both origin and destination stops');\n      return;\n    }\n\n    // 验证所有站点都有选择位置\n    const allStopsHaveLocation = formData.stops.every(stop => stop.locationId);\n    if (!allStopsHaveLocation) {\n      alert('All stops must have a location selected');\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await createRoute(formData);\n      if (response.success) {\n        setShowCreateModal(false);\n        loadRoutes();\n        alert('Route created successfully');\n      } else {\n        alert('Failed to create route: ' + (response.error || 'Unknown error'));\n      }\n    } catch (error) {\n      console.error('Error creating route:', error);\n      alert('An error occurred while creating the route');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 更新路线\n  const handleUpdateRoute = async () => {\n    if (!currentRoute || !currentRoute.id) {\n      alert('No route selected for update');\n      return;\n    }\n\n    // 基本验证\n    if (!formData.name || !formData.basePrice) {\n      alert('Name and base price are required fields');\n      return;\n    }\n\n    // 验证站点\n    const hasOrigin = formData.stops.some(stop => stop.isOrigin);\n    const hasDestination = formData.stops.some(stop => stop.isDestination);\n    if (!hasOrigin || !hasDestination) {\n      alert('Route must have both origin and destination stops');\n      return;\n    }\n\n    // 验证所有站点都有选择位置\n    const allStopsHaveLocation = formData.stops.every(stop => stop.locationId);\n    if (!allStopsHaveLocation) {\n      alert('All stops must have a location selected');\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await updateRoute(currentRoute.id, formData);\n      if (response.success) {\n        setShowEditModal(false);\n        loadRoutes();\n        alert('Route updated successfully');\n      } else {\n        alert('Failed to update route: ' + (response.error || 'Unknown error'));\n      }\n    } catch (error) {\n      console.error('Error updating route:', error);\n      alert('An error occurred while updating the route');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 删除路线\n  const handleDeleteRoute = async routeId => {\n    if (!window.confirm('Are you sure you want to delete this route? This action cannot be undone.')) {\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await deleteRoute(routeId);\n      if (response.success) {\n        loadRoutes();\n        alert('Route deleted successfully');\n      } else {\n        alert('Failed to delete route: ' + (response.error || 'Unknown error'));\n      }\n    } catch (error) {\n      console.error('Error deleting route:', error);\n      alert('An error occurred while deleting the route');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 格式化时间偏移为小时:分钟\n  const formatTimeOffset = minutes => {\n    const hours = Math.floor(minutes / 60);\n    const mins = minutes % 60;\n    return `${hours.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}`;\n  };\n\n  // 获取站点名称\n  const getLocationName = locationId => {\n    const location = locations.find(loc => loc.id === locationId);\n    return location ? location.name : 'Unknown Location';\n  };\n\n  // 表单模态框\n  const RouteFormModal = ({\n    isCreate,\n    onClose,\n    onSubmit\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold\",\n          children: isCreate ? 'Create New Route' : 'Edit Route'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-400 hover:text-gray-600\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Route Name *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            value: formData.name,\n            onChange: handleInputChange,\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n            required: true,\n            placeholder: \"e.g. KL Express\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Base Price (RM) *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"basePrice\",\n            value: formData.basePrice,\n            onChange: handleInputChange,\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n            required: true,\n            placeholder: \"e.g. 35.50\",\n            min: \"0\",\n            step: \"0.01\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Route Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"routeType\",\n            value: formData.routeType,\n            onChange: handleInputChange,\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"standard\",\n              children: \"Standard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"express\",\n              children: \"Express\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"vip\",\n              children: \"VIP\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"night\",\n              children: \"Night Service\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-medium text-gray-800\",\n            children: \"Route Stops\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: addStop,\n            className: \"text-sm flex items-center text-blue-600 hover:text-blue-800\",\n            children: [/*#__PURE__*/_jsxDEV(Plus, {\n              className: \"w-4 h-4 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 15\n            }, this), \"Add Intermediate Stop\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: formData.stops.map((stop, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border border-gray-200 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `w-8 h-8 rounded-full flex items-center justify-center mr-2 ${stop.isOrigin ? 'bg-green-100 text-green-600' : stop.isDestination ? 'bg-red-100 text-red-600' : 'bg-blue-100 text-blue-600'}`,\n                  children: index + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"font-medium\",\n                  children: stop.isOrigin ? 'Origin' : stop.isDestination ? 'Destination' : 'Intermediate Stop'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 19\n              }, this), !stop.isOrigin && !stop.isDestination && /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => removeStop(index),\n                className: \"text-red-500 hover:text-red-700\",\n                children: /*#__PURE__*/_jsxDEV(Trash, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Location *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: stop.locationId,\n                  onChange: e => handleStopChange(index, 'locationId', e.target.value),\n                  className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select a location\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 491,\n                    columnNumber: 23\n                  }, this), locations.map(location => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: location.id,\n                    children: [location.name, \" (\", location.city, \")\"]\n                  }, location.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 493,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex space-x-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    id: `origin-${index}`,\n                    checked: stop.isOrigin,\n                    onChange: e => handleStopChange(index, 'isOrigin', e.target.checked),\n                    className: \"mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 502,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: `origin-${index}`,\n                    className: \"text-sm\",\n                    children: \"Origin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 509,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    id: `destination-${index}`,\n                    checked: stop.isDestination,\n                    onChange: e => handleStopChange(index, 'isDestination', e.target.checked),\n                    className: \"mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 513,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: `destination-${index}`,\n                    className: \"text-sm\",\n                    children: \"Destination\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 520,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 512,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Arrival Time Offset (minutes)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 525,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: stop.arrivalOffsetMinutes,\n                  onChange: e => handleStopChange(index, 'arrivalOffsetMinutes', parseInt(e.target.value) || 0),\n                  className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                  min: \"0\",\n                  disabled: stop.isOrigin // 起点没有到达时间\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 528,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Departure Time Offset (minutes)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 539,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: stop.departureOffsetMinutes,\n                  onChange: e => handleStopChange(index, 'departureOffsetMinutes', parseInt(e.target.value) || 0),\n                  className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                  min: \"0\",\n                  disabled: stop.isDestination // 终点没有出发时间\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 542,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 538,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Price from Origin (RM)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 553,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: stop.priceFromOrigin,\n                  onChange: e => handleStopChange(index, 'priceFromOrigin', parseFloat(e.target.value) || 0),\n                  className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                  min: \"0\",\n                  step: \"0.01\",\n                  disabled: stop.isOrigin // 起点价格始终为0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 556,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-3 mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-primary flex-1 flex items-center justify-center\",\n          onClick: onSubmit,\n          disabled: loading,\n          children: loading ? 'Processing...' : isCreate ? 'Create Route' : 'Update Route'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-secondary flex-1\",\n          onClick: onClose,\n          disabled: loading,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 374,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-900\",\n        children: \"Route Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-primary flex items-center\",\n        onClick: openCreateModal,\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          className: \"w-4 h-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 11\n        }, this), \"Add New Route\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 594,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search routes by name or location...\",\n        value: searchTerm,\n        onChange: e => setSearchTerm(e.target.value),\n        className: \"w-full px-4 py-2 pl-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 607,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Search, {\n        className: \"w-5 h-5 text-gray-400 absolute left-3 top-2.5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 614,\n        columnNumber: 9\n      }, this), searchTerm && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSearchTerm(''),\n        className: \"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 620,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 616,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 606,\n      columnNumber: 7\n    }, this), loading && !filteredRoutes.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 628,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-2 text-gray-600\",\n        children: \"Loading routes...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 627,\n      columnNumber: 9\n    }, this) : filteredRoutes.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-10 border border-dashed border-gray-300 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(RouteIcon, {\n        className: \"w-12 h-12 text-gray-400 mx-auto mb-3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 633,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium text-gray-900\",\n        children: \"No routes found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 634,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500 mt-1\",\n        children: searchTerm ? 'Try a different search term' : 'Add your first route to get started'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 635,\n        columnNumber: 11\n      }, this), searchTerm && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSearchTerm(''),\n        className: \"mt-3 text-blue-600 hover:text-blue-800\",\n        children: \"Clear search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 639,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 632,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: filteredRoutes.map(route => {\n        var _route$originLocation3, _route$destinationLoc3, _route$stops;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card hover:shadow-md transition-shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\",\n                children: /*#__PURE__*/_jsxDEV(Bus, {\n                  className: \"w-5 h-5 text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 654,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 653,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold text-gray-900\",\n                  children: route.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 657,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600 capitalize\",\n                  children: [route.routeType, \" Route\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 658,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 656,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 652,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => openEditModal(route),\n                className: \"p-1 text-gray-500 hover:text-blue-600\",\n                title: \"Edit route\",\n                children: /*#__PURE__*/_jsxDEV(Edit, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 667,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 662,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteRoute(route.id),\n                className: \"p-1 text-gray-500 hover:text-red-600\",\n                title: \"Delete route\",\n                children: /*#__PURE__*/_jsxDEV(Trash, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 674,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 669,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 661,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 651,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(Map, {\n                className: \"w-4 h-4 mr-2 text-gray-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 681,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: (_route$originLocation3 = route.originLocation) === null || _route$originLocation3 === void 0 ? void 0 : _route$originLocation3.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 683,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ArrowRight, {\n                  className: \"w-4 h-4 mx-2 text-gray-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 684,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: (_route$destinationLoc3 = route.destinationLocation) === null || _route$destinationLoc3 === void 0 ? void 0 : _route$destinationLoc3.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 685,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 682,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-4 text-sm text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(Clock, {\n                  className: \"w-4 h-4 mr-1 text-gray-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 691,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: ((_route$stops = route.stops) === null || _route$stops === void 0 ? void 0 : _route$stops.length) > 2 ? `${route.stops.length - 2} intermediate stops` : 'Direct route'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 692,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 690,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                  className: \"w-4 h-4 mr-1 text-gray-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 698,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"RM \", parseFloat(route.basePrice).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 699,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 697,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 15\n          }, this)]\n        }, route.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 650,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 648,\n      columnNumber: 9\n    }, this), showCreateModal && /*#__PURE__*/_jsxDEV(RouteFormModal, {\n      isCreate: true,\n      onClose: () => setShowCreateModal(false),\n      onSubmit: handleCreateRoute\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 710,\n      columnNumber: 9\n    }, this), showEditModal && /*#__PURE__*/_jsxDEV(RouteFormModal, {\n      isCreate: false,\n      onClose: () => setShowEditModal(false),\n      onSubmit: handleUpdateRoute\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 593,\n    columnNumber: 5\n  }, this);\n};\n_s(RouteManagement, \"Tn4agaIsHHxUVL2bWxKMMPxKUhM=\");\n_c = RouteManagement;\nexport default RouteManagement;\nvar _c;\n$RefreshReg$(_c, \"RouteManagement\");","map":{"version":3,"names":["React","useState","useEffect","Route","RouteIcon","Plus","Edit","Trash","Search","X","Check","Map","ArrowRight","Clock","DollarSign","Bus","getAllRoutes","getAllLocations","createRoute","updateRoute","deleteRoute","jsxDEV","_jsxDEV","RouteManagement","_s","routes","setRoutes","filteredRoutes","setFilteredRoutes","locations","setLocations","loading","setLoading","searchTerm","setSearchTerm","showCreateModal","setShowCreateModal","showEditModal","setShowEditModal","currentRoute","setCurrentRoute","formData","setFormData","name","basePrice","routeType","stops","locationId","isOrigin","isDestination","arrivalOffsetMinutes","departureOffsetMinutes","priceFromOrigin","loadRoutes","response","success","data","alert","error","console","loadLocations","trim","term","toLowerCase","filtered","filter","route","_route$originLocation","_route$originLocation2","_route$destinationLoc","_route$destinationLoc2","includes","originLocation","destinationLocation","handleInputChange","e","value","target","prev","handleStopChange","index","field","newStops","forEach","stop","i","addStop","lastIndex","length","newStop","splice","removeStop","openCreateModal","_locations$","_locations$2","id","openEditModal","formattedStops","map","handleCreateRoute","hasOrigin","some","hasDestination","allStopsHaveLocation","every","handleUpdateRoute","handleDeleteRoute","routeId","window","confirm","formatTimeOffset","minutes","hours","Math","floor","mins","toString","padStart","getLocationName","location","find","loc","RouteFormModal","isCreate","onClose","onSubmit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","onChange","required","placeholder","min","step","city","checked","htmlFor","parseInt","disabled","parseFloat","_route$originLocation3","_route$destinationLoc3","_route$stops","title","toFixed","_c","$RefreshReg$"],"sources":["/Users/gohshunda/TWT-Transport-Booking/src/components/admin/RouteManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Route as RouteIcon, \n  Plus, \n  Edit, \n  Trash, \n  Search, \n  X, \n  Check, \n  Map,\n  ArrowRight,\n  Clock,\n  DollarSign,\n  Bus\n} from 'lucide-react';\nimport { \n  getAllRoutes, \n  getAllLocations,\n  createRoute, \n  updateRoute, \n  deleteRoute \n} from '../../services/adminApi';\n\nconst RouteManagement = () => {\n  const [routes, setRoutes] = useState([]);\n  const [filteredRoutes, setFilteredRoutes] = useState([]);\n  const [locations, setLocations] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [currentRoute, setCurrentRoute] = useState(null);\n  const [formData, setFormData] = useState({\n    name: '',\n    basePrice: '',\n    routeType: 'standard',\n    stops: [\n      {\n        locationId: '',\n        isOrigin: true,\n        isDestination: false,\n        arrivalOffsetMinutes: 0,\n        departureOffsetMinutes: 10,\n        priceFromOrigin: 0\n      },\n      {\n        locationId: '',\n        isOrigin: false,\n        isDestination: true,\n        arrivalOffsetMinutes: 120,\n        departureOffsetMinutes: 0,\n        priceFromOrigin: 0\n      }\n    ]\n  });\n\n  // 加载所有路线\n  const loadRoutes = async () => {\n    setLoading(true);\n    try {\n      const response = await getAllRoutes();\n      if (response.success) {\n        setRoutes(response.data);\n        setFilteredRoutes(response.data);\n      } else {\n        alert('Failed to load routes: ' + (response.error || 'Unknown error'));\n      }\n    } catch (error) {\n      console.error('Error loading routes:', error);\n      alert('An error occurred while loading routes');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 加载所有站点\n  const loadLocations = async () => {\n    try {\n      const response = await getAllLocations();\n      if (response.success) {\n        setLocations(response.data);\n      } else {\n        alert('Failed to load locations: ' + (response.error || 'Unknown error'));\n      }\n    } catch (error) {\n      console.error('Error loading locations:', error);\n      alert('An error occurred while loading locations');\n    }\n  };\n\n  // 初始化加载\n  useEffect(() => {\n    loadRoutes();\n    loadLocations();\n  }, []);\n\n  // 搜索过滤\n  useEffect(() => {\n    if (searchTerm.trim() === '') {\n      setFilteredRoutes(routes);\n    } else {\n      const term = searchTerm.toLowerCase();\n      const filtered = routes.filter(\n        route => \n          route.name.toLowerCase().includes(term) || \n          route.originLocation?.name?.toLowerCase().includes(term) || \n          route.destinationLocation?.name?.toLowerCase().includes(term)\n      );\n      setFilteredRoutes(filtered);\n    }\n  }, [searchTerm, routes]);\n\n  // 表单处理\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n  };\n\n  // 处理站点变更\n  const handleStopChange = (index, field, value) => {\n    setFormData(prev => {\n      const newStops = [...prev.stops];\n      newStops[index] = { ...newStops[index], [field]: value };\n      \n      // 如果设置为起点，其他站点不能是起点\n      if (field === 'isOrigin' && value === true) {\n        newStops.forEach((stop, i) => {\n          if (i !== index) {\n            newStops[i] = { ...newStops[i], isOrigin: false };\n          }\n        });\n      }\n      \n      // 如果设置为终点，其他站点不能是终点\n      if (field === 'isDestination' && value === true) {\n        newStops.forEach((stop, i) => {\n          if (i !== index) {\n            newStops[i] = { ...newStops[i], isDestination: false };\n          }\n        });\n      }\n      \n      return { ...prev, stops: newStops };\n    });\n  };\n\n  // 添加新站点\n  const addStop = () => {\n    setFormData(prev => {\n      const newStops = [...prev.stops];\n      // 在倒数第二个位置添加新站点（在终点站之前）\n      const lastIndex = newStops.length - 1;\n      const newStop = {\n        locationId: '',\n        isOrigin: false,\n        isDestination: false,\n        arrivalOffsetMinutes: newStops[lastIndex].arrivalOffsetMinutes - 30,\n        departureOffsetMinutes: newStops[lastIndex].arrivalOffsetMinutes - 20,\n        priceFromOrigin: 0\n      };\n      \n      newStops.splice(lastIndex, 0, newStop);\n      return { ...prev, stops: newStops };\n    });\n  };\n\n  // 删除站点\n  const removeStop = (index) => {\n    setFormData(prev => {\n      const newStops = [...prev.stops];\n      // 不能删除起点或终点\n      if (newStops[index].isOrigin || newStops[index].isDestination) {\n        alert('Cannot remove origin or destination stops');\n        return prev;\n      }\n      \n      // 需要至少保留两个站点（起点和终点）\n      if (newStops.length <= 2) {\n        alert('Route must have at least two stops');\n        return prev;\n      }\n      \n      newStops.splice(index, 1);\n      return { ...prev, stops: newStops };\n    });\n  };\n\n  // 打开创建模态框\n  const openCreateModal = () => {\n    // 检查是否有足够的站点\n    if (locations.length < 2) {\n      alert('You need at least two locations to create a route. Please add locations first.');\n      return;\n    }\n\n    setFormData({\n      name: '',\n      basePrice: '',\n      routeType: 'standard',\n      stops: [\n        {\n          locationId: locations[0]?.id || '',\n          isOrigin: true,\n          isDestination: false,\n          arrivalOffsetMinutes: 0,\n          departureOffsetMinutes: 10,\n          priceFromOrigin: 0\n        },\n        {\n          locationId: locations[1]?.id || '',\n          isOrigin: false,\n          isDestination: true,\n          arrivalOffsetMinutes: 120,\n          departureOffsetMinutes: 0,\n          priceFromOrigin: 0\n        }\n      ]\n    });\n    setShowCreateModal(true);\n  };\n\n  // 打开编辑模态框\n  const openEditModal = (route) => {\n    setCurrentRoute(route);\n    \n    // 准备表单数据\n    const formattedStops = route.stops.map(stop => ({\n      id: stop.id,\n      locationId: stop.locationId,\n      isOrigin: stop.isOrigin,\n      isDestination: stop.isDestination,\n      arrivalOffsetMinutes: stop.arrivalOffsetMinutes,\n      departureOffsetMinutes: stop.departureOffsetMinutes,\n      priceFromOrigin: stop.priceFromOrigin\n    }));\n    \n    setFormData({\n      name: route.name || '',\n      basePrice: route.basePrice || '',\n      routeType: route.routeType || 'standard',\n      stops: formattedStops\n    });\n    \n    setShowEditModal(true);\n  };\n\n  // 创建路线\n  const handleCreateRoute = async () => {\n    // 基本验证\n    if (!formData.name || !formData.basePrice) {\n      alert('Name and base price are required fields');\n      return;\n    }\n\n    // 验证站点\n    const hasOrigin = formData.stops.some(stop => stop.isOrigin);\n    const hasDestination = formData.stops.some(stop => stop.isDestination);\n    \n    if (!hasOrigin || !hasDestination) {\n      alert('Route must have both origin and destination stops');\n      return;\n    }\n\n    // 验证所有站点都有选择位置\n    const allStopsHaveLocation = formData.stops.every(stop => stop.locationId);\n    if (!allStopsHaveLocation) {\n      alert('All stops must have a location selected');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await createRoute(formData);\n      if (response.success) {\n        setShowCreateModal(false);\n        loadRoutes();\n        alert('Route created successfully');\n      } else {\n        alert('Failed to create route: ' + (response.error || 'Unknown error'));\n      }\n    } catch (error) {\n      console.error('Error creating route:', error);\n      alert('An error occurred while creating the route');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 更新路线\n  const handleUpdateRoute = async () => {\n    if (!currentRoute || !currentRoute.id) {\n      alert('No route selected for update');\n      return;\n    }\n\n    // 基本验证\n    if (!formData.name || !formData.basePrice) {\n      alert('Name and base price are required fields');\n      return;\n    }\n\n    // 验证站点\n    const hasOrigin = formData.stops.some(stop => stop.isOrigin);\n    const hasDestination = formData.stops.some(stop => stop.isDestination);\n    \n    if (!hasOrigin || !hasDestination) {\n      alert('Route must have both origin and destination stops');\n      return;\n    }\n\n    // 验证所有站点都有选择位置\n    const allStopsHaveLocation = formData.stops.every(stop => stop.locationId);\n    if (!allStopsHaveLocation) {\n      alert('All stops must have a location selected');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await updateRoute(currentRoute.id, formData);\n      if (response.success) {\n        setShowEditModal(false);\n        loadRoutes();\n        alert('Route updated successfully');\n      } else {\n        alert('Failed to update route: ' + (response.error || 'Unknown error'));\n      }\n    } catch (error) {\n      console.error('Error updating route:', error);\n      alert('An error occurred while updating the route');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 删除路线\n  const handleDeleteRoute = async (routeId) => {\n    if (!window.confirm('Are you sure you want to delete this route? This action cannot be undone.')) {\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await deleteRoute(routeId);\n      if (response.success) {\n        loadRoutes();\n        alert('Route deleted successfully');\n      } else {\n        alert('Failed to delete route: ' + (response.error || 'Unknown error'));\n      }\n    } catch (error) {\n      console.error('Error deleting route:', error);\n      alert('An error occurred while deleting the route');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 格式化时间偏移为小时:分钟\n  const formatTimeOffset = (minutes) => {\n    const hours = Math.floor(minutes / 60);\n    const mins = minutes % 60;\n    return `${hours.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}`;\n  };\n\n  // 获取站点名称\n  const getLocationName = (locationId) => {\n    const location = locations.find(loc => loc.id === locationId);\n    return location ? location.name : 'Unknown Location';\n  };\n\n  // 表单模态框\n  const RouteFormModal = ({ isCreate, onClose, onSubmit }) => (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h3 className=\"text-lg font-semibold\">\n            {isCreate ? 'Create New Route' : 'Edit Route'}\n          </h3>\n          <button \n            onClick={onClose}\n            className=\"text-gray-400 hover:text-gray-600\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Route Name *\n            </label>\n            <input\n              type=\"text\"\n              name=\"name\"\n              value={formData.name}\n              onChange={handleInputChange}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              required\n              placeholder=\"e.g. KL Express\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Base Price (RM) *\n            </label>\n            <input\n              type=\"number\"\n              name=\"basePrice\"\n              value={formData.basePrice}\n              onChange={handleInputChange}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              required\n              placeholder=\"e.g. 35.50\"\n              min=\"0\"\n              step=\"0.01\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Route Type\n            </label>\n            <select\n              name=\"routeType\"\n              value={formData.routeType}\n              onChange={handleInputChange}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"standard\">Standard</option>\n              <option value=\"express\">Express</option>\n              <option value=\"vip\">VIP</option>\n              <option value=\"night\">Night Service</option>\n            </select>\n          </div>\n        </div>\n\n        <div className=\"mb-4\">\n          <div className=\"flex justify-between items-center mb-2\">\n            <h4 className=\"font-medium text-gray-800\">Route Stops</h4>\n            <button\n              type=\"button\"\n              onClick={addStop}\n              className=\"text-sm flex items-center text-blue-600 hover:text-blue-800\"\n            >\n              <Plus className=\"w-4 h-4 mr-1\" />\n              Add Intermediate Stop\n            </button>\n          </div>\n\n          <div className=\"space-y-4\">\n            {formData.stops.map((stop, index) => (\n              <div key={index} className=\"border border-gray-200 rounded-lg p-4\">\n                <div className=\"flex justify-between items-center mb-3\">\n                  <div className=\"flex items-center\">\n                    <div className={`w-8 h-8 rounded-full flex items-center justify-center mr-2 ${\n                      stop.isOrigin ? 'bg-green-100 text-green-600' : \n                      stop.isDestination ? 'bg-red-100 text-red-600' : \n                      'bg-blue-100 text-blue-600'\n                    }`}>\n                      {index + 1}\n                    </div>\n                    <h5 className=\"font-medium\">\n                      {stop.isOrigin ? 'Origin' : stop.isDestination ? 'Destination' : 'Intermediate Stop'}\n                    </h5>\n                  </div>\n                  \n                  {!stop.isOrigin && !stop.isDestination && (\n                    <button\n                      type=\"button\"\n                      onClick={() => removeStop(index)}\n                      className=\"text-red-500 hover:text-red-700\"\n                    >\n                      <Trash className=\"w-4 h-4\" />\n                    </button>\n                  )}\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Location *\n                    </label>\n                    <select\n                      value={stop.locationId}\n                      onChange={(e) => handleStopChange(index, 'locationId', e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      required\n                    >\n                      <option value=\"\">Select a location</option>\n                      {locations.map(location => (\n                        <option key={location.id} value={location.id}>\n                          {location.name} ({location.city})\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n\n                  <div className=\"flex space-x-4\">\n                    <div className=\"flex items-center\">\n                      <input\n                        type=\"checkbox\"\n                        id={`origin-${index}`}\n                        checked={stop.isOrigin}\n                        onChange={(e) => handleStopChange(index, 'isOrigin', e.target.checked)}\n                        className=\"mr-2\"\n                      />\n                      <label htmlFor={`origin-${index}`} className=\"text-sm\">Origin</label>\n                    </div>\n                    \n                    <div className=\"flex items-center\">\n                      <input\n                        type=\"checkbox\"\n                        id={`destination-${index}`}\n                        checked={stop.isDestination}\n                        onChange={(e) => handleStopChange(index, 'isDestination', e.target.checked)}\n                        className=\"mr-2\"\n                      />\n                      <label htmlFor={`destination-${index}`} className=\"text-sm\">Destination</label>\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Arrival Time Offset (minutes)\n                    </label>\n                    <input\n                      type=\"number\"\n                      value={stop.arrivalOffsetMinutes}\n                      onChange={(e) => handleStopChange(index, 'arrivalOffsetMinutes', parseInt(e.target.value) || 0)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      min=\"0\"\n                      disabled={stop.isOrigin} // 起点没有到达时间\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Departure Time Offset (minutes)\n                    </label>\n                    <input\n                      type=\"number\"\n                      value={stop.departureOffsetMinutes}\n                      onChange={(e) => handleStopChange(index, 'departureOffsetMinutes', parseInt(e.target.value) || 0)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      min=\"0\"\n                      disabled={stop.isDestination} // 终点没有出发时间\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Price from Origin (RM)\n                    </label>\n                    <input\n                      type=\"number\"\n                      value={stop.priceFromOrigin}\n                      onChange={(e) => handleStopChange(index, 'priceFromOrigin', parseFloat(e.target.value) || 0)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      min=\"0\"\n                      step=\"0.01\"\n                      disabled={stop.isOrigin} // 起点价格始终为0\n                    />\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"flex space-x-3 mt-6\">\n          <button \n            className=\"btn-primary flex-1 flex items-center justify-center\"\n            onClick={onSubmit}\n            disabled={loading}\n          >\n            {loading ? 'Processing...' : (isCreate ? 'Create Route' : 'Update Route')}\n          </button>\n          <button \n            className=\"btn-secondary flex-1\"\n            onClick={onClose}\n            disabled={loading}\n          >\n            Cancel\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-2xl font-bold text-gray-900\">Route Management</h2>\n        <button \n          className=\"btn-primary flex items-center\"\n          onClick={openCreateModal}\n        >\n          <Plus className=\"w-4 h-4 mr-2\" />\n          Add New Route\n        </button>\n      </div>\n\n      {/* Search Bar */}\n      <div className=\"relative\">\n        <input\n          type=\"text\"\n          placeholder=\"Search routes by name or location...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          className=\"w-full px-4 py-2 pl-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n        <Search className=\"w-5 h-5 text-gray-400 absolute left-3 top-2.5\" />\n        {searchTerm && (\n          <button\n            onClick={() => setSearchTerm('')}\n            className=\"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        )}\n      </div>\n\n      {/* Routes List */}\n      {loading && !filteredRoutes.length ? (\n        <div className=\"text-center py-10\">\n          <div className=\"spinner\"></div>\n          <p className=\"mt-2 text-gray-600\">Loading routes...</p>\n        </div>\n      ) : filteredRoutes.length === 0 ? (\n        <div className=\"text-center py-10 border border-dashed border-gray-300 rounded-lg\">\n          <RouteIcon className=\"w-12 h-12 text-gray-400 mx-auto mb-3\" />\n          <h3 className=\"text-lg font-medium text-gray-900\">No routes found</h3>\n          <p className=\"text-gray-500 mt-1\">\n            {searchTerm ? 'Try a different search term' : 'Add your first route to get started'}\n          </p>\n          {searchTerm && (\n            <button\n              onClick={() => setSearchTerm('')}\n              className=\"mt-3 text-blue-600 hover:text-blue-800\"\n            >\n              Clear search\n            </button>\n          )}\n        </div>\n      ) : (\n        <div className=\"space-y-4\">\n          {filteredRoutes.map(route => (\n            <div key={route.id} className=\"card hover:shadow-md transition-shadow\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\">\n                    <Bus className=\"w-5 h-5 text-blue-600\" />\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold text-gray-900\">{route.name}</h3>\n                    <p className=\"text-sm text-gray-600 capitalize\">{route.routeType} Route</p>\n                  </div>\n                </div>\n                <div className=\"flex space-x-2\">\n                  <button \n                    onClick={() => openEditModal(route)}\n                    className=\"p-1 text-gray-500 hover:text-blue-600\"\n                    title=\"Edit route\"\n                  >\n                    <Edit className=\"w-4 h-4\" />\n                  </button>\n                  <button \n                    onClick={() => handleDeleteRoute(route.id)}\n                    className=\"p-1 text-gray-500 hover:text-red-600\"\n                    title=\"Delete route\"\n                  >\n                    <Trash className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n              \n              <div className=\"space-y-3\">\n                <div className=\"flex items-center text-sm\">\n                  <Map className=\"w-4 h-4 mr-2 text-gray-500\" />\n                  <div className=\"flex items-center\">\n                    <span className=\"font-medium\">{route.originLocation?.name}</span>\n                    <ArrowRight className=\"w-4 h-4 mx-2 text-gray-400\" />\n                    <span className=\"font-medium\">{route.destinationLocation?.name}</span>\n                  </div>\n                </div>\n                \n                <div className=\"flex flex-wrap gap-4 text-sm text-gray-600\">\n                  <div className=\"flex items-center\">\n                    <Clock className=\"w-4 h-4 mr-1 text-gray-500\" />\n                    <span>\n                      {route.stops?.length > 2 ? `${route.stops.length - 2} intermediate stops` : 'Direct route'}\n                    </span>\n                  </div>\n                  \n                  <div className=\"flex items-center\">\n                    <DollarSign className=\"w-4 h-4 mr-1 text-gray-500\" />\n                    <span>RM {parseFloat(route.basePrice).toFixed(2)}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Create Modal */}\n      {showCreateModal && (\n        <RouteFormModal\n          isCreate={true}\n          onClose={() => setShowCreateModal(false)}\n          onSubmit={handleCreateRoute}\n        />\n      )}\n\n      {/* Edit Modal */}\n      {showEditModal && (\n        <RouteFormModal\n          isCreate={false}\n          onClose={() => setShowEditModal(false)}\n          onSubmit={handleUpdateRoute}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default RouteManagement; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}