{"ast":null,"code":"import React,{useState,useEffect}from'react';import{MapPin,Clock,DollarSign,Fuel,Leaf,Calendar,Users,TrendingUp,X}from'lucide-react';import{calculateTravelTime,calculateCO2Emissions,calculateDynamicPrice}from'../../services/routeAnalysisApi';import RouteMap from'./RouteMap';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RouteDetails=_ref=>{var _route$intermediateSt,_route$intermediateSt2,_route$intermediateSt3,_route$intermediateSt4;let{route,locations,onClose}=_ref;// Move all hooks to the top, before any early returns\nconst[priceData,setPriceData]=useState({normalDayPrice:0,highDemandPrice:0,lowDemandPrice:0});const[travelTimeData,setTravelTimeData]=useState({normalTravel:0,rushhourTravel:0,badWeatherTravel:0});const[co2Data,setCO2Data]=useState(0);useEffect(()=>{if(!route)return;// Initialize default values based on route\nsetPriceData({normalDayPrice:route.basePrice,highDemandPrice:route.basePrice*1.2,lowDemandPrice:route.basePrice*0.9});setTravelTimeData({normalTravel:route.durationHours,rushhourTravel:route.durationHours*1.4,badWeatherTravel:route.durationHours*1.35});setCO2Data(route.distanceKm*0.68);const loadRouteAnalytics=async()=>{try{// 计算价格场景\nconst normalDayPrice=await calculateDynamicPrice(route,new Date(),20,40);const highDemandPrice=await calculateDynamicPrice(route,new Date(),5,40);const lowDemandPrice=await calculateDynamicPrice(route,new Date(),35,40);setPriceData({normalDayPrice,highDemandPrice,lowDemandPrice});// 计算旅行时间场景\nconst normalTravel=await calculateTravelTime(route,1.0,'clear');const rushhourTravel=await calculateTravelTime(route,1.4,'clear');const badWeatherTravel=await calculateTravelTime(route,1.0,'heavy_rain');setTravelTimeData({normalTravel,rushhourTravel,badWeatherTravel});// 计算环境影响\nconst emissions=await calculateCO2Emissions(route,'vt-1');setCO2Data(emissions);}catch(err){console.error('Error loading route analytics:',err);}};loadRouteAnalytics();},[route]);// Early return after all hooks have been called\nif(!route)return null;const getLocationName=locationId=>{const location=locations.find(loc=>loc.id===locationId);return location?location.city:'Unknown';};const formatTime=hours=>{const h=Math.floor(hours);const m=Math.round((hours-h)*60);return\"\".concat(h,\"h \").concat(m,\"m\");};const formatOffset=minutes=>{const h=Math.floor(minutes/60);const m=minutes%60;return h>0?\"\".concat(h,\"h \").concat(m,\"m\"):\"\".concat(m,\"m\");};// 使用状态中的数据\nconst{normalDayPrice,highDemandPrice,lowDemandPrice}=priceData;const{normalTravel,rushhourTravel,badWeatherTravel}=travelTimeData;const co2Emissions=co2Data;const originLocation=locations.find(loc=>loc.id===route.originId);const destinationLocation=locations.find(loc=>loc.id===route.destinationId);return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg max-w-7xl w-full h-[90vh] m-4 flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-6 border-b border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:route.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mt-1\",children:[originLocation===null||originLocation===void 0?void 0:originLocation.city,\" \\u2192 \",destinationLocation===null||destinationLocation===void 0?void 0:destinationLocation.city]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-1/2 p-6 overflow-y-auto border-r border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 p-4 border-b border-gray-200\",children:\"Route Visualization\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-64\",children:/*#__PURE__*/_jsx(RouteMap,{routes:[],locations:locations,selectedTrips:[],startLocation:route.originId,endLocation:route.destinationId})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Distance\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl font-bold\",children:[route.distanceKm,\" km\"]})]}),/*#__PURE__*/_jsx(MapPin,{className:\"w-8 h-8 text-primary-600\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Base Duration\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-bold\",children:formatTime(route.durationHours)})]}),/*#__PURE__*/_jsx(Clock,{className:\"w-8 h-8 text-success-600\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Base Price\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl font-bold\",children:[\"RM \",route.basePrice]})]}),/*#__PURE__*/_jsx(DollarSign,{className:\"w-8 h-8 text-warning-600\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Stops\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-bold\",children:((_route$intermediateSt=route.intermediateStops)===null||_route$intermediateSt===void 0?void 0:_route$intermediateSt.length)||0})]}),/*#__PURE__*/_jsx(Calendar,{className:\"w-8 h-8 text-purple-600\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Route Path & Stops\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 p-3 bg-green-50 rounded-lg border-l-4 border-green-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-green-500 rounded-full flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-gray-900\",children:getLocationName(route.originId)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Starting Point \\u2022 0:00\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-green-600\",children:[\"RM \",route.basePrice]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Base fare\"})]})]}),(_route$intermediateSt2=route.intermediateStops)===null||_route$intermediateSt2===void 0?void 0:_route$intermediateSt2.map((stop,index)=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center ml-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-px h-8 bg-gray-300\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 text-sm text-gray-500\",children:[Math.floor((stop.arrivalOffset-(index>0?route.intermediateStops[index-1].departureOffset:0))/60),\"h \",(stop.arrivalOffset-(index>0?route.intermediateStops[index-1].departureOffset:0))%60,\"m travel\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-blue-500 rounded-full flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-gray-900\",children:getLocationName(stop.locationId)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Stop \",stop.stopNumber,\" \\u2022 \",formatOffset(stop.arrivalOffset),\" - \",formatOffset(stop.departureOffset),/*#__PURE__*/_jsxs(\"span\",{className:\"text-blue-600 ml-2\",children:[\"(\",stop.departureOffset-stop.arrivalOffset,\" min stop)\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-blue-600\",children:[\"RM \",stop.additionalPrice]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"From origin\"})]})]})]},index)),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center ml-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-px h-8 bg-gray-300\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 text-sm text-gray-500\",children:[Math.floor((route.durationHours*60-(((_route$intermediateSt3=route.intermediateStops)===null||_route$intermediateSt3===void 0?void 0:_route$intermediateSt3.length)>0?route.intermediateStops[route.intermediateStops.length-1].departureOffset:0))/60),\"h \",Math.round((route.durationHours*60-(((_route$intermediateSt4=route.intermediateStops)===null||_route$intermediateSt4===void 0?void 0:_route$intermediateSt4.length)>0?route.intermediateStops[route.intermediateStops.length-1].departureOffset:0))%60),\"m travel\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 p-3 bg-red-50 rounded-lg border-l-4 border-red-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-red-500 rounded-sm transform rotate-45 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-gray-900\",children:getLocationName(route.destinationId)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Final Destination \\u2022 \",formatTime(route.durationHours)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-red-600\",children:[\"RM \",route.basePrice]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Full journey\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"w-5 h-5 mr-2\"}),\"Dynamic Pricing Analysis\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Normal Demand\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold\",children:[\"RM \",normalDayPrice.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"High Demand (80%+ occupied)\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-red-600\",children:[\"RM \",highDemandPrice.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Low Demand (30%- occupied)\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-green-600\",children:[\"RM \",lowDemandPrice.toFixed(2)]})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Prices include weekend surcharges, advance booking discounts, and operational costs\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-5 h-5 mr-2\"}),\"Travel Time Scenarios\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Normal Conditions\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:formatTime(normalTravel)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Rush Hour Traffic\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-orange-600\",children:formatTime(rushhourTravel)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Heavy Rain\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-blue-600\",children:formatTime(badWeatherTravel)})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Times include intermediate stop durations and weather adjustments\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Fuel,{className:\"w-5 h-5 mr-2\"}),\"Operational Costs\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Estimated Fuel Cost\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold\",children:[\"RM \",route.estimatedFuelCost.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Toll Charges\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold\",children:[\"RM \",route.tollCharges.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Total Operating Cost\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold\",children:[\"RM \",(route.estimatedFuelCost+route.tollCharges).toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Break-even Price (25% margin)\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-green-600\",children:[\"RM \",((route.estimatedFuelCost+route.tollCharges)*1.25).toFixed(2)]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Leaf,{className:\"w-5 h-5 mr-2\"}),\"Environmental Impact\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"CO2 Emissions (Standard Bus)\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold\",children:[co2Emissions.toFixed(1),\" kg\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Per Passenger (40 capacity)\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-green-600\",children:[(co2Emissions/40).toFixed(2),\" kg\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"vs. Private Car\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-green-600\",children:[(route.distanceKm*0.2/(co2Emissions/40)).toFixed(1),\"x less\"]})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Environmental calculations based on vehicle type and occupancy\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card mt-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Operating Schedule\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:['monday','tuesday','wednesday','thursday','friday','saturday','sunday'].map(day=>/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full text-xs font-medium \".concat(route.operatingDays.includes(day)?'bg-primary-100 text-primary-800':'bg-gray-100 text-gray-500'),children:day.charAt(0).toUpperCase()+day.slice(1,3)},day))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-1/2 p-6 overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Users,{className:\"w-5 h-5 mr-2\"}),\"Route Performance\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-blue-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-blue-600\",children:\"85%\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Average Occupancy\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-green-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-green-600\",children:\"96%\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"On-Time Performance\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-yellow-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-yellow-600\",children:\"4.6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Customer Rating\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-purple-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-purple-600\",children:\"12\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Daily Trips\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"w-5 h-5 mr-2\"}),\"Revenue Analysis (Monthly)\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Average Revenue per Trip\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold\",children:[\"RM \",(route.basePrice*0.85*40).toFixed(0)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Monthly Trips (est.)\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"360\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Gross Monthly Revenue\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-green-600\",children:[\"RM \",(route.basePrice*0.85*40*360).toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Operating Costs\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-red-600\",children:[\"RM \",((route.estimatedFuelCost+route.tollCharges)*360+15000).toLocaleString()]})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Net Profit (est.)\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-green-600\",children:[\"RM \",(route.basePrice*0.85*40*360-(route.estimatedFuelCost+route.tollCharges)*360-15000).toLocaleString()]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Risk Assessment\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Traffic Congestion Risk\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 bg-gray-200 rounded-full h-2 mr-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-500 h-2 rounded-full\",style:{width:'60%'}})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:\"Medium\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Weather Impact\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 bg-gray-200 rounded-full h-2 mr-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-orange-500 h-2 rounded-full\",style:{width:'40%'}})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:\"Low\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Fuel Price Volatility\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 bg-gray-200 rounded-full h-2 mr-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-500 h-2 rounded-full\",style:{width:'80%'}})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:\"High\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Competition\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 bg-gray-200 rounded-full h-2 mr-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-500 h-2 rounded-full\",style:{width:'55%'}})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:\"Medium\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Optimization Recommendations\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-green-50 border-l-4 border-green-500 rounded\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-green-800\",children:\"Price Adjustment\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-700\",children:\"Consider increasing weekend prices by 10-15% during peak demand periods.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-blue-50 border-l-4 border-blue-500 rounded\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-blue-800\",children:\"Schedule Optimization\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-700\",children:\"Add 1-2 more trips during Friday evenings and Sunday afternoons.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-yellow-50 border-l-4 border-yellow-500 rounded\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-yellow-800\",children:\"Operational Efficiency\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-700\",children:\"Route optimization could reduce travel time by 8-12 minutes.\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Recent Performance Trends\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Last 30 Days\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-green-600 mr-2\",children:\"\\u2197 8.5%\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:\"Revenue growth\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Occupancy Rate\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-blue-600 mr-2\",children:\"\\u2197 3.2%\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:\"vs. previous month\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Customer Satisfaction\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-yellow-600 mr-2\",children:\"\\u2192 0.1%\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:\"Stable\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Operational Costs\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-red-600 mr-2\",children:\"\\u2197 2.8%\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:\"Fuel price impact\"})]})]})]})]})]})]})]})});};export default RouteDetails;","map":{"version":3,"names":["React","useState","useEffect","MapPin","Clock","DollarSign","Fuel","Leaf","Calendar","Users","TrendingUp","X","calculateTravelTime","calculateCO2Emissions","calculateDynamicPrice","RouteMap","jsx","_jsx","jsxs","_jsxs","RouteDetails","_ref","_route$intermediateSt","_route$intermediateSt2","_route$intermediateSt3","_route$intermediateSt4","route","locations","onClose","priceData","setPriceData","normalDayPrice","highDemandPrice","lowDemandPrice","travelTimeData","setTravelTimeData","normalTravel","rushhourTravel","badWeatherTravel","co2Data","setCO2Data","basePrice","durationHours","distanceKm","loadRouteAnalytics","Date","emissions","err","console","error","getLocationName","locationId","location","find","loc","id","city","formatTime","hours","h","Math","floor","m","round","concat","formatOffset","minutes","co2Emissions","originLocation","originId","destinationLocation","destinationId","className","children","name","onClick","routes","selectedTrips","startLocation","endLocation","intermediateStops","length","map","stop","index","Fragment","arrivalOffset","departureOffset","stopNumber","additionalPrice","toFixed","estimatedFuelCost","tollCharges","day","operatingDays","includes","charAt","toUpperCase","slice","toLocaleString","style","width"],"sources":["/Users/gohshunda/TWT-Transport-Booking/src/components/admin/RouteDetails.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  MapPin, \n  Clock, \n  DollarSign, \n  Fuel, \n  Leaf, \n  Calendar,\n  Users,\n  TrendingUp,\n  X\n} from 'lucide-react';\nimport { calculateTravelTime, calculateCO2Emissions, calculateDynamicPrice } from '../../services/routeAnalysisApi';\nimport RouteMap from './RouteMap';\n\nconst RouteDetails = ({ route, locations, onClose }) => {\n  // Move all hooks to the top, before any early returns\n  const [priceData, setPriceData] = useState({\n    normalDayPrice: 0,\n    highDemandPrice: 0,\n    lowDemandPrice: 0\n  });\n\n  const [travelTimeData, setTravelTimeData] = useState({\n    normalTravel: 0,\n    rushhourTravel: 0,\n    badWeatherTravel: 0\n  });\n\n  const [co2Data, setCO2Data] = useState(0);\n\n  useEffect(() => {\n    if (!route) return;\n    \n    // Initialize default values based on route\n    setPriceData({\n      normalDayPrice: route.basePrice,\n      highDemandPrice: route.basePrice * 1.2,\n      lowDemandPrice: route.basePrice * 0.9\n    });\n\n    setTravelTimeData({\n      normalTravel: route.durationHours,\n      rushhourTravel: route.durationHours * 1.4,\n      badWeatherTravel: route.durationHours * 1.35\n    });\n\n    setCO2Data(route.distanceKm * 0.68);\n\n    const loadRouteAnalytics = async () => {\n      try {\n        // 计算价格场景\n        const normalDayPrice = await calculateDynamicPrice(route, new Date(), 20, 40);\n        const highDemandPrice = await calculateDynamicPrice(route, new Date(), 5, 40);\n        const lowDemandPrice = await calculateDynamicPrice(route, new Date(), 35, 40);\n        \n        setPriceData({\n          normalDayPrice,\n          highDemandPrice,\n          lowDemandPrice\n        });\n        \n        // 计算旅行时间场景\n        const normalTravel = await calculateTravelTime(route, 1.0, 'clear');\n        const rushhourTravel = await calculateTravelTime(route, 1.4, 'clear');\n        const badWeatherTravel = await calculateTravelTime(route, 1.0, 'heavy_rain');\n        \n        setTravelTimeData({\n          normalTravel,\n          rushhourTravel,\n          badWeatherTravel\n        });\n        \n        // 计算环境影响\n        const emissions = await calculateCO2Emissions(route, 'vt-1');\n        setCO2Data(emissions);\n      } catch (err) {\n        console.error('Error loading route analytics:', err);\n      }\n    };\n    \n    loadRouteAnalytics();\n  }, [route]);\n\n  // Early return after all hooks have been called\n  if (!route) return null;\n\n  const getLocationName = (locationId) => {\n    const location = locations.find(loc => loc.id === locationId);\n    return location ? location.city : 'Unknown';\n  };\n\n  const formatTime = (hours) => {\n    const h = Math.floor(hours);\n    const m = Math.round((hours - h) * 60);\n    return `${h}h ${m}m`;\n  };\n\n  const formatOffset = (minutes) => {\n    const h = Math.floor(minutes / 60);\n    const m = minutes % 60;\n    return h > 0 ? `${h}h ${m}m` : `${m}m`;\n  };\n\n  // 使用状态中的数据\n  const { normalDayPrice, highDemandPrice, lowDemandPrice } = priceData;\n  const { normalTravel, rushhourTravel, badWeatherTravel } = travelTimeData;\n  const co2Emissions = co2Data;\n\n  const originLocation = locations.find(loc => loc.id === route.originId);\n  const destinationLocation = locations.find(loc => loc.id === route.destinationId);\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg max-w-7xl w-full h-[90vh] m-4 flex flex-col\">\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">{route.name}</h2>\n            <p className=\"text-gray-600 mt-1\">\n              {originLocation?.city} → {destinationLocation?.city}\n            </p>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n          >\n            <X className=\"w-6 h-6\" />\n          </button>\n        </div>\n\n        <div className=\"flex-1 flex overflow-hidden\">\n          {/* Left Panel - Route Information */}\n          <div className=\"w-1/2 p-6 overflow-y-auto border-r border-gray-200\">\n            {/* Route Map */}\n            <div className=\"bg-gray-50 rounded-lg mb-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 p-4 border-b border-gray-200\">\n                Route Visualization\n              </h3>\n              <div className=\"h-64\">\n                <RouteMap \n                  routes={[]} \n                  locations={locations} \n                  selectedTrips={[]}\n                  startLocation={route.originId}\n                  endLocation={route.destinationId}\n                />\n              </div>\n            </div>\n\n            {/* Route Summary */}\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\">\n              <div className=\"card\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-gray-600\">Distance</p>\n                    <p className=\"text-xl font-bold\">{route.distanceKm} km</p>\n                  </div>\n                  <MapPin className=\"w-8 h-8 text-primary-600\" />\n                </div>\n              </div>\n              \n              <div className=\"card\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-gray-600\">Base Duration</p>\n                    <p className=\"text-xl font-bold\">{formatTime(route.durationHours)}</p>\n                  </div>\n                  <Clock className=\"w-8 h-8 text-success-600\" />\n                </div>\n              </div>\n              \n              <div className=\"card\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-gray-600\">Base Price</p>\n                    <p className=\"text-xl font-bold\">RM {route.basePrice}</p>\n                  </div>\n                  <DollarSign className=\"w-8 h-8 text-warning-600\" />\n                </div>\n              </div>\n              \n              <div className=\"card\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-gray-600\">Stops</p>\n                    <p className=\"text-xl font-bold\">{route.intermediateStops?.length || 0}</p>\n                  </div>\n                  <Calendar className=\"w-8 h-8 text-purple-600\" />\n                </div>\n              </div>\n            </div>\n\n            {/* Enhanced Route Path */}\n            <div className=\"card mb-8\">\n              <h3 className=\"text-lg font-semibold mb-4\">Route Path & Stops</h3>\n              <div className=\"space-y-4\">\n                {/* Origin */}\n                <div className=\"flex items-center space-x-4 p-3 bg-green-50 rounded-lg border-l-4 border-green-500\">\n                  <div className=\"w-4 h-4 bg-green-500 rounded-full flex-shrink-0\"></div>\n                  <div className=\"flex-1\">\n                    <div className=\"font-semibold text-gray-900\">{getLocationName(route.originId)}</div>\n                    <div className=\"text-sm text-gray-600\">Starting Point • 0:00</div>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className=\"text-sm font-medium text-green-600\">RM {route.basePrice}</div>\n                    <div className=\"text-xs text-gray-500\">Base fare</div>\n                  </div>\n                </div>\n\n                {/* Intermediate stops */}\n                {route.intermediateStops?.map((stop, index) => (\n                  <React.Fragment key={index}>\n                    {/* Travel segment */}\n                    <div className=\"flex items-center ml-2\">\n                      <div className=\"w-px h-8 bg-gray-300\"></div>\n                      <div className=\"ml-4 text-sm text-gray-500\">\n                        {Math.floor((stop.arrivalOffset - (index > 0 ? route.intermediateStops[index-1].departureOffset : 0))/60)}h {(stop.arrivalOffset - (index > 0 ? route.intermediateStops[index-1].departureOffset : 0))%60}m travel\n                      </div>\n                    </div>\n                    \n                    {/* Stop */}\n                    <div className=\"flex items-center space-x-4 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500\">\n                      <div className=\"w-3 h-3 bg-blue-500 rounded-full flex-shrink-0\"></div>\n                      <div className=\"flex-1\">\n                        <div className=\"font-semibold text-gray-900\">{getLocationName(stop.locationId)}</div>\n                        <div className=\"text-sm text-gray-600\">\n                          Stop {stop.stopNumber} • {formatOffset(stop.arrivalOffset)} - {formatOffset(stop.departureOffset)}\n                          <span className=\"text-blue-600 ml-2\">({stop.departureOffset - stop.arrivalOffset} min stop)</span>\n                        </div>\n                      </div>\n                      <div className=\"text-right\">\n                        <div className=\"text-sm font-medium text-blue-600\">RM {stop.additionalPrice}</div>\n                        <div className=\"text-xs text-gray-500\">From origin</div>\n                      </div>\n                    </div>\n                  </React.Fragment>\n                ))}\n\n                {/* Final segment to destination */}\n                <div className=\"flex items-center ml-2\">\n                  <div className=\"w-px h-8 bg-gray-300\"></div>\n                  <div className=\"ml-4 text-sm text-gray-500\">\n                    {Math.floor((route.durationHours * 60 - (route.intermediateStops?.length > 0 ? route.intermediateStops[route.intermediateStops.length - 1].departureOffset : 0))/60)}h {Math.round((route.durationHours * 60 - (route.intermediateStops?.length > 0 ? route.intermediateStops[route.intermediateStops.length - 1].departureOffset : 0))%60)}m travel\n                  </div>\n                </div>\n\n                {/* Destination */}\n                <div className=\"flex items-center space-x-4 p-3 bg-red-50 rounded-lg border-l-4 border-red-500\">\n                  <div className=\"w-4 h-4 bg-red-500 rounded-sm transform rotate-45 flex-shrink-0\"></div>\n                  <div className=\"flex-1\">\n                    <div className=\"font-semibold text-gray-900\">{getLocationName(route.destinationId)}</div>\n                    <div className=\"text-sm text-gray-600\">Final Destination • {formatTime(route.durationHours)}</div>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className=\"text-sm font-medium text-red-600\">RM {route.basePrice}</div>\n                    <div className=\"text-xs text-gray-500\">Full journey</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Operational Analysis */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\">\n              {/* Pricing Algorithm */}\n              <div className=\"card\">\n                <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n                  <TrendingUp className=\"w-5 h-5 mr-2\" />\n                  Dynamic Pricing Analysis\n                </h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-600\">Normal Demand</span>\n                    <span className=\"font-semibold\">RM {normalDayPrice.toFixed(2)}</span>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-600\">High Demand (80%+ occupied)</span>\n                    <span className=\"font-semibold text-red-600\">RM {highDemandPrice.toFixed(2)}</span>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-600\">Low Demand (30%- occupied)</span>\n                    <span className=\"font-semibold text-green-600\">RM {lowDemandPrice.toFixed(2)}</span>\n                  </div>\n                  <hr className=\"my-3\" />\n                  <div className=\"text-xs text-gray-500\">\n                    Prices include weekend surcharges, advance booking discounts, and operational costs\n                  </div>\n                </div>\n              </div>\n\n              {/* Travel Time Analysis */}\n              <div className=\"card\">\n                <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n                  <Clock className=\"w-5 h-5 mr-2\" />\n                  Travel Time Scenarios\n                </h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-600\">Normal Conditions</span>\n                    <span className=\"font-semibold\">{formatTime(normalTravel)}</span>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-600\">Rush Hour Traffic</span>\n                    <span className=\"font-semibold text-orange-600\">{formatTime(rushhourTravel)}</span>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-600\">Heavy Rain</span>\n                    <span className=\"font-semibold text-blue-600\">{formatTime(badWeatherTravel)}</span>\n                  </div>\n                  <hr className=\"my-3\" />\n                  <div className=\"text-xs text-gray-500\">\n                    Times include intermediate stop durations and weather adjustments\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Operational Costs & Environmental Impact */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n              {/* Operational Costs */}\n              <div className=\"card\">\n                <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n                  <Fuel className=\"w-5 h-5 mr-2\" />\n                  Operational Costs\n                </h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-600\">Estimated Fuel Cost</span>\n                    <span className=\"font-semibold\">RM {route.estimatedFuelCost.toFixed(2)}</span>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-600\">Toll Charges</span>\n                    <span className=\"font-semibold\">RM {route.tollCharges.toFixed(2)}</span>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-600\">Total Operating Cost</span>\n                    <span className=\"font-semibold\">RM {(route.estimatedFuelCost + route.tollCharges).toFixed(2)}</span>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-600\">Break-even Price (25% margin)</span>\n                    <span className=\"font-semibold text-green-600\">\n                      RM {((route.estimatedFuelCost + route.tollCharges) * 1.25).toFixed(2)}\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Environmental Impact */}\n              <div className=\"card\">\n                <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n                  <Leaf className=\"w-5 h-5 mr-2\" />\n                  Environmental Impact\n                </h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-600\">CO2 Emissions (Standard Bus)</span>\n                    <span className=\"font-semibold\">{co2Emissions.toFixed(1)} kg</span>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-600\">Per Passenger (40 capacity)</span>\n                    <span className=\"font-semibold text-green-600\">{(co2Emissions / 40).toFixed(2)} kg</span>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-600\">vs. Private Car</span>\n                    <span className=\"font-semibold text-green-600\">\n                      {((route.distanceKm * 0.2) / (co2Emissions / 40)).toFixed(1)}x less\n                    </span>\n                  </div>\n                  <hr className=\"my-3\" />\n                  <div className=\"text-xs text-gray-500\">\n                    Environmental calculations based on vehicle type and occupancy\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Operating Schedule */}\n            <div className=\"card mt-8\">\n              <h3 className=\"text-lg font-semibold mb-4\">Operating Schedule</h3>\n              <div className=\"flex flex-wrap gap-2\">\n                {['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'].map(day => (\n                  <span \n                    key={day}\n                    className={`px-3 py-1 rounded-full text-xs font-medium ${\n                      route.operatingDays.includes(day)\n                        ? 'bg-primary-100 text-primary-800'\n                        : 'bg-gray-100 text-gray-500'\n                    }`}\n                  >\n                    {day.charAt(0).toUpperCase() + day.slice(1, 3)}\n                  </span>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          {/* Right Panel - Additional Information */}\n          <div className=\"w-1/2 p-6 overflow-y-auto\">\n            {/* Route Performance Metrics */}\n            <div className=\"card mb-6\">\n              <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n                <Users className=\"w-5 h-5 mr-2\" />\n                Route Performance\n              </h3>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"text-center p-3 bg-blue-50 rounded-lg\">\n                  <div className=\"text-2xl font-bold text-blue-600\">85%</div>\n                  <div className=\"text-xs text-gray-600\">Average Occupancy</div>\n                </div>\n                <div className=\"text-center p-3 bg-green-50 rounded-lg\">\n                  <div className=\"text-2xl font-bold text-green-600\">96%</div>\n                  <div className=\"text-xs text-gray-600\">On-Time Performance</div>\n                </div>\n                <div className=\"text-center p-3 bg-yellow-50 rounded-lg\">\n                  <div className=\"text-2xl font-bold text-yellow-600\">4.6</div>\n                  <div className=\"text-xs text-gray-600\">Customer Rating</div>\n                </div>\n                <div className=\"text-center p-3 bg-purple-50 rounded-lg\">\n                  <div className=\"text-2xl font-bold text-purple-600\">12</div>\n                  <div className=\"text-xs text-gray-600\">Daily Trips</div>\n                </div>\n              </div>\n            </div>\n\n            {/* Revenue Analysis */}\n            <div className=\"card mb-6\">\n              <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n                <DollarSign className=\"w-5 h-5 mr-2\" />\n                Revenue Analysis (Monthly)\n              </h3>\n              <div className=\"space-y-3\">\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-600\">Average Revenue per Trip</span>\n                  <span className=\"font-semibold\">RM {(route.basePrice * 0.85 * 40).toFixed(0)}</span>\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-600\">Monthly Trips (est.)</span>\n                  <span className=\"font-semibold\">360</span>\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-600\">Gross Monthly Revenue</span>\n                  <span className=\"font-semibold text-green-600\">\n                    RM {((route.basePrice * 0.85 * 40) * 360).toLocaleString()}\n                  </span>\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-600\">Operating Costs</span>\n                  <span className=\"font-semibold text-red-600\">\n                    RM {(((route.estimatedFuelCost + route.tollCharges) * 360) + 15000).toLocaleString()}\n                  </span>\n                </div>\n                <hr className=\"my-2\" />\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm font-medium text-gray-700\">Net Profit (est.)</span>\n                  <span className=\"font-bold text-green-600\">\n                    RM {(((route.basePrice * 0.85 * 40) * 360) - ((route.estimatedFuelCost + route.tollCharges) * 360) - 15000).toLocaleString()}\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            {/* Risk Factors */}\n            <div className=\"card mb-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">Risk Assessment</h3>\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-sm text-gray-600\">Traffic Congestion Risk</span>\n                  <div className=\"flex items-center\">\n                    <div className=\"w-20 bg-gray-200 rounded-full h-2 mr-2\">\n                      <div className=\"bg-yellow-500 h-2 rounded-full\" style={{ width: '60%' }}></div>\n                    </div>\n                    <span className=\"text-xs text-gray-500\">Medium</span>\n                  </div>\n                </div>\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-sm text-gray-600\">Weather Impact</span>\n                  <div className=\"flex items-center\">\n                    <div className=\"w-20 bg-gray-200 rounded-full h-2 mr-2\">\n                      <div className=\"bg-orange-500 h-2 rounded-full\" style={{ width: '40%' }}></div>\n                    </div>\n                    <span className=\"text-xs text-gray-500\">Low</span>\n                  </div>\n                </div>\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-sm text-gray-600\">Fuel Price Volatility</span>\n                  <div className=\"flex items-center\">\n                    <div className=\"w-20 bg-gray-200 rounded-full h-2 mr-2\">\n                      <div className=\"bg-red-500 h-2 rounded-full\" style={{ width: '80%' }}></div>\n                    </div>\n                    <span className=\"text-xs text-gray-500\">High</span>\n                  </div>\n                </div>\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-sm text-gray-600\">Competition</span>\n                  <div className=\"flex items-center\">\n                    <div className=\"w-20 bg-gray-200 rounded-full h-2 mr-2\">\n                      <div className=\"bg-yellow-500 h-2 rounded-full\" style={{ width: '55%' }}></div>\n                    </div>\n                    <span className=\"text-xs text-gray-500\">Medium</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Optimization Recommendations */}\n            <div className=\"card mb-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">Optimization Recommendations</h3>\n              <div className=\"space-y-3\">\n                <div className=\"p-3 bg-green-50 border-l-4 border-green-500 rounded\">\n                  <h4 className=\"font-medium text-green-800\">Price Adjustment</h4>\n                  <p className=\"text-sm text-green-700\">\n                    Consider increasing weekend prices by 10-15% during peak demand periods.\n                  </p>\n                </div>\n                <div className=\"p-3 bg-blue-50 border-l-4 border-blue-500 rounded\">\n                  <h4 className=\"font-medium text-blue-800\">Schedule Optimization</h4>\n                  <p className=\"text-sm text-blue-700\">\n                    Add 1-2 more trips during Friday evenings and Sunday afternoons.\n                  </p>\n                </div>\n                <div className=\"p-3 bg-yellow-50 border-l-4 border-yellow-500 rounded\">\n                  <h4 className=\"font-medium text-yellow-800\">Operational Efficiency</h4>\n                  <p className=\"text-sm text-yellow-700\">\n                    Route optimization could reduce travel time by 8-12 minutes.\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Route History & Trends */}\n            <div className=\"card\">\n              <h3 className=\"text-lg font-semibold mb-4\">Recent Performance Trends</h3>\n              <div className=\"space-y-4\">\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-600\">Last 30 Days</span>\n                  <div className=\"flex items-center\">\n                    <span className=\"text-sm font-medium text-green-600 mr-2\">↗ 8.5%</span>\n                    <span className=\"text-xs text-gray-500\">Revenue growth</span>\n                  </div>\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-600\">Occupancy Rate</span>\n                  <div className=\"flex items-center\">\n                    <span className=\"text-sm font-medium text-blue-600 mr-2\">↗ 3.2%</span>\n                    <span className=\"text-xs text-gray-500\">vs. previous month</span>\n                  </div>\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-600\">Customer Satisfaction</span>\n                  <div className=\"flex items-center\">\n                    <span className=\"text-sm font-medium text-yellow-600 mr-2\">→ 0.1%</span>\n                    <span className=\"text-xs text-gray-500\">Stable</span>\n                  </div>\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-600\">Operational Costs</span>\n                  <div className=\"flex items-center\">\n                    <span className=\"text-sm font-medium text-red-600 mr-2\">↗ 2.8%</span>\n                    <span className=\"text-xs text-gray-500\">Fuel price impact</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RouteDetails; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}