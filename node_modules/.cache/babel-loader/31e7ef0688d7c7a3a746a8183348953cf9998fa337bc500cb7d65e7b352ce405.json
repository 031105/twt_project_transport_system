{"ast":null,"code":"var _jsxFileName = \"/Users/gohshunda/TWT-Transport-Booking/src/pages/admin/AdminDashboard.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Bus, Route, Calendar, MapPin, Settings, BarChart3, Plus, Edit, Trash2, ArrowRight, TrendingUp, Users, Loader, AlertCircle, Truck, Map, X, PieChart } from 'lucide-react';\nimport { getDashboardStats, getAnalyticsData, getVehicles, getRoutes, getTodaysSchedule, searchTrips, calculateOccupancy, handleApiError, getRouteAnalytics, getLocationsForRoutes, createRoute, getRouteStops, getSchedules } from '../../services/adminApi';\nimport { useApp } from '../../context/AppContext';\nimport RouteMap from '../../components/admin/RouteMap';\nimport RouteDetails from '../../components/admin/RouteDetails';\nimport { format, addDays } from 'date-fns';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AdminDashboard = ({\n  activeTab = 'customer-service',\n  setActiveTab\n}) => {\n  _s();\n  const {\n    locations,\n    systemDate\n  } = useApp();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [stats, setStats] = useState({\n    activeRoutes: 0,\n    activeTrips: 0,\n    fleetSize: 0,\n    scheduledTrips: 0\n  });\n  const [routes, setRoutes] = useState([]);\n  const [vehicles, setVehicles] = useState([]);\n  const [todaysSchedule, setTodaysSchedule] = useState([]);\n  const [selectedRoute, setSelectedRoute] = useState(null);\n  const [showRouteDetails, setShowRouteDetails] = useState(false);\n  const [detailRoute, setDetailRoute] = useState(null);\n  useEffect(() => {\n    loadDashboardData();\n  }, []);\n  const loadDashboardData = async () => {\n    setLoading(true);\n    try {\n      // Load all dashboard data in parallel\n      const [statsResponse, routesResponse, vehiclesResponse, scheduleResponse] = await Promise.all([getDashboardStats(), getRoutes(), getVehicles(), getTodaysSchedule()]);\n      if (statsResponse.success) {\n        setStats(statsResponse.data);\n      }\n      if (routesResponse.success) {\n        setRoutes(routesResponse.data);\n      }\n      if (vehiclesResponse.success) {\n        setVehicles(vehiclesResponse.data);\n      }\n      if (scheduleResponse.success) {\n        setTodaysSchedule(scheduleResponse.data);\n      }\n      setError(null);\n    } catch (err) {\n      console.error('Error loading dashboard data:', err);\n      setError(handleApiError(err));\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleRouteClick = route => {\n    setSelectedRoute(route);\n  };\n  const handleViewRoute = route => {\n    setDetailRoute(route);\n    setShowRouteDetails(true);\n  };\n  const clearSelection = () => {\n    setSelectedRoute(null);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center h-64\",\n        children: [/*#__PURE__*/_jsxDEV(Loader, {\n          className: \"w-8 h-8 animate-spin text-primary-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"ml-2 text-gray-600\",\n          children: \"Loading dashboard data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-50 border border-red-200 rounded-lg p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"h-5 w-5 text-red-400\",\n              viewBox: \"0 0 20 20\",\n              fill: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-medium text-red-800\",\n              children: \"Error loading dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 text-sm text-red-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: loadDashboardData,\n                className: \"mt-2 text-red-800 underline hover:text-red-900\",\n                children: \"Try again\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n    children: [activeTab === 'customer-service' && /*#__PURE__*/_jsxDEV(CustomerService, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }, this), activeTab === 'overview' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('analytics'),\n            className: \"btn-secondary flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n              className: \"w-4 h-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 17\n            }, this), \"Analytics\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('schedule'),\n            className: \"btn-primary flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(Plus, {\n              className: \"w-4 h-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this), \"Add Route\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Active Routes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-3xl font-bold text-primary-600\",\n                children: stats.activeRoutes\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Route, {\n                className: \"w-6 h-6 text-primary-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Active Trips\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-3xl font-bold text-success-600\",\n                children: stats.activeTrips\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 bg-success-100 rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Bus, {\n                className: \"w-6 h-6 text-success-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Fleet Size\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-3xl font-bold text-warning-600\",\n                children: stats.fleetSize\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 bg-warning-100 rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Settings, {\n                className: \"w-6 h-6 text-warning-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Scheduled Trips\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-3xl font-bold text-purple-600\",\n                children: stats.scheduledTrips\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Calendar, {\n                className: \"w-6 h-6 text-purple-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card hover:shadow-lg transition-shadow cursor-pointer\",\n          onClick: () => setActiveTab('vehicles'),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Bus, {\n                className: \"w-6 h-6 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ArrowRight, {\n              className: \"w-5 h-5 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-lg text-gray-900 mb-2\",\n            children: \"Manage Vehicles\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 text-sm\",\n            children: \"Add, edit, or maintain vehicles\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card hover:shadow-lg transition-shadow cursor-pointer\",\n          onClick: () => setActiveTab('schedule'),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(MapPin, {\n                className: \"w-6 h-6 text-green-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ArrowRight, {\n              className: \"w-5 h-5 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-lg text-gray-900 mb-2\",\n            children: \"Route Planning\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 text-sm\",\n            children: \"Create and optimize routes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card hover:shadow-lg transition-shadow cursor-pointer\",\n          onClick: () => setActiveTab('schedule'),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Calendar, {\n                className: \"w-6 h-6 text-yellow-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ArrowRight, {\n              className: \"w-5 h-5 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-lg text-gray-900 mb-2\",\n            children: \"Schedule Trips\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 text-sm\",\n            children: \"Plan daily operations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card hover:shadow-lg transition-shadow cursor-pointer\",\n          onClick: () => setActiveTab('settings'),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Settings, {\n                className: \"w-6 h-6 text-purple-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ArrowRight, {\n              className: \"w-5 h-5 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-lg text-gray-900 mb-2\",\n            children: \"System Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 text-sm\",\n            children: \"Configure system parameters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold\",\n              children: \"Active Routes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: clearSelection,\n              className: \"btn-secondary text-sm\",\n              children: \"Clear Selection\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3 max-h-96 overflow-y-auto\",\n            children: routes.map(route => {\n              var _locations$find, _locations$find2;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-4 border rounded-lg cursor-pointer transition-colors ${(selectedRoute === null || selectedRoute === void 0 ? void 0 : selectedRoute.id) === route.id ? 'border-primary-500 bg-primary-50' : 'border-gray-200 hover:border-gray-300'}`,\n                onClick: () => handleRouteClick(route),\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center justify-between mb-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"font-medium text-gray-900\",\n                        children: route.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 310,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex space-x-2\",\n                        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: e => {\n                            e.stopPropagation();\n                            handleViewRoute(route);\n                          },\n                          className: \"text-primary-600 hover:text-primary-700\",\n                          title: \"View Details\",\n                          children: /*#__PURE__*/_jsxDEV(BarChart3, {\n                            className: \"w-4 h-4\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 320,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 312,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"text-gray-400 hover:text-gray-600\",\n                          title: \"Edit\",\n                          children: /*#__PURE__*/_jsxDEV(Edit, {\n                            className: \"w-4 h-4\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 323,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 322,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"text-red-400 hover:text-red-600\",\n                          title: \"Delete\",\n                          children: /*#__PURE__*/_jsxDEV(Trash2, {\n                            className: \"w-4 h-4\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 326,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 325,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 311,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 309,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-600 space-y-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center\",\n                        children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                          className: \"w-4 h-4 mr-2\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 332,\n                          columnNumber: 29\n                        }, this), (_locations$find = locations.find(l => l.id === route.originId)) === null || _locations$find === void 0 ? void 0 : _locations$find.city, \" \\u2192 \", (_locations$find2 = locations.find(l => l.id === route.destinationId)) === null || _locations$find2 === void 0 ? void 0 : _locations$find2.city]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 331,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [\"Distance: \", route.distanceKm, \" km\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 336,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [\"Duration: \", Math.floor(route.durationHours), \"h \", Math.round(route.durationHours % 1 * 60), \"m\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 337,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-primary-600 font-medium\",\n                          children: [\"Price: RM \", route.basePrice]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 338,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 335,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"mt-2\",\n                        children: (() => {\n                          const routeTrips = todaysSchedule.filter(trip => trip.routeId === route.id);\n                          const avgOccupation = routeTrips.length > 0 ? routeTrips.reduce((sum, trip) => sum + calculateOccupancy(trip), 0) / routeTrips.length : 0;\n                          return avgOccupation > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex items-center justify-between text-xs\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-gray-500\",\n                              children: \"Avg. Occupation:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 351,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex items-center space-x-2\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"w-16 bg-gray-200 rounded-full h-2\",\n                                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"h-2 rounded-full transition-all\",\n                                  style: {\n                                    width: `${Math.min(avgOccupation, 100)}%`,\n                                    backgroundColor: avgOccupation > 80 ? '#EF4444' : avgOccupation > 60 ? '#F59E0B' : '#10B981'\n                                  }\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 354,\n                                  columnNumber: 39\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 353,\n                                columnNumber: 37\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: `font-medium ${avgOccupation > 80 ? 'text-red-600' : avgOccupation > 60 ? 'text-yellow-600' : 'text-green-600'}`,\n                                children: [typeof avgOccupation === 'number' ? avgOccupation.toFixed(0) : '0', \"%\"]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 362,\n                                columnNumber: 37\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 352,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 350,\n                            columnNumber: 33\n                          }, this);\n                        })()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 342,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 330,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 21\n                }, this)\n              }, route.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold\",\n              children: \"Route Visualization\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-secondary text-sm\",\n              children: \"Clear Selection\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-96 bg-gray-100 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(RouteMap, {\n              routes: selectedRoute ? [selectedRoute] : routes,\n              locations: locations,\n              selectedTrips: todaysSchedule\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), activeTab === 'vehicles' && /*#__PURE__*/_jsxDEV(VehicleManagement, {\n      vehicles: vehicles,\n      onRefresh: loadDashboardData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 9\n    }, this), activeTab === 'schedule' && /*#__PURE__*/_jsxDEV(ScheduleManagement, {\n      todaysSchedule: todaysSchedule,\n      routes: routes,\n      vehicles: vehicles,\n      onRefresh: loadDashboardData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 9\n    }, this), activeTab === 'analytics' && /*#__PURE__*/_jsxDEV(Analytics, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 9\n    }, this), activeTab === 'settings' && /*#__PURE__*/_jsxDEV(SystemSettings, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 9\n    }, this), activeTab === 'routes' && /*#__PURE__*/_jsxDEV(RouteManagement, {\n      routes: routes,\n      onRefresh: loadDashboardData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 9\n    }, this), showRouteDetails && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        zIndex: 9999\n      },\n      children: /*#__PURE__*/_jsxDEV(RouteDetails, {\n        route: detailRoute,\n        locations: locations,\n        onClose: () => {\n          setShowRouteDetails(false);\n          setDetailRoute(null);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 161,\n    columnNumber: 5\n  }, this);\n};\n\n// Vehicle Management Component\n_s(AdminDashboard, \"zQ6M8qcX0vzWt7GDaz6fDYKgUpA=\", false, function () {\n  return [useApp];\n});\n_c = AdminDashboard;\nconst VehicleManagement = ({\n  vehicles = [],\n  onRefresh\n}) => {\n  _s2();\n  const [showAddVehicle, setShowAddVehicle] = useState(false);\n  const [editingVehicle, setEditingVehicle] = useState(null);\n  const [showServiceModal, setShowServiceModal] = useState(null);\n  const handleAddVehicle = () => {\n    setShowAddVehicle(true);\n  };\n  const handleEditVehicle = vehicle => {\n    setEditingVehicle({\n      ...vehicle,\n      editCapacity: vehicle.vehicle_capacity || vehicle.capacity || 0,\n      editMileage: vehicle.current_mileage || 0,\n      editLastService: vehicle.last_service_date || ''\n    });\n  };\n  const handleServiceVehicle = async vehicle => {\n    try {\n      // Toggle between active and maintenance status\n      const newStatus = vehicle.status === 'active' ? 'maintenance' : 'active';\n      const response = await fetch(`http://localhost:5001/api/admin/vehicles/${vehicle.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          status: newStatus\n        })\n      });\n      if (response.ok) {\n        setShowServiceModal({\n          ...vehicle,\n          newStatus,\n          message: newStatus === 'maintenance' ? 'Vehicle has been marked for maintenance' : 'Vehicle has been returned to active service'\n        });\n        // Refresh data after a short delay\n        setTimeout(() => {\n          onRefresh();\n        }, 1500);\n      } else {\n        alert('Failed to update vehicle status');\n      }\n    } catch (error) {\n      console.error('Error updating vehicle status:', error);\n      alert('Error updating vehicle status');\n    }\n  };\n  const handleSaveEdit = async () => {\n    try {\n      const updateData = {\n        current_mileage: editingVehicle.editMileage,\n        last_service_date: editingVehicle.editLastService || null\n      };\n\n      // Update capacity through vehicle_types if needed\n      if (editingVehicle.editCapacity !== editingVehicle.vehicle_capacity) {\n        // For now, we'll skip capacity update as it's tied to vehicle_type\n        // In a real scenario, you'd either update vehicle_type or create new type\n      }\n      const response = await fetch(`http://localhost:5001/api/admin/vehicles/${editingVehicle.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(updateData)\n      });\n      if (response.ok) {\n        setEditingVehicle(null);\n        onRefresh();\n        alert('Vehicle updated successfully!');\n      } else {\n        alert('Failed to update vehicle');\n      }\n    } catch (error) {\n      console.error('Error updating vehicle:', error);\n      alert('Error updating vehicle');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-900\",\n        children: \"Vehicle Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-primary flex items-center\",\n        onClick: handleAddVehicle,\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          className: \"w-4 h-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 11\n        }, this), \"Add Vehicle\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 530,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n      children: vehicles.map(vehicle => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Bus, {\n                className: \"w-5 h-5 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 547,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-gray-900\",\n                children: vehicle.license_plate || vehicle.plateNumber || vehicle.vehicle_number\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: vehicle.model || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `px-2 py-1 rounded-full text-xs font-medium ${vehicle.status === 'active' ? 'bg-green-100 text-green-800' : vehicle.status === 'maintenance' ? 'bg-yellow-100 text-yellow-800' : 'bg-red-100 text-red-800'}`,\n            children: vehicle.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600\",\n              children: \"Capacity:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: [vehicle.vehicle_capacity || vehicle.capacity || 'N/A', \" seats\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600\",\n              children: \"Mileage:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 569,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: [vehicle.current_mileage ? vehicle.current_mileage.toLocaleString() : 'N/A', \" km\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600\",\n              children: \"Last Service:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 573,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: vehicle.last_service_date ? new Date(vehicle.last_service_date).toLocaleDateString('en-GB') : vehicle.lastService || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 574,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 flex space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary text-xs flex-1\",\n            onClick: () => handleEditVehicle(vehicle),\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 583,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary text-xs flex-1\",\n            onClick: () => handleServiceVehicle(vehicle),\n            children: \"Service\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 589,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 13\n        }, this)]\n      }, vehicle.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 7\n    }, this), showAddVehicle && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg p-6 w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-4\",\n          children: \"Add New Vehicle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 604,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-4\",\n          children: \"Add vehicle functionality coming soon...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 605,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-secondary w-full\",\n          onClick: () => setShowAddVehicle(false),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 603,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 602,\n      columnNumber: 9\n    }, this), editingVehicle && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg p-6 w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-4\",\n          children: [\"Edit Vehicle: \", editingVehicle.license_plate]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 620,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Capacity (seats)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 624,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: editingVehicle.editCapacity,\n              onChange: e => setEditingVehicle(prev => ({\n                ...prev,\n                editCapacity: parseInt(e.target.value)\n              })),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              min: \"1\",\n              max: \"100\",\n              disabled: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 627,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: \"Capacity is determined by vehicle type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 639,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 623,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Current Mileage (km)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 643,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: editingVehicle.editMileage,\n              onChange: e => setEditingVehicle(prev => ({\n                ...prev,\n                editMileage: parseInt(e.target.value)\n              })),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              min: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 646,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 642,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Last Service Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 659,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: editingVehicle.editLastService,\n              onChange: e => setEditingVehicle(prev => ({\n                ...prev,\n                editLastService: e.target.value\n              })),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 662,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 658,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 622,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-3 mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-primary flex-1\",\n            onClick: handleSaveEdit,\n            children: \"Save Changes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 675,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary flex-1\",\n            onClick: () => setEditingVehicle(null),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 681,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 674,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 619,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 618,\n      columnNumber: 9\n    }, this), showServiceModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg p-6 w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-4\",\n          children: [\"Service Status: \", showServiceModal.license_plate]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 696,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `inline-flex items-center px-4 py-2 rounded-full text-sm font-medium ${showServiceModal.newStatus === 'maintenance' ? 'bg-yellow-100 text-yellow-800' : 'bg-green-100 text-green-800'}`,\n            children: [\"Status: \", showServiceModal.newStatus === 'maintenance' ? 'Under Maintenance' : 'Active Service']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 699,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mt-4\",\n            children: showServiceModal.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 707,\n            columnNumber: 15\n          }, this), showServiceModal.newStatus === 'maintenance' && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-yellow-600 mt-2\",\n            children: \"Vehicle is now out of service. Click Service button again to return to active status.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 710,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 698,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-secondary w-full\",\n          onClick: () => setShowServiceModal(null),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 716,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 695,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 694,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 529,\n    columnNumber: 5\n  }, this);\n};\n\n// Schedule Management Component\n_s2(VehicleManagement, \"bIJyx4SFl9GinI3QQSlTFZ/fjJU=\");\n_c2 = VehicleManagement;\nconst ScheduleManagement = ({\n  todaysSchedule = [],\n  routes = [],\n  vehicles = [],\n  onRefresh\n}) => {\n  _s3();\n  const {\n    systemDate\n  } = useApp();\n  const [selectedDate, setSelectedDate] = useState(systemDate);\n  const [filteredSchedule, setFilteredSchedule] = useState([]);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [createForm, setCreateForm] = useState({\n    route_id: '',\n    vehicle_id: '',\n    departure_date: systemDate,\n    departure_time: '08:00',\n    base_price: 0,\n    seat_types: [{\n      id: 'regular',\n      name: 'Regular Seats',\n      multiplier: 1.0,\n      enabled: true\n    }, {\n      id: 'premium',\n      name: 'Premium Seats',\n      multiplier: 1.5,\n      enabled: true\n    }, {\n      id: 'vip',\n      name: 'VIP Seats',\n      multiplier: 2.0,\n      enabled: true\n    }],\n    pricing_rules: [{\n      id: 'weekend',\n      name: 'Weekend Pricing',\n      value: 15,\n      enabled: false\n    }, {\n      id: 'holiday',\n      name: 'Holiday Pricing',\n      value: 25,\n      enabled: false\n    }, {\n      id: 'early_booking',\n      name: 'Early Booking Discount',\n      value: 10,\n      enabled: false\n    }],\n    stops: []\n  });\n\n  // State for route stops\n  const [routeStops, setRouteStops] = useState([]);\n  const [dateRange, setDateRange] = useState({\n    startDate: selectedDate,\n    endDate: selectedDate\n  });\n  const [loadingSchedule, setLoadingSchedule] = useState(false);\n  const [viewMode, setViewMode] = useState('day'); // 'day', 'week', 'month'\n\n  // Filter schedule by selected date or date range\n  // Load schedule data based on selected date and view mode\n  useEffect(() => {\n    const loadScheduleForDate = async () => {\n      setLoadingSchedule(true);\n      try {\n        // Use date range if in week or month view mode\n        const startDate = viewMode === 'day' ? selectedDate : dateRange.startDate;\n        const endDate = viewMode === 'day' ? selectedDate : dateRange.endDate;\n        const response = await fetch(`http://localhost:5001/api/admin/schedules?startDate=${startDate}&endDate=${endDate}`);\n        if (response.ok) {\n          const data = await response.json();\n          if (data.success) {\n            // Sort by date then by departure time\n            const sortedSchedule = data.data.sort((a, b) => {\n              const dateA = new Date(a.departure_datetime);\n              const dateB = new Date(b.departure_datetime);\n              if (dateA.toDateString() === dateB.toDateString()) {\n                return dateA.getTime() - dateB.getTime(); // Sort by time if same day\n              }\n              return dateA.getTime() - dateB.getTime(); // Sort by date\n            });\n            setFilteredSchedule(sortedSchedule);\n          }\n        }\n      } catch (error) {\n        console.error('Error loading schedule for date:', error);\n        setFilteredSchedule([]);\n      } finally {\n        setLoadingSchedule(false);\n      }\n    };\n    loadScheduleForDate();\n  }, [selectedDate, dateRange, viewMode]);\n\n  // Load route stops when a route is selected\n  useEffect(() => {\n    const loadRouteStops = async () => {\n      if (!createForm.route_id) {\n        setRouteStops([]);\n        return;\n      }\n      try {\n        const response = await fetch(`http://localhost:5001/api/admin/routes/${createForm.route_id}/stops`);\n        if (response.ok) {\n          const data = await response.json();\n          if (data.success) {\n            setRouteStops(data.data);\n          }\n        }\n      } catch (error) {\n        console.error('Error loading route stops:', error);\n        setRouteStops([]);\n      }\n    };\n    loadRouteStops();\n  }, [createForm.route_id]);\n  const formatTime = datetime => {\n    try {\n      return new Date(datetime).toLocaleTimeString([], {\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    } catch (error) {\n      return 'Invalid time';\n    }\n  };\n  const formatDate = datetime => {\n    try {\n      return new Date(datetime).toLocaleDateString('en-GB');\n    } catch (error) {\n      return 'Invalid date';\n    }\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'scheduled':\n        return 'bg-blue-100 text-blue-800';\n      case 'boarding':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'in_transit':\n        return 'bg-green-100 text-green-800';\n      case 'arrived':\n        return 'bg-gray-100 text-gray-800';\n      case 'cancelled':\n        return 'bg-red-100 text-red-800';\n      case 'delayed':\n        return 'bg-orange-100 text-orange-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  // Handle seat type multiplier change\n  const handleSeatTypeChange = (id, value) => {\n    setCreateForm(prev => {\n      const updatedSeatTypes = prev.seat_types.map(type => type.id === id ? {\n        ...type,\n        multiplier: parseFloat(value)\n      } : type);\n      return {\n        ...prev,\n        seat_types: updatedSeatTypes\n      };\n    });\n  };\n\n  // Handle pricing rule toggle\n  const handlePricingRuleToggle = (id, enabled) => {\n    setCreateForm(prev => {\n      const updatedRules = prev.pricing_rules.map(rule => rule.id === id ? {\n        ...rule,\n        enabled\n      } : rule);\n      return {\n        ...prev,\n        pricing_rules: updatedRules\n      };\n    });\n  };\n\n  // Handle pricing rule value change\n  const handlePricingRuleValueChange = (id, value) => {\n    setCreateForm(prev => {\n      const updatedRules = prev.pricing_rules.map(rule => rule.id === id ? {\n        ...rule,\n        value: parseInt(value, 10)\n      } : rule);\n      return {\n        ...prev,\n        pricing_rules: updatedRules\n      };\n    });\n  };\n\n  // Create trip schedule with enhanced options\n  const handleCreateTrip = async () => {\n    try {\n      const departureDateTime = `${createForm.departure_date} ${createForm.departure_time}:00`;\n\n      // Calculate estimated arrival time based on route stops information\n      let arrivalOffset = 4.5; // Default 4.5 hours if no stops data\n\n      if (routeStops.length > 0) {\n        const lastStop = routeStops[routeStops.length - 1];\n        arrivalOffset = lastStop.arrival_offset_minutes / 60; // Convert minutes to hours\n      }\n      const arrivalDateTime = new Date(new Date(departureDateTime).getTime() + arrivalOffset * 60 * 60 * 1000).toISOString().slice(0, 19).replace('T', ' ');\n\n      // Calculate pricing information\n      const enabledSeatTypes = createForm.seat_types.filter(type => type.enabled);\n      const enabledPricingRules = createForm.pricing_rules.filter(rule => rule.enabled);\n      const response = await fetch('http://localhost:5001/api/admin/schedules', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          route_id: createForm.route_id,\n          vehicle_id: createForm.vehicle_id,\n          departure_datetime: departureDateTime,\n          estimated_arrival_datetime: arrivalDateTime,\n          base_price: parseFloat(createForm.base_price),\n          seat_types: enabledSeatTypes,\n          pricing_rules: enabledPricingRules,\n          dynamic_pricing_enabled: enabledPricingRules.length > 0\n        })\n      });\n      if (response.ok) {\n        setShowCreateModal(false);\n        setCreateForm({\n          route_id: '',\n          vehicle_id: '',\n          departure_date: systemDate,\n          departure_time: '08:00',\n          base_price: 0,\n          seat_types: [{\n            id: 'regular',\n            name: 'Regular Seats',\n            multiplier: 1.0,\n            enabled: true\n          }, {\n            id: 'premium',\n            name: 'Premium Seats',\n            multiplier: 1.5,\n            enabled: true\n          }, {\n            id: 'vip',\n            name: 'VIP Seats',\n            multiplier: 2.0,\n            enabled: true\n          }],\n          pricing_rules: [{\n            id: 'weekend',\n            name: 'Weekend Pricing',\n            value: 15,\n            enabled: false\n          }, {\n            id: 'holiday',\n            name: 'Holiday Pricing',\n            value: 25,\n            enabled: false\n          }, {\n            id: 'early_booking',\n            name: 'Early Booking Discount',\n            value: 10,\n            enabled: false\n          }],\n          stops: []\n        });\n        setRouteStops([]);\n        onRefresh();\n        alert('Trip scheduled successfully!');\n      } else {\n        const errorData = await response.json();\n        alert(`Failed to schedule trip: ${errorData.message || 'Unknown error'}`);\n      }\n    } catch (error) {\n      console.error('Error creating trip:', error);\n      alert('Error scheduling trip');\n    }\n  };\n\n  // Function to group trips by date\n  const getTripsByDate = () => {\n    const groupedTrips = {};\n    filteredSchedule.forEach(trip => {\n      const date = new Date(trip.departure_datetime).toDateString();\n      if (!groupedTrips[date]) {\n        groupedTrips[date] = [];\n      }\n      groupedTrips[date].push(trip);\n    });\n    return groupedTrips;\n  };\n\n  // Set week view dates\n  const setWeekView = () => {\n    const currentDate = new Date(selectedDate);\n    const startOfWeek = new Date(currentDate);\n    startOfWeek.setDate(currentDate.getDate() - currentDate.getDay());\n    const endOfWeek = new Date(startOfWeek);\n    endOfWeek.setDate(startOfWeek.getDate() + 6);\n    setDateRange({\n      startDate: startOfWeek.toISOString().split('T')[0],\n      endDate: endOfWeek.toISOString().split('T')[0]\n    });\n    setViewMode('week');\n  };\n\n  // Set month view dates\n  const setMonthView = () => {\n    const currentDate = new Date(selectedDate);\n    const startOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);\n    const endOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);\n    setDateRange({\n      startDate: startOfMonth.toISOString().split('T')[0],\n      endDate: endOfMonth.toISOString().split('T')[0]\n    });\n    setViewMode('month');\n  };\n\n  // Switch back to day view\n  const setDayView = () => {\n    setViewMode('day');\n  };\n\n  // Get formatted date range text based on view mode\n  const getDateRangeText = () => {\n    if (viewMode === 'day') {\n      return `Schedule for ${formatDate(selectedDate)}`;\n    } else if (viewMode === 'week') {\n      return `Week of ${formatDate(dateRange.startDate)} - ${formatDate(dateRange.endDate)}`;\n    } else {\n      return `Month of ${new Date(dateRange.startDate).toLocaleString('en-US', {\n        month: 'long',\n        year: 'numeric'\n      })}`;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap justify-between items-center gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-900\",\n        children: \"Schedule Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1021,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap items-center gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inline-flex rounded-md shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `px-4 py-2 text-sm font-medium ${viewMode === 'day' ? 'bg-blue-600 text-white' : 'bg-white text-gray-700 hover:bg-gray-50'} border border-gray-300 rounded-l-md focus:z-10`,\n            onClick: setDayView,\n            children: \"Day\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1025,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `px-4 py-2 text-sm font-medium ${viewMode === 'week' ? 'bg-blue-600 text-white' : 'bg-white text-gray-700 hover:bg-gray-50'} border-t border-b border-r border-gray-300 focus:z-10`,\n            onClick: setWeekView,\n            children: \"Week\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1031,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `px-4 py-2 text-sm font-medium ${viewMode === 'month' ? 'bg-blue-600 text-white' : 'bg-white text-gray-700 hover:bg-gray-50'} border-t border-b border-r border-gray-300 rounded-r-md focus:z-10`,\n            onClick: setMonthView,\n            children: \"Month\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1037,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1024,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: selectedDate,\n          onChange: e => setSelectedDate(e.target.value),\n          className: \"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n          min: systemDate,\n          max: \"2025-07-31\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1046,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-primary flex items-center\",\n          onClick: () => setShowCreateModal(true),\n          children: [/*#__PURE__*/_jsxDEV(Calendar, {\n            className: \"w-4 h-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1059,\n            columnNumber: 13\n          }, this), \"Create Schedule\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1055,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1022,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1020,\n      columnNumber: 7\n    }, this), loadingSchedule ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card py-16\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-12 h-12 border-4 border-t-4 border-primary-600 border-t-transparent rounded-full animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1068,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-gray-600\",\n          children: \"Loading schedule data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1069,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1067,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1066,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: [getDateRangeText(), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"ml-2 text-sm font-normal text-gray-600\",\n          children: [\"(\", filteredSchedule.length, \" trips)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1076,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1074,\n        columnNumber: 11\n      }, this), filteredSchedule.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-8 text-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(Calendar, {\n          className: \"w-12 h-12 mx-auto mb-3 text-gray-300\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1083,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No trips scheduled for this period\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1084,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1082,\n        columnNumber: 13\n      }, this) : viewMode === 'day' ?\n      /*#__PURE__*/\n      // Day view - simple list\n      _jsxDEV(\"div\", {\n        className: \"space-y-3\",\n        children: filteredSchedule.map(trip => {\n          const occupiedSeats = trip.occupied_seats || trip.total_seats - trip.available_seats;\n          const occupancyPercentage = trip.occupancy_percentage || Math.round(occupiedSeats / trip.total_seats * 100);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 border border-gray-200 rounded-lg hover:bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"min-w-0 flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-medium text-gray-900 mb-1\",\n                      children: trip.route_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1101,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-600\",\n                      children: [trip.origin_name, \" \\u2192 \", trip.destination_name]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1104,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1100,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-600\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-medium\",\n                      children: trip.vehicle_number\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1111,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: trip.vehicle_model\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1112,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1110,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-600\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-medium\",\n                      children: formatTime(trip.departure_datetime)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1117,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [\"to \", formatTime(trip.estimated_arrival_datetime)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1120,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1116,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(trip.status)}`,\n                      children: trip.status.replace('_', ' ').toUpperCase()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1127,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1126,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1098,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1097,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-4 ml-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-right\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-medium\",\n                    children: [occupiedSeats, \"/\", trip.total_seats, \" seats\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1137,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `text-xs px-2 py-1 rounded-full ${occupancyPercentage > 80 ? 'bg-red-100 text-red-600' : occupancyPercentage > 60 ? 'bg-yellow-100 text-yellow-600' : 'bg-green-100 text-green-600'}`,\n                    children: [occupancyPercentage, \"% occupied\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1140,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1136,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-16 bg-gray-200 rounded-full h-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"h-2 rounded-full transition-all\",\n                    style: {\n                      width: `${Math.min(occupancyPercentage, 100)}%`,\n                      backgroundColor: occupancyPercentage > 80 ? '#EF4444' : occupancyPercentage > 60 ? '#F59E0B' : '#10B981'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1149,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1148,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded\",\n                    children: /*#__PURE__*/_jsxDEV(Edit, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1162,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1161,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded\",\n                    children: /*#__PURE__*/_jsxDEV(Trash2, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1165,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1164,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1160,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1135,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1096,\n              columnNumber: 21\n            }, this)\n          }, trip.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1095,\n            columnNumber: 19\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1088,\n        columnNumber: 13\n      }, this) :\n      /*#__PURE__*/\n      // Week/Month view - grouped by date\n      _jsxDEV(\"div\", {\n        className: \"space-y-6\",\n        children: Object.entries(getTripsByDate()).map(([date, trips]) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border border-gray-200 rounded-lg overflow-hidden\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 px-4 py-3 border-b border-gray-200\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-md font-semibold\",\n              children: new Date(date).toLocaleDateString('en-US', {\n                weekday: 'long',\n                year: 'numeric',\n                month: 'short',\n                day: 'numeric'\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1180,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1179,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"divide-y divide-gray-200\",\n            children: trips.map(trip => {\n              const occupiedSeats = trip.occupied_seats || trip.total_seats - trip.available_seats;\n              const occupancyPercentage = trip.occupancy_percentage || Math.round(occupiedSeats / trip.total_seats * 100);\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4 hover:bg-gray-50\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-6\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-sm font-medium text-gray-900 w-24\",\n                        children: formatTime(trip.departure_datetime)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1194,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"min-w-0 flex-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"font-medium text-gray-900\",\n                          children: trip.route_name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1200,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm text-gray-600\",\n                          children: [trip.origin_name, \" \\u2192 \", trip.destination_name]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1203,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1199,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-sm text-gray-600 w-28\",\n                        children: trip.vehicle_number\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1209,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(trip.status)}`,\n                          children: trip.status.replace('_', ' ').toUpperCase()\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1215,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1214,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1192,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1191,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1190,\n                  columnNumber: 27\n                }, this)\n              }, trip.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1189,\n                columnNumber: 25\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1182,\n            columnNumber: 19\n          }, this)]\n        }, date, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1178,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1176,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1073,\n      columnNumber: 9\n    }, this), showCreateModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg p-6 w-full max-w-5xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-4\",\n          children: \"Create New Trip Schedule\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1237,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-md font-medium text-gray-700\",\n              children: \"Basic Trip Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1242,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Route\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1246,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: createForm.route_id,\n                onChange: e => setCreateForm(prev => ({\n                  ...prev,\n                  route_id: e.target.value\n                })),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select a route\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1255,\n                  columnNumber: 21\n                }, this), routes.map(route => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: route.id,\n                  children: route.name || `${route.origin_name} → ${route.destination_name}`\n                }, route.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1257,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1249,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1245,\n              columnNumber: 17\n            }, this), createForm.route_id && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 p-3 rounded-lg border border-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-sm font-medium text-gray-700 mb-2\",\n                children: \"Route Stops\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1267,\n                columnNumber: 21\n              }, this), routeStops.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-500 text-center py-2\",\n                children: \"Loading route stops...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1269,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: routeStops.map((stop, index) => {\n                  const isOrigin = index === 0;\n                  const isDestination = index === routeStops.length - 1;\n                  const isMiddle = !isOrigin && !isDestination;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"relative\",\n                      children: [!isDestination && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"h-full w-0.5 bg-blue-500 absolute left-2 top-3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1284,\n                        columnNumber: 35\n                      }, this), isOrigin || isDestination ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"h-4 w-4 rounded-full bg-blue-500 mt-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1287,\n                        columnNumber: 35\n                      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"h-4 w-4 rounded-full border-2 border-blue-500 bg-white mt-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1289,\n                        columnNumber: 35\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1282,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `ml-3 ${isOrigin || isDestination ? 'font-medium' : ''}`,\n                      children: [stop.location_name, isOrigin && ' (Origin)', isDestination && ' (Destination)']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1294,\n                      columnNumber: 31\n                    }, this), !isOrigin && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ml-auto text-xs text-gray-500\",\n                      children: [\"+\", Math.floor(stop.arrival_offset_minutes / 60), \" hrs\", stop.arrival_offset_minutes % 60 > 0 ? ` ${stop.arrival_offset_minutes % 60} mins` : '']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1302,\n                      columnNumber: 33\n                    }, this)]\n                  }, stop.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1280,\n                    columnNumber: 29\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1273,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1266,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Vehicle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1316,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: createForm.vehicle_id,\n                onChange: e => setCreateForm(prev => ({\n                  ...prev,\n                  vehicle_id: e.target.value\n                })),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select a vehicle\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1325,\n                  columnNumber: 21\n                }, this), vehicles.filter(v => v.status === 'active').map(vehicle => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: vehicle.id,\n                  children: [vehicle.license_plate || vehicle.vehicle_number, \" - \", vehicle.model, \" (\", vehicle.capacity, \" seats)\"]\n                }, vehicle.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1327,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1319,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1315,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Departure Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1336,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  value: createForm.departure_date,\n                  onChange: e => setCreateForm(prev => ({\n                    ...prev,\n                    departure_date: e.target.value\n                  })),\n                  className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                  min: systemDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1339,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1335,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Departure Time\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1349,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"time\",\n                  value: createForm.departure_time,\n                  onChange: e => setCreateForm(prev => ({\n                    ...prev,\n                    departure_time: e.target.value\n                  })),\n                  className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1352,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1348,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1334,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1241,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-md font-medium text-gray-700\",\n              children: \"Pricing Configuration\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1364,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Base Price (RM)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1367,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.50\",\n                min: \"0\",\n                value: createForm.base_price,\n                onChange: e => setCreateForm(prev => ({\n                  ...prev,\n                  base_price: e.target.value\n                })),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                placeholder: \"e.g. 45.00\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1370,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1366,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 p-3 rounded-lg border border-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-sm font-medium text-gray-700 mb-2\",\n                children: \"Seat Type Pricing\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1383,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3 mt-3\",\n                children: createForm.seat_types.map(seatType => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"checkbox\",\n                      id: `${seatType.id}-seats`,\n                      className: \"mr-2\",\n                      checked: seatType.enabled,\n                      onChange: e => {\n                        const updatedSeatTypes = createForm.seat_types.map(type => type.id === seatType.id ? {\n                          ...type,\n                          enabled: e.target.checked\n                        } : type);\n                        setCreateForm(prev => ({\n                          ...prev,\n                          seat_types: updatedSeatTypes\n                        }));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1388,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: `${seatType.id}-seats`,\n                      className: \"text-sm\",\n                      children: seatType.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1400,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1387,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-500 mr-2\",\n                      children: \"Multiplier:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1403,\n                      columnNumber: 27\n                    }, this), seatType.id === 'regular' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: \"1.0x\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1405,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      step: \"0.1\",\n                      min: \"1\",\n                      className: \"w-16 px-2 py-1 border border-gray-300 rounded-md\",\n                      value: seatType.multiplier,\n                      onChange: e => handleSeatTypeChange(seatType.id, e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1407,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1402,\n                    columnNumber: 25\n                  }, this)]\n                }, seatType.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1386,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1384,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1382,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 p-3 rounded-lg border border-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-sm font-medium text-gray-700 mb-2\",\n                children: \"Dynamic Pricing Rules\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1424,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3 mt-3\",\n                children: createForm.pricing_rules.map(rule => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"checkbox\",\n                      id: rule.id,\n                      className: \"mr-2\",\n                      checked: rule.enabled,\n                      onChange: e => handlePricingRuleToggle(rule.id, e.target.checked)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1429,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: rule.id,\n                      className: \"text-sm\",\n                      children: rule.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1436,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1428,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-500 mr-2\",\n                      children: rule.id === 'early_booking' ? '-' : '+'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1439,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      step: \"1\",\n                      min: \"0\",\n                      className: \"w-16 px-2 py-1 border border-gray-300 rounded-md\",\n                      value: rule.value,\n                      disabled: !rule.enabled,\n                      onChange: e => handlePricingRuleValueChange(rule.id, e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1440,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-500 ml-1\",\n                      children: \"%\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1449,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1438,\n                    columnNumber: 25\n                  }, this)]\n                }, rule.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1427,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1425,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1423,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1363,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1239,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-3 mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-primary flex-1\",\n            onClick: handleCreateTrip,\n            disabled: !createForm.route_id || !createForm.vehicle_id || !createForm.base_price,\n            children: \"Schedule Trip\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1459,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary flex-1\",\n            onClick: () => setShowCreateModal(false),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1466,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1458,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1236,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1235,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1019,\n    columnNumber: 5\n  }, this);\n};\n\n// Analytics Component\n_s3(ScheduleManagement, \"FkW4j/kzjZChDQpow1/53+nGkvc=\", false, function () {\n  return [useApp];\n});\n_c3 = ScheduleManagement;\nconst Analytics = () => {\n  _s4();\n  var _analyticsData$totalR, _analyticsData$totalP;\n  const [analyticsData, setAnalyticsData] = useState(null);\n  const [routePerformance, setRoutePerformance] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const loadAnalyticsData = async () => {\n      setLoading(true);\n      try {\n        // 加载总体分析数据\n        const statsResponse = await getAnalyticsData();\n        if (statsResponse.success) {\n          setAnalyticsData(statsResponse.data);\n        } else {\n          setError('Failed to load analytics data');\n        }\n\n        // 加载路线表现数据\n        const routeResponse = await getRouteAnalytics();\n        if (routeResponse.success) {\n          setRoutePerformance(routeResponse.data);\n        } else {\n          setError('Failed to load route performance data');\n        }\n      } catch (err) {\n        console.error('Error loading analytics:', err);\n        setError(handleApiError(err));\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadAnalyticsData();\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center py-20\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-12 h-12 border-4 border-primary-600 border-t-transparent rounded-full animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1521,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-gray-600\",\n          children: \"Loading analytics data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1522,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1520,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1519,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card bg-red-50 border-red-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center text-red-600 mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"w-5 h-5 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1532,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-medium\",\n          children: \"Error loading analytics\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1533,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1531,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-600\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1535,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"mt-4 px-4 py-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-md\",\n        onClick: () => window.location.reload(),\n        children: \"Retry\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1536,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1530,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold text-gray-900\",\n      children: \"Analytics & Reports\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1548,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Total Revenue\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1554,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-green-600\",\n              children: [\"RM \", (analyticsData === null || analyticsData === void 0 ? void 0 : (_analyticsData$totalR = analyticsData.totalRevenue) === null || _analyticsData$totalR === void 0 ? void 0 : _analyticsData$totalR.toLocaleString()) || '0']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1555,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1553,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TrendingUp, {\n            className: \"w-8 h-8 text-green-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1559,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1552,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1551,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Average Occupancy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1566,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-blue-600\",\n              children: [typeof (analyticsData === null || analyticsData === void 0 ? void 0 : analyticsData.averageOccupancy) === 'number' ? analyticsData.averageOccupancy.toFixed(1) : '0', \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1567,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1565,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Users, {\n            className: \"w-8 h-8 text-blue-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1571,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1564,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1563,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Total Passengers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1578,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-purple-600\",\n              children: (analyticsData === null || analyticsData === void 0 ? void 0 : (_analyticsData$totalP = analyticsData.totalPassengers) === null || _analyticsData$totalP === void 0 ? void 0 : _analyticsData$totalP.toLocaleString()) || '0'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1579,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1577,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Users, {\n            className: \"w-8 h-8 text-purple-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1583,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1576,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1575,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1550,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: \"Route Performance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1589,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: routePerformance.length > 0 ? routePerformance.map(route => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border border-gray-200 rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-medium text-gray-900\",\n                children: route.route_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1595,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: [route.trips_scheduled, \" trips scheduled\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1596,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1594,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-right space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm font-medium text-green-600\",\n                children: [\"RM \", parseFloat(route.total_revenue || 0).toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1599,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-20 bg-gray-200 rounded-full h-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"h-2 rounded-full transition-all\",\n                    style: {\n                      width: `${Math.min(route.avg_occupancy || 0, 100)}%`,\n                      backgroundColor: (route.avg_occupancy || 0) > 80 ? '#EF4444' : (route.avg_occupancy || 0) > 60 ? '#F59E0B' : '#10B981'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1604,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1603,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs font-medium\",\n                  children: [typeof route.avg_occupancy === 'number' ? route.avg_occupancy.toFixed(0) : '0', \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1612,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1602,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1598,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1593,\n            columnNumber: 15\n          }, this)\n        }, route.route_name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1592,\n          columnNumber: 13\n        }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8 text-gray-500\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No route performance data available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1621,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1620,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1590,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1588,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: \"Monthly Revenue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1628,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-64 bg-gray-50 rounded-lg flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: \"Monthly revenue chart will be displayed here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1630,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1629,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1627,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1547,\n    columnNumber: 5\n  }, this);\n};\n\n// System Settings Component\n_s4(Analytics, \"c3m952FzVoGWG5zwbRSSCx1ASEM=\");\n_c4 = Analytics;\nconst SystemSettings = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold text-gray-900\",\n      children: \"System Settings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1641,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-4\",\n          children: \"Pricing Configuration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1645,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: \"Weekend Surcharge (%)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1648,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"input\",\n              defaultValue: \"15\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1649,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1647,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: \"Peak Hour Multiplier\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1652,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              step: \"0.1\",\n              className: \"input\",\n              defaultValue: \"1.2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1653,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1651,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: \"Early Bird Discount (%)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1656,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"input\",\n              defaultValue: \"15\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1657,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1655,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1646,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1644,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-4\",\n          children: \"Operational Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1663,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: \"Booking Window (days)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1666,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"input\",\n              defaultValue: \"90\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1667,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1665,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: \"Cancellation Deadline (hours)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1670,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"input\",\n              defaultValue: \"24\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1671,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1669,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: \"Maximum Seats per Booking\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1674,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"input\",\n              defaultValue: \"6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1675,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1673,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1664,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1662,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1643,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1640,\n    columnNumber: 5\n  }, this);\n};\n\n// Customer Service Component for Walk-in Ticket Sales\n_c5 = SystemSettings;\nconst CustomerService = () => {\n  _s5();\n  const {\n    locations,\n    systemDate\n  } = useApp();\n  const [currentStep, setCurrentStep] = useState(1); // 1: Search, 2: Select Trip, 3: Customer Info, 4: Payment\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedTrip, setSelectedTrip] = useState(null);\n  const [customerInfo, setCustomerInfo] = useState({\n    fullName: '',\n    phone: '',\n    email: '',\n    icNumber: '',\n    passengerCount: 1\n  });\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [error, setError] = useState(null);\n  const [searchForm, setSearchForm] = useState({\n    origin: '',\n    destination: '',\n    date: systemDate,\n    isRoundTrip: false,\n    returnDate: format(addDays(new Date(systemDate), 1), 'yyyy-MM-dd')\n  });\n  const handleSearch = async () => {\n    setIsProcessing(true);\n    try {\n      const searchParams = {\n        origin: searchForm.origin,\n        destination: searchForm.destination,\n        departureDate: searchForm.date,\n        passengers: customerInfo.passengerCount\n      };\n      const response = await searchTrips(searchParams);\n      if (response.success) {\n        setSearchResults(response.data);\n        setCurrentStep(2);\n      } else {\n        setError('Failed to search trips. Please try again.');\n      }\n    } catch (err) {\n      console.error('Search error:', err);\n      setError(handleApiError(err));\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  const handleTripSelect = trip => {\n    setSelectedTrip(trip);\n    setCurrentStep(3);\n  };\n  const handleCustomerSubmit = () => {\n    if (customerInfo.fullName && customerInfo.phone) {\n      setCurrentStep(4);\n    }\n  };\n  const handlePaymentComplete = () => {\n    // Process booking\n    const bookingRef = `TBS${format(new Date(systemDate), 'yyyyMMddHHmm')}`;\n    alert(`Booking confirmed! Reference: ${bookingRef}`);\n\n    // Reset form\n    setCurrentStep(1);\n    setSearchResults([]);\n    setSelectedTrip(null);\n    setCustomerInfo({\n      fullName: '',\n      phone: '',\n      email: '',\n      icNumber: '',\n      passengerCount: 1\n    });\n  };\n  const resetSearch = () => {\n    setCurrentStep(1);\n    setSearchResults([]);\n    setSelectedTrip(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-50 border border-red-200 rounded-lg p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-shrink-0\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"h-5 w-5 text-red-400\",\n            viewBox: \"0 0 20 20\",\n            fill: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1772,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1771,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1770,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-red-700\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1776,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setError(null),\n            className: \"mt-2 text-red-800 underline hover:text-red-900 text-sm\",\n            children: \"Dismiss\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1777,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1775,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1769,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1768,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: \"Customer Service Portal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1791,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Help walk-in customers purchase tickets quickly and efficiently\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1792,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1790,\n        columnNumber: 9\n      }, this), currentStep > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: resetSearch,\n        className: \"btn-secondary\",\n        children: \"New Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1795,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1789,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: ['Search Trips', 'Select Trip', 'Customer Info', 'Payment'].map((step, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${currentStep > index + 1 ? 'bg-green-500 text-white' : currentStep === index + 1 ? 'bg-primary-500 text-white' : 'bg-gray-200 text-gray-600'}`,\n            children: currentStep > index + 1 ? '✓' : index + 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1806,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `ml-2 text-sm font-medium ${currentStep >= index + 1 ? 'text-gray-900' : 'text-gray-500'}`,\n            children: step\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1813,\n            columnNumber: 15\n          }, this), index < 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-8 h-0.5 mx-4 ${currentStep > index + 1 ? 'bg-green-500' : 'bg-gray-200'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1819,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1805,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1803,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1802,\n      columnNumber: 7\n    }, this), currentStep === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: \"Search Available Trips\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1831,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label\",\n            children: \"From\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1835,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: searchForm.origin,\n            onChange: e => setSearchForm(prev => ({\n              ...prev,\n              origin: e.target.value\n            })),\n            className: \"input w-full\",\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select origin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1842,\n              columnNumber: 17\n            }, this), locations.map(location => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: location.id,\n              children: location.city\n            }, location.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1844,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1836,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1834,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label\",\n            children: \"To\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1850,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: searchForm.destination,\n            onChange: e => setSearchForm(prev => ({\n              ...prev,\n              destination: e.target.value\n            })),\n            className: \"input w-full\",\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select destination\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1857,\n              columnNumber: 17\n            }, this), locations.map(location => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: location.id,\n              children: location.city\n            }, location.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1859,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1851,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1849,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label\",\n            children: \"Departure Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1865,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: searchForm.date,\n            onChange: e => setSearchForm(prev => ({\n              ...prev,\n              date: e.target.value\n            })),\n            min: systemDate,\n            max: format(addDays(new Date(systemDate), 90), 'yyyy-MM-dd'),\n            className: \"input w-full\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1866,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1864,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label\",\n            children: \"Passengers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1878,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: customerInfo.passengerCount,\n            onChange: e => setCustomerInfo(prev => ({\n              ...prev,\n              passengerCount: parseInt(e.target.value)\n            })),\n            className: \"input w-full\",\n            children: [1, 2, 3, 4, 5, 6].map(num => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: num,\n              children: [num, \" passenger\", num > 1 ? 's' : '']\n            }, num, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1885,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1879,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1877,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1833,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSearch,\n        disabled: !searchForm.origin || !searchForm.destination || isProcessing,\n        className: \"btn-primary text-lg px-8 py-3\",\n        children: isProcessing ? 'Searching...' : 'Search Trips'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1891,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1830,\n      columnNumber: 9\n    }, this), currentStep === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: [\"Available Trips (\", searchResults.length, \" found)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1904,\n        columnNumber: 11\n      }, this), searchResults.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-8 text-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No trips found for the selected route and date.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1908,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: resetSearch,\n          className: \"btn-primary mt-4\",\n          children: \"Try Another Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1909,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1907,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: searchResults.map(trip => {\n          var _locations$find3, _locations$find4;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border border-gray-200 rounded-lg p-4 hover:border-primary-300 cursor-pointer\",\n            onClick: () => handleTripSelect(trip),\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-semibold text-lg\",\n                      children: trip.route.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1920,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-600\",\n                      children: [(_locations$find3 = locations.find(l => l.id === trip.route.originId)) === null || _locations$find3 === void 0 ? void 0 : _locations$find3.city, \" \\u2192\", (_locations$find4 = locations.find(l => l.id === trip.route.destinationId)) === null || _locations$find4 === void 0 ? void 0 : _locations$find4.city]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1921,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1919,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-semibold\",\n                      children: trip.departureDatetime.toLocaleTimeString([], {\n                        hour: '2-digit',\n                        minute: '2-digit'\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1927,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-600\",\n                      children: \"Departure\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1928,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1926,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-semibold\",\n                      children: trip.arrivalDatetime.toLocaleTimeString([], {\n                        hour: '2-digit',\n                        minute: '2-digit'\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1931,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-600\",\n                      children: \"Arrival\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1932,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1930,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1918,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1917,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-2xl font-bold text-primary-600\",\n                  children: [\"RM \", trip.route.basePrice]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1937,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600\",\n                  children: [trip.availableSeats, \" seats available\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1938,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `text-xs px-2 py-1 rounded-full ${calculateOccupancy(trip) > 80 ? 'bg-red-100 text-red-600' : calculateOccupancy(trip) > 60 ? 'bg-yellow-100 text-yellow-600' : 'bg-green-100 text-green-600'}`,\n                  children: [calculateOccupancy(trip), \"% occupied\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1939,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1936,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1916,\n              columnNumber: 19\n            }, this)\n          }, trip.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1914,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1912,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1903,\n      columnNumber: 9\n    }, this), currentStep === 3 && selectedTrip && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: \"Customer Information\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1958,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-50 rounded-lg p-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-semibold mb-2\",\n          children: \"Selected Trip\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1962,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-medium\",\n              children: selectedTrip.route.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1965,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: [selectedTrip.departureDatetime.toLocaleDateString(), \" at \", selectedTrip.departureDatetime.toLocaleTimeString([], {\n                hour: '2-digit',\n                minute: '2-digit'\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1966,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1964,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-right\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-lg font-bold text-primary-600\",\n              children: [\"RM \", selectedTrip.route.basePrice * customerInfo.passengerCount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1971,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: [customerInfo.passengerCount, \" passenger\", customerInfo.passengerCount > 1 ? 's' : '']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1972,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1970,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1963,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1961,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label\",\n            children: \"Full Name *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1980,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: customerInfo.fullName,\n            onChange: e => setCustomerInfo(prev => ({\n              ...prev,\n              fullName: e.target.value\n            })),\n            className: \"input w-full\",\n            placeholder: \"Enter customer's full name\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1981,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1979,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label\",\n            children: \"Phone Number *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1992,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            value: customerInfo.phone,\n            onChange: e => setCustomerInfo(prev => ({\n              ...prev,\n              phone: e.target.value\n            })),\n            className: \"input w-full\",\n            placeholder: \"+60123456789\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1993,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1991,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label\",\n            children: \"Email Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2004,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: customerInfo.email,\n            onChange: e => setCustomerInfo(prev => ({\n              ...prev,\n              email: e.target.value\n            })),\n            className: \"input w-full\",\n            placeholder: \"customer@email.com\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2005,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2003,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label\",\n            children: \"IC Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2015,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: customerInfo.icNumber,\n            onChange: e => setCustomerInfo(prev => ({\n              ...prev,\n              icNumber: e.target.value\n            })),\n            className: \"input w-full\",\n            placeholder: \"123456-78-9012\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2016,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2014,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1978,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentStep(2),\n          className: \"btn-secondary\",\n          children: \"Back to Trip Selection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2027,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleCustomerSubmit,\n          disabled: !customerInfo.fullName || !customerInfo.phone,\n          className: \"btn-primary\",\n          children: \"Continue to Payment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2030,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2026,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1957,\n      columnNumber: 9\n    }, this), currentStep === 4 && selectedTrip && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: \"Payment & Confirmation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2044,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-50 rounded-lg p-6 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-semibold mb-4\",\n          children: \"Booking Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2048,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Route:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2052,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: selectedTrip.route.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2053,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2051,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Date & Time:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2056,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: [selectedTrip.departureDatetime.toLocaleDateString(), \" at \", selectedTrip.departureDatetime.toLocaleTimeString([], {\n                hour: '2-digit',\n                minute: '2-digit'\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2057,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2055,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Passenger:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2062,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: customerInfo.fullName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2063,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2061,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Phone:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2066,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: customerInfo.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2067,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2065,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Passengers:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2070,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: customerInfo.passengerCount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2071,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2069,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2073,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between text-lg font-bold\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Total Amount:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2075,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-primary-600\",\n              children: [\"RM \", selectedTrip.route.basePrice * customerInfo.passengerCount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2076,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2074,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2050,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2047,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-semibold mb-3\",\n          children: \"Payment Method\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2083,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"border-2 border-primary-500 bg-primary-50 text-primary-700 rounded-lg p-4 text-center\",\n            children: \"\\uD83D\\uDCB3 Card Payment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2085,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"border-2 border-gray-200 hover:border-gray-300 rounded-lg p-4 text-center\",\n            children: \"\\uD83D\\uDCB0 Cash Payment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2088,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"border-2 border-gray-200 hover:border-gray-300 rounded-lg p-4 text-center\",\n            children: \"\\uD83D\\uDCF1 E-Wallet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2091,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2084,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2082,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentStep(3),\n          className: \"btn-secondary\",\n          children: \"Back to Customer Info\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2098,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlePaymentComplete,\n          className: \"btn-primary\",\n          children: \"Confirm Payment & Issue Ticket\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2101,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2097,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2043,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1765,\n    columnNumber: 5\n  }, this);\n};\n\n// Route Management Component\n_s5(CustomerService, \"rS0HA24CLg3OjmITVtMHMDmVtxk=\", false, function () {\n  return [useApp];\n});\n_c6 = CustomerService;\nconst RouteManagement = ({\n  routes = [],\n  onRefresh\n}) => {\n  _s6();\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [locations, setLocations] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [createForm, setCreateForm] = useState({\n    name: '',\n    origin_id: '',\n    destination_id: '',\n    base_price: 0,\n    stops: []\n  });\n\n  // Load locations for route creation\n  useEffect(() => {\n    const loadLocations = async () => {\n      try {\n        const response = await getLocationsForRoutes();\n        if (response.success) {\n          setLocations(response.data);\n        }\n      } catch (error) {\n        console.error('Error loading locations:', error);\n      }\n    };\n    loadLocations();\n  }, []);\n  const handleAddStop = () => {\n    setCreateForm(prev => ({\n      ...prev,\n      stops: [...prev.stops, {\n        location_id: '',\n        arrival_offset_minutes: 30,\n        departure_offset_minutes: 35,\n        price_from_origin: 0\n      }]\n    }));\n  };\n  const handleRemoveStop = index => {\n    setCreateForm(prev => ({\n      ...prev,\n      stops: prev.stops.filter((_, i) => i !== index)\n    }));\n  };\n  const handleStopChange = (index, field, value) => {\n    setCreateForm(prev => {\n      const newStops = [...prev.stops];\n      newStops[index] = {\n        ...newStops[index],\n        [field]: value\n      };\n      return {\n        ...prev,\n        stops: newStops\n      };\n    });\n  };\n  const handleCreateRoute = async () => {\n    setLoading(true);\n    try {\n      const response = await createRoute(createForm);\n      if (response.success) {\n        setShowCreateModal(false);\n        setCreateForm({\n          name: '',\n          origin_id: '',\n          destination_id: '',\n          base_price: 0,\n          stops: []\n        });\n        onRefresh();\n        alert('Route created successfully!');\n      } else {\n        alert('Failed to create route');\n      }\n    } catch (error) {\n      console.error('Error creating route:', error);\n      alert('Error creating route');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-900\",\n        children: \"Route Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-primary flex items-center\",\n        onClick: () => setShowCreateModal(true),\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          className: \"w-4 h-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2207,\n          columnNumber: 11\n        }, this), \"Create New Route\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2203,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: routes.map(route => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Map, {\n                className: \"w-5 h-5 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2219,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2218,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-gray-900\",\n                children: route.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2222,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: route.route_code\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2223,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2221,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2217,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500\",\n            children: [\"RM \", route.base_price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2226,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2216,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2 text-sm text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(MapPin, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2232,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [route.origin_name, \" \\u2192 \", route.destination_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2233,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2231,\n          columnNumber: 13\n        }, this), route.total_trips > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 flex items-center justify-between text-xs\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-500\",\n            children: \"Trip Count:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2238,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: [route.total_trips, \" trips\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2239,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2237,\n          columnNumber: 15\n        }, this), route.avg_occupancy > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between text-xs\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-500\",\n            children: \"Avg. Occupation:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2245,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-16 bg-gray-200 rounded-full h-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"h-2 rounded-full transition-all\",\n                style: {\n                  width: `${Math.min(route.avg_occupancy || 0, 100)}%`,\n                  backgroundColor: (route.avg_occupancy || 0) > 80 ? '#EF4444' : (route.avg_occupancy || 0) > 60 ? '#F59E0B' : '#10B981'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2248,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2247,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: [typeof route.avg_occupancy === 'number' ? route.avg_occupancy.toFixed(0) : '0', \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2256,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2246,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2244,\n          columnNumber: 15\n        }, this)]\n      }, route.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2215,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2213,\n      columnNumber: 7\n    }, this), showCreateModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg p-6 w-full max-w-4xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-4\",\n          children: \"Create New Route\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2270,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Route Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2274,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: createForm.name,\n              onChange: e => setCreateForm(prev => ({\n                ...prev,\n                name: e.target.value\n              })),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              placeholder: \"e.g. KL - Penang Express\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2277,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2273,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Origin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2289,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: createForm.origin_id,\n                onChange: e => setCreateForm(prev => ({\n                  ...prev,\n                  origin_id: e.target.value\n                })),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select origin location\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2298,\n                  columnNumber: 21\n                }, this), locations.map(location => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: location.id,\n                  children: [location.name, \", \", location.city]\n                }, location.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2300,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2292,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2288,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Destination\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2308,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: createForm.destination_id,\n                onChange: e => setCreateForm(prev => ({\n                  ...prev,\n                  destination_id: e.target.value\n                })),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select destination location\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2317,\n                  columnNumber: 21\n                }, this), locations.map(location => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: location.id,\n                  children: [location.name, \", \", location.city]\n                }, location.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2319,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2311,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2307,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2287,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Base Price (RM)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2328,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              step: \"0.50\",\n              min: \"0\",\n              value: createForm.base_price,\n              onChange: e => setCreateForm(prev => ({\n                ...prev,\n                base_price: parseFloat(e.target.value)\n              })),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              placeholder: \"e.g. 45.00\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2331,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2327,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Middle Stops (Optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2346,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"text-sm text-blue-600 hover:text-blue-800 flex items-center\",\n                onClick: handleAddStop,\n                children: [/*#__PURE__*/_jsxDEV(Plus, {\n                  className: \"w-4 h-4 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2354,\n                  columnNumber: 21\n                }, this), \"Add Stop\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2349,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2345,\n              columnNumber: 17\n            }, this), createForm.stops.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500 text-center py-4 border border-dashed border-gray-300 rounded-md\",\n              children: \"No middle stops added. Click \\\"Add Stop\\\" to add intermediate stops.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2360,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: createForm.stops.map((stop, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-3 border border-gray-200 rounded-md bg-gray-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"text-sm font-medium text-gray-700\",\n                    children: [\"Stop #\", index + 1]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2368,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"text-sm text-red-600 hover:text-red-800\",\n                    onClick: () => handleRemoveStop(index),\n                    children: /*#__PURE__*/_jsxDEV(X, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2374,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2369,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2367,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-2 gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-xs text-gray-700 mb-1\",\n                      children: \"Location\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2380,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                      value: stop.location_id,\n                      onChange: e => handleStopChange(index, 'location_id', e.target.value),\n                      className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\",\n                      required: true,\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"\",\n                        children: \"Select location\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2389,\n                        columnNumber: 31\n                      }, this), locations.filter(loc => loc.id !== createForm.origin_id && loc.id !== createForm.destination_id && !createForm.stops.some((s, i) => i !== index && s.location_id === loc.id)).map(location => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: location.id,\n                        children: [location.name, \", \", location.city]\n                      }, location.id, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2395,\n                        columnNumber: 33\n                      }, this))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2383,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2379,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-xs text-gray-700 mb-1\",\n                      children: \"Price from Origin (RM)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2403,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      step: \"0.50\",\n                      min: \"0\",\n                      value: stop.price_from_origin,\n                      onChange: e => handleStopChange(index, 'price_from_origin', parseFloat(e.target.value)),\n                      className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2406,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2402,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2378,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-3 mt-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-xs text-gray-700 mb-1\",\n                      children: \"Arrival Offset (minutes)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2419,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      min: \"0\",\n                      value: stop.arrival_offset_minutes,\n                      onChange: e => handleStopChange(index, 'arrival_offset_minutes', parseInt(e.target.value)),\n                      className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2422,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2418,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-xs text-gray-700 mb-1\",\n                      children: \"Departure Offset (minutes)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2432,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      min: \"0\",\n                      value: stop.departure_offset_minutes,\n                      onChange: e => handleStopChange(index, 'departure_offset_minutes', parseInt(e.target.value)),\n                      className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2435,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2431,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2417,\n                  columnNumber: 25\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2366,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2364,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2344,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2272,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-3 mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-primary flex-1\",\n            onClick: handleCreateRoute,\n            disabled: loading || !createForm.name || !createForm.origin_id || !createForm.destination_id || !createForm.base_price,\n            children: loading ? 'Creating...' : 'Create Route'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2452,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary flex-1\",\n            onClick: () => setShowCreateModal(false),\n            disabled: loading,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2459,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2451,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2269,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2268,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2200,\n    columnNumber: 5\n  }, this);\n};\n_s6(RouteManagement, \"QueJrxCzh+CXhcD0+DejMwi2i5I=\");\n_c7 = RouteManagement;\nexport default AdminDashboard;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"AdminDashboard\");\n$RefreshReg$(_c2, \"VehicleManagement\");\n$RefreshReg$(_c3, \"ScheduleManagement\");\n$RefreshReg$(_c4, \"Analytics\");\n$RefreshReg$(_c5, \"SystemSettings\");\n$RefreshReg$(_c6, \"CustomerService\");\n$RefreshReg$(_c7, \"RouteManagement\");","map":{"version":3,"names":["React","useState","useEffect","Bus","Route","Calendar","MapPin","Settings","BarChart3","Plus","Edit","Trash2","ArrowRight","TrendingUp","Users","Loader","AlertCircle","Truck","Map","X","PieChart","getDashboardStats","getAnalyticsData","getVehicles","getRoutes","getTodaysSchedule","searchTrips","calculateOccupancy","handleApiError","getRouteAnalytics","getLocationsForRoutes","createRoute","getRouteStops","getSchedules","useApp","RouteMap","RouteDetails","format","addDays","jsxDEV","_jsxDEV","Fragment","_Fragment","AdminDashboard","activeTab","setActiveTab","_s","locations","systemDate","loading","setLoading","error","setError","stats","setStats","activeRoutes","activeTrips","fleetSize","scheduledTrips","routes","setRoutes","vehicles","setVehicles","todaysSchedule","setTodaysSchedule","selectedRoute","setSelectedRoute","showRouteDetails","setShowRouteDetails","detailRoute","setDetailRoute","loadDashboardData","statsResponse","routesResponse","vehiclesResponse","scheduleResponse","Promise","all","success","data","err","console","handleRouteClick","route","handleViewRoute","clearSelection","className","children","fileName","_jsxFileName","lineNumber","columnNumber","viewBox","fill","fillRule","d","clipRule","onClick","CustomerService","map","_locations$find","_locations$find2","id","name","e","stopPropagation","title","find","l","originId","city","destinationId","distanceKm","Math","floor","durationHours","round","basePrice","routeTrips","filter","trip","routeId","avgOccupation","length","reduce","sum","style","width","min","backgroundColor","toFixed","selectedTrips","VehicleManagement","onRefresh","ScheduleManagement","Analytics","SystemSettings","RouteManagement","zIndex","onClose","_c","_s2","showAddVehicle","setShowAddVehicle","editingVehicle","setEditingVehicle","showServiceModal","setShowServiceModal","handleAddVehicle","handleEditVehicle","vehicle","editCapacity","vehicle_capacity","capacity","editMileage","current_mileage","editLastService","last_service_date","handleServiceVehicle","newStatus","status","response","fetch","method","headers","body","JSON","stringify","ok","message","setTimeout","alert","handleSaveEdit","updateData","license_plate","plateNumber","vehicle_number","model","toLocaleString","Date","toLocaleDateString","lastService","type","value","onChange","prev","parseInt","target","max","disabled","_c2","_s3","selectedDate","setSelectedDate","filteredSchedule","setFilteredSchedule","showCreateModal","setShowCreateModal","createForm","setCreateForm","route_id","vehicle_id","departure_date","departure_time","base_price","seat_types","multiplier","enabled","pricing_rules","stops","routeStops","setRouteStops","dateRange","setDateRange","startDate","endDate","loadingSchedule","setLoadingSchedule","viewMode","setViewMode","loadScheduleForDate","json","sortedSchedule","sort","a","b","dateA","departure_datetime","dateB","toDateString","getTime","loadRouteStops","formatTime","datetime","toLocaleTimeString","hour","minute","formatDate","getStatusColor","handleSeatTypeChange","updatedSeatTypes","parseFloat","handlePricingRuleToggle","updatedRules","rule","handlePricingRuleValueChange","handleCreateTrip","departureDateTime","arrivalOffset","lastStop","arrival_offset_minutes","arrivalDateTime","toISOString","slice","replace","enabledSeatTypes","enabledPricingRules","estimated_arrival_datetime","dynamic_pricing_enabled","errorData","getTripsByDate","groupedTrips","forEach","date","push","setWeekView","currentDate","startOfWeek","setDate","getDate","getDay","endOfWeek","split","setMonthView","startOfMonth","getFullYear","getMonth","endOfMonth","setDayView","getDateRangeText","month","year","occupiedSeats","occupied_seats","total_seats","available_seats","occupancyPercentage","occupancy_percentage","route_name","origin_name","destination_name","vehicle_model","toUpperCase","Object","entries","trips","weekday","day","required","stop","index","isOrigin","isDestination","isMiddle","location_name","v","step","placeholder","seatType","checked","htmlFor","_c3","_s4","_analyticsData$totalR","_analyticsData$totalP","analyticsData","setAnalyticsData","routePerformance","setRoutePerformance","loadAnalyticsData","routeResponse","window","location","reload","totalRevenue","averageOccupancy","totalPassengers","trips_scheduled","total_revenue","avg_occupancy","_c4","defaultValue","_c5","_s5","currentStep","setCurrentStep","searchResults","setSearchResults","selectedTrip","setSelectedTrip","customerInfo","setCustomerInfo","fullName","phone","email","icNumber","passengerCount","isProcessing","setIsProcessing","searchForm","setSearchForm","origin","destination","isRoundTrip","returnDate","handleSearch","searchParams","departureDate","passengers","handleTripSelect","handleCustomerSubmit","handlePaymentComplete","bookingRef","resetSearch","num","_locations$find3","_locations$find4","departureDatetime","arrivalDatetime","availableSeats","_c6","_s6","setLocations","origin_id","destination_id","loadLocations","handleAddStop","location_id","departure_offset_minutes","price_from_origin","handleRemoveStop","_","i","handleStopChange","field","newStops","handleCreateRoute","route_code","total_trips","loc","some","s","_c7","$RefreshReg$"],"sources":["/Users/gohshunda/TWT-Transport-Booking/src/pages/admin/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Bus, \n  Route, \n  Calendar,\n  MapPin,\n  Settings,\n  BarChart3,\n  Plus,\n  Edit,\n  Trash2,\n  ArrowRight,\n  TrendingUp,\n  Users,\n  Loader,\n  AlertCircle,\n  Truck,\n  Map,\n  X,\n  PieChart\n} from 'lucide-react';\nimport { \n  getDashboardStats, \n  getAnalyticsData, \n  getVehicles, \n  getRoutes, \n  getTodaysSchedule,\n  searchTrips,\n  calculateOccupancy,\n  handleApiError,\n  getRouteAnalytics,\n  getLocationsForRoutes,\n  createRoute,\n  getRouteStops,\n  getSchedules\n} from '../../services/adminApi';\nimport { useApp } from '../../context/AppContext';\nimport RouteMap from '../../components/admin/RouteMap';\nimport RouteDetails from '../../components/admin/RouteDetails';\nimport { format, addDays } from 'date-fns';\n\nconst AdminDashboard = ({ activeTab = 'customer-service', setActiveTab }) => {\n  const { locations, systemDate } = useApp();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  \n  const [stats, setStats] = useState({\n    activeRoutes: 0,\n    activeTrips: 0,\n    fleetSize: 0,\n    scheduledTrips: 0\n  });\n  \n\n  \n  const [routes, setRoutes] = useState([]);\n  const [vehicles, setVehicles] = useState([]);\n  const [todaysSchedule, setTodaysSchedule] = useState([]);\n  const [selectedRoute, setSelectedRoute] = useState(null);\n  const [showRouteDetails, setShowRouteDetails] = useState(false);\n  const [detailRoute, setDetailRoute] = useState(null);\n\n  useEffect(() => {\n    loadDashboardData();\n  }, []);\n\n  const loadDashboardData = async () => {\n    setLoading(true);\n    try {\n      // Load all dashboard data in parallel\n      const [\n        statsResponse,\n        routesResponse,\n        vehiclesResponse,\n        scheduleResponse\n      ] = await Promise.all([\n        getDashboardStats(),\n        getRoutes(),\n        getVehicles(),\n        getTodaysSchedule()\n      ]);\n\n      if (statsResponse.success) {\n        setStats(statsResponse.data);\n      }\n\n      if (routesResponse.success) {\n        setRoutes(routesResponse.data);\n      }\n\n      if (vehiclesResponse.success) {\n        setVehicles(vehiclesResponse.data);\n      }\n\n      if (scheduleResponse.success) {\n        setTodaysSchedule(scheduleResponse.data);\n      }\n\n      setError(null);\n    } catch (err) {\n      console.error('Error loading dashboard data:', err);\n      setError(handleApiError(err));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleRouteClick = (route) => {\n    setSelectedRoute(route);\n  };\n\n  const handleViewRoute = (route) => {\n    setDetailRoute(route);\n    setShowRouteDetails(true);\n  };\n\n  const clearSelection = () => {\n    setSelectedRoute(null);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"flex items-center justify-center h-64\">\n          <Loader className=\"w-8 h-8 animate-spin text-primary-600\" />\n          <span className=\"ml-2 text-gray-600\">Loading dashboard data...</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <div className=\"flex\">\n            <div className=\"flex-shrink-0\">\n              <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n              </svg>\n            </div>\n            <div className=\"ml-3\">\n              <h3 className=\"text-sm font-medium text-red-800\">Error loading dashboard</h3>\n              <div className=\"mt-2 text-sm text-red-700\">\n                <p>{error}</p>\n                <button \n                  onClick={loadDashboardData}\n                  className=\"mt-2 text-red-800 underline hover:text-red-900\"\n                >\n                  Try again\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      {/* Tab Content */}\n      {activeTab === 'customer-service' && (\n        <CustomerService />\n      )}\n\n      {activeTab === 'overview' && (\n        <>\n          {/* Action Buttons */}\n          <div className=\"flex justify-end mb-6\">\n            <div className=\"flex space-x-3\">\n              <button \n                onClick={() => setActiveTab('analytics')}\n                className=\"btn-secondary flex items-center\"\n              >\n                <BarChart3 className=\"w-4 h-4 mr-2\" />\n                Analytics\n              </button>\n              <button \n                onClick={() => setActiveTab('schedule')}\n                className=\"btn-primary flex items-center\"\n              >\n                <Plus className=\"w-4 h-4 mr-2\" />\n                Add Route\n              </button>\n            </div>\n          </div>\n\n          {/* Stats Cards */}\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n            <div className=\"card\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm text-gray-600\">Active Routes</p>\n                  <p className=\"text-3xl font-bold text-primary-600\">{stats.activeRoutes}</p>\n                </div>\n                <div className=\"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center\">\n                  <Route className=\"w-6 h-6 text-primary-600\" />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"card\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm text-gray-600\">Active Trips</p>\n                  <p className=\"text-3xl font-bold text-success-600\">{stats.activeTrips}</p>\n                </div>\n                <div className=\"w-12 h-12 bg-success-100 rounded-full flex items-center justify-center\">\n                  <Bus className=\"w-6 h-6 text-success-600\" />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"card\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm text-gray-600\">Fleet Size</p>\n                  <p className=\"text-3xl font-bold text-warning-600\">{stats.fleetSize}</p>\n                </div>\n                <div className=\"w-12 h-12 bg-warning-100 rounded-full flex items-center justify-center\">\n                  <Settings className=\"w-6 h-6 text-warning-600\" />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"card\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm text-gray-600\">Scheduled Trips</p>\n                  <p className=\"text-3xl font-bold text-purple-600\">{stats.scheduledTrips}</p>\n                </div>\n                <div className=\"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center\">\n                  <Calendar className=\"w-6 h-6 text-purple-600\" />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Management Cards */}\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n            <div className=\"card hover:shadow-lg transition-shadow cursor-pointer\" onClick={() => setActiveTab('vehicles')}>\n              <div className=\"flex items-center justify-between mb-4\">\n                <div className=\"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center\">\n                  <Bus className=\"w-6 h-6 text-blue-600\" />\n                </div>\n                <ArrowRight className=\"w-5 h-5 text-gray-400\" />\n              </div>\n              <h3 className=\"font-semibold text-lg text-gray-900 mb-2\">Manage Vehicles</h3>\n              <p className=\"text-gray-600 text-sm\">Add, edit, or maintain vehicles</p>\n            </div>\n\n            <div className=\"card hover:shadow-lg transition-shadow cursor-pointer\" onClick={() => setActiveTab('schedule')}>\n              <div className=\"flex items-center justify-between mb-4\">\n                <div className=\"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center\">\n                  <MapPin className=\"w-6 h-6 text-green-600\" />\n                </div>\n                <ArrowRight className=\"w-5 h-5 text-gray-400\" />\n              </div>\n              <h3 className=\"font-semibold text-lg text-gray-900 mb-2\">Route Planning</h3>\n              <p className=\"text-gray-600 text-sm\">Create and optimize routes</p>\n            </div>\n\n            <div className=\"card hover:shadow-lg transition-shadow cursor-pointer\" onClick={() => setActiveTab('schedule')}>\n              <div className=\"flex items-center justify-between mb-4\">\n                <div className=\"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center\">\n                  <Calendar className=\"w-6 h-6 text-yellow-600\" />\n                </div>\n                <ArrowRight className=\"w-5 h-5 text-gray-400\" />\n              </div>\n              <h3 className=\"font-semibold text-lg text-gray-900 mb-2\">Schedule Trips</h3>\n              <p className=\"text-gray-600 text-sm\">Plan daily operations</p>\n            </div>\n\n            <div className=\"card hover:shadow-lg transition-shadow cursor-pointer\" onClick={() => setActiveTab('settings')}>\n              <div className=\"flex items-center justify-between mb-4\">\n                <div className=\"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center\">\n                  <Settings className=\"w-6 h-6 text-purple-600\" />\n                </div>\n                <ArrowRight className=\"w-5 h-5 text-gray-400\" />\n              </div>\n              <h3 className=\"font-semibold text-lg text-gray-900 mb-2\">System Settings</h3>\n              <p className=\"text-gray-600 text-sm\">Configure system parameters</p>\n            </div>\n          </div>\n\n          {/* Active Routes and Map */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\">\n            {/* Active Routes */}\n            <div className=\"card\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-semibold\">Active Routes</h3>\n                <button onClick={clearSelection} className=\"btn-secondary text-sm\">\n                  Clear Selection\n                </button>\n              </div>\n              \n              <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n                {routes.map((route) => (\n                  <div \n                    key={route.id}\n                    className={`p-4 border rounded-lg cursor-pointer transition-colors ${\n                      selectedRoute?.id === route.id ? 'border-primary-500 bg-primary-50' : 'border-gray-200 hover:border-gray-300'\n                    }`}\n                    onClick={() => handleRouteClick(route)}\n                  >\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center justify-between mb-2\">\n                          <h4 className=\"font-medium text-gray-900\">{route.name}</h4>\n                          <div className=\"flex space-x-2\">\n                            <button \n                              onClick={(e) => {\n                                e.stopPropagation();\n                                handleViewRoute(route);\n                              }}\n                              className=\"text-primary-600 hover:text-primary-700\"\n                              title=\"View Details\"\n                            >\n                              <BarChart3 className=\"w-4 h-4\" />\n                            </button>\n                            <button className=\"text-gray-400 hover:text-gray-600\" title=\"Edit\">\n                              <Edit className=\"w-4 h-4\" />\n                            </button>\n                            <button className=\"text-red-400 hover:text-red-600\" title=\"Delete\">\n                              <Trash2 className=\"w-4 h-4\" />\n                            </button>\n                          </div>\n                        </div>\n                        <div className=\"text-sm text-gray-600 space-y-1\">\n                          <div className=\"flex items-center\">\n                            <MapPin className=\"w-4 h-4 mr-2\" />\n                            {locations.find(l => l.id === route.originId)?.city} → {locations.find(l => l.id === route.destinationId)?.city}\n                          </div>\n                          <div className=\"flex items-center justify-between\">\n                            <span>Distance: {route.distanceKm} km</span>\n                            <span>Duration: {Math.floor(route.durationHours)}h {Math.round((route.durationHours % 1) * 60)}m</span>\n                            <span className=\"text-primary-600 font-medium\">Price: RM {route.basePrice}</span>\n                          </div>\n                          \n                          {/* Trip Occupation for this route */}\n                          <div className=\"mt-2\">\n                            {(() => {\n                              const routeTrips = todaysSchedule.filter(trip => trip.routeId === route.id);\n                              const avgOccupation = routeTrips.length > 0 \n                                ? routeTrips.reduce((sum, trip) => sum + calculateOccupancy(trip), 0) / routeTrips.length\n                                : 0;\n                              \n                              return avgOccupation > 0 && (\n                                <div className=\"flex items-center justify-between text-xs\">\n                                  <span className=\"text-gray-500\">Avg. Occupation:</span>\n                                  <div className=\"flex items-center space-x-2\">\n                                    <div className=\"w-16 bg-gray-200 rounded-full h-2\">\n                                      <div \n                                        className=\"h-2 rounded-full transition-all\"\n                                        style={{ \n                                          width: `${Math.min(avgOccupation, 100)}%`,\n                                          backgroundColor: avgOccupation > 80 ? '#EF4444' : avgOccupation > 60 ? '#F59E0B' : '#10B981'\n                                        }}\n                                      ></div>\n                                    </div>\n                                    <span className={`font-medium ${avgOccupation > 80 ? 'text-red-600' : avgOccupation > 60 ? 'text-yellow-600' : 'text-green-600'}`}>\n                                      {typeof avgOccupation === 'number' ? avgOccupation.toFixed(0) : '0'}%\n                                    </span>\n                                  </div>\n                                </div>\n                              );\n                            })()}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Route Visualization */}\n            <div className=\"card\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-semibold\">Route Visualization</h3>\n                <button className=\"btn-secondary text-sm\">\n                  Clear Selection\n                </button>\n              </div>\n              \n              <div className=\"h-96 bg-gray-100 rounded-lg\">\n                <RouteMap \n                  routes={selectedRoute ? [selectedRoute] : routes}\n                  locations={locations}\n                  selectedTrips={todaysSchedule}\n                />\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n\n      {activeTab === 'vehicles' && (\n        <VehicleManagement vehicles={vehicles} onRefresh={loadDashboardData} />\n      )}\n\n      {activeTab === 'schedule' && (\n        <ScheduleManagement \n          todaysSchedule={todaysSchedule} \n          routes={routes} \n          vehicles={vehicles} \n          onRefresh={loadDashboardData}\n        />\n      )}\n\n      {activeTab === 'analytics' && (\n        <Analytics />\n      )}\n\n      {activeTab === 'settings' && (\n        <SystemSettings />\n      )}\n\n      {activeTab === 'routes' && (\n        <RouteManagement routes={routes} onRefresh={loadDashboardData} />\n      )}\n\n      {/* Route Details Modal */}\n      {showRouteDetails && (\n        <div style={{ zIndex: 9999 }}>\n          <RouteDetails\n            route={detailRoute}\n            locations={locations}\n            onClose={() => {\n              setShowRouteDetails(false);\n              setDetailRoute(null);\n            }}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Vehicle Management Component\nconst VehicleManagement = ({ vehicles = [], onRefresh }) => {\n  const [showAddVehicle, setShowAddVehicle] = useState(false);\n  const [editingVehicle, setEditingVehicle] = useState(null);\n  const [showServiceModal, setShowServiceModal] = useState(null);\n\n  const handleAddVehicle = () => {\n    setShowAddVehicle(true);\n  };\n\n  const handleEditVehicle = (vehicle) => {\n    setEditingVehicle({\n      ...vehicle,\n      editCapacity: vehicle.vehicle_capacity || vehicle.capacity || 0,\n      editMileage: vehicle.current_mileage || 0,\n      editLastService: vehicle.last_service_date || ''\n    });\n  };\n\n  const handleServiceVehicle = async (vehicle) => {\n    try {\n      // Toggle between active and maintenance status\n      const newStatus = vehicle.status === 'active' ? 'maintenance' : 'active';\n      \n      const response = await fetch(`http://localhost:5001/api/admin/vehicles/${vehicle.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ status: newStatus }),\n      });\n\n      if (response.ok) {\n        setShowServiceModal({\n          ...vehicle,\n          newStatus,\n          message: newStatus === 'maintenance' \n            ? 'Vehicle has been marked for maintenance' \n            : 'Vehicle has been returned to active service'\n        });\n        // Refresh data after a short delay\n        setTimeout(() => {\n          onRefresh();\n        }, 1500);\n      } else {\n        alert('Failed to update vehicle status');\n      }\n    } catch (error) {\n      console.error('Error updating vehicle status:', error);\n      alert('Error updating vehicle status');\n    }\n  };\n\n  const handleSaveEdit = async () => {\n    try {\n      const updateData = {\n        current_mileage: editingVehicle.editMileage,\n        last_service_date: editingVehicle.editLastService || null\n      };\n\n      // Update capacity through vehicle_types if needed\n      if (editingVehicle.editCapacity !== editingVehicle.vehicle_capacity) {\n        // For now, we'll skip capacity update as it's tied to vehicle_type\n        // In a real scenario, you'd either update vehicle_type or create new type\n      }\n\n      const response = await fetch(`http://localhost:5001/api/admin/vehicles/${editingVehicle.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(updateData),\n      });\n\n      if (response.ok) {\n        setEditingVehicle(null);\n        onRefresh();\n        alert('Vehicle updated successfully!');\n      } else {\n        alert('Failed to update vehicle');\n      }\n    } catch (error) {\n      console.error('Error updating vehicle:', error);\n      alert('Error updating vehicle');\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-2xl font-bold text-gray-900\">Vehicle Management</h2>\n        <button \n          className=\"btn-primary flex items-center\"\n          onClick={handleAddVehicle}\n        >\n          <Plus className=\"w-4 h-4 mr-2\" />\n          Add Vehicle\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {vehicles.map((vehicle) => (\n          <div key={vehicle.id} className=\"card\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\">\n                  <Bus className=\"w-5 h-5 text-blue-600\" />\n                </div>\n                <div>\n                  <h3 className=\"font-semibold text-gray-900\">{vehicle.license_plate || vehicle.plateNumber || vehicle.vehicle_number}</h3>\n                  <p className=\"text-sm text-gray-600\">{vehicle.model || 'N/A'}</p>\n                </div>\n              </div>\n              <span className={`px-2 py-1 rounded-full text-xs font-medium ${\n                vehicle.status === 'active' ? 'bg-green-100 text-green-800' :\n                vehicle.status === 'maintenance' ? 'bg-yellow-100 text-yellow-800' :\n                'bg-red-100 text-red-800'\n              }`}>\n                {vehicle.status}\n              </span>\n            </div>\n            \n            <div className=\"space-y-2 text-sm\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Capacity:</span>\n                <span className=\"font-medium\">{vehicle.vehicle_capacity || vehicle.capacity || 'N/A'} seats</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Mileage:</span>\n                <span className=\"font-medium\">{vehicle.current_mileage ? vehicle.current_mileage.toLocaleString() : 'N/A'} km</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Last Service:</span>\n                <span className=\"font-medium\">\n                  {vehicle.last_service_date \n                    ? new Date(vehicle.last_service_date).toLocaleDateString('en-GB')\n                    : vehicle.lastService || 'N/A'}\n                </span>\n              </div>\n            </div>\n\n            <div className=\"mt-4 flex space-x-2\">\n              <button \n                className=\"btn-secondary text-xs flex-1\"\n                onClick={() => handleEditVehicle(vehicle)}\n              >\n                Edit\n              </button>\n              <button \n                className=\"btn-secondary text-xs flex-1\"\n                onClick={() => handleServiceVehicle(vehicle)}\n              >\n                Service\n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Add Vehicle Modal */}\n      {showAddVehicle && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n            <h3 className=\"text-lg font-semibold mb-4\">Add New Vehicle</h3>\n            <p className=\"text-gray-600 mb-4\">Add vehicle functionality coming soon...</p>\n            <button \n              className=\"btn-secondary w-full\"\n              onClick={() => setShowAddVehicle(false)}\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Edit Vehicle Modal */}\n      {editingVehicle && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n            <h3 className=\"text-lg font-semibold mb-4\">Edit Vehicle: {editingVehicle.license_plate}</h3>\n            \n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Capacity (seats)\n                </label>\n                <input\n                  type=\"number\"\n                  value={editingVehicle.editCapacity}\n                  onChange={(e) => setEditingVehicle(prev => ({\n                    ...prev,\n                    editCapacity: parseInt(e.target.value)\n                  }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  min=\"1\"\n                  max=\"100\"\n                  disabled\n                />\n                <p className=\"text-xs text-gray-500 mt-1\">Capacity is determined by vehicle type</p>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Current Mileage (km)\n                </label>\n                <input\n                  type=\"number\"\n                  value={editingVehicle.editMileage}\n                  onChange={(e) => setEditingVehicle(prev => ({\n                    ...prev,\n                    editMileage: parseInt(e.target.value)\n                  }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  min=\"0\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Last Service Date\n                </label>\n                <input\n                  type=\"date\"\n                  value={editingVehicle.editLastService}\n                  onChange={(e) => setEditingVehicle(prev => ({\n                    ...prev,\n                    editLastService: e.target.value\n                  }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n            </div>\n\n            <div className=\"flex space-x-3 mt-6\">\n              <button \n                className=\"btn-primary flex-1\"\n                onClick={handleSaveEdit}\n              >\n                Save Changes\n              </button>\n              <button \n                className=\"btn-secondary flex-1\"\n                onClick={() => setEditingVehicle(null)}\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Service Modal */}\n      {showServiceModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n            <h3 className=\"text-lg font-semibold mb-4\">Service Status: {showServiceModal.license_plate}</h3>\n            \n            <div className=\"text-center mb-6\">\n              <div className={`inline-flex items-center px-4 py-2 rounded-full text-sm font-medium ${\n                showServiceModal.newStatus === 'maintenance' \n                  ? 'bg-yellow-100 text-yellow-800' \n                  : 'bg-green-100 text-green-800'\n              }`}>\n                Status: {showServiceModal.newStatus === 'maintenance' ? 'Under Maintenance' : 'Active Service'}\n              </div>\n              \n              <p className=\"text-gray-600 mt-4\">{showServiceModal.message}</p>\n              \n              {showServiceModal.newStatus === 'maintenance' && (\n                <p className=\"text-sm text-yellow-600 mt-2\">\n                  Vehicle is now out of service. Click Service button again to return to active status.\n                </p>\n              )}\n            </div>\n\n            <button \n              className=\"btn-secondary w-full\"\n              onClick={() => setShowServiceModal(null)}\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Schedule Management Component\nconst ScheduleManagement = ({ todaysSchedule = [], routes = [], vehicles = [], onRefresh }) => {\n  const { systemDate } = useApp();\n  const [selectedDate, setSelectedDate] = useState(systemDate);\n  const [filteredSchedule, setFilteredSchedule] = useState([]);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [createForm, setCreateForm] = useState({\n    route_id: '',\n    vehicle_id: '',\n    departure_date: systemDate,\n    departure_time: '08:00',\n    base_price: 0,\n    seat_types: [\n      { id: 'regular', name: 'Regular Seats', multiplier: 1.0, enabled: true },\n      { id: 'premium', name: 'Premium Seats', multiplier: 1.5, enabled: true },\n      { id: 'vip', name: 'VIP Seats', multiplier: 2.0, enabled: true }\n    ],\n    pricing_rules: [\n      { id: 'weekend', name: 'Weekend Pricing', value: 15, enabled: false },\n      { id: 'holiday', name: 'Holiday Pricing', value: 25, enabled: false },\n      { id: 'early_booking', name: 'Early Booking Discount', value: 10, enabled: false }\n    ],\n    stops: []\n  });\n  \n  // State for route stops\n  const [routeStops, setRouteStops] = useState([]);\n\n  const [dateRange, setDateRange] = useState({\n    startDate: selectedDate,\n    endDate: selectedDate\n  });\n  const [loadingSchedule, setLoadingSchedule] = useState(false);\n  const [viewMode, setViewMode] = useState('day'); // 'day', 'week', 'month'\n\n  // Filter schedule by selected date or date range\n  // Load schedule data based on selected date and view mode\n  useEffect(() => {\n    const loadScheduleForDate = async () => {\n      setLoadingSchedule(true);\n      try {\n        // Use date range if in week or month view mode\n        const startDate = viewMode === 'day' ? selectedDate : dateRange.startDate;\n        const endDate = viewMode === 'day' ? selectedDate : dateRange.endDate;\n        \n        const response = await fetch(`http://localhost:5001/api/admin/schedules?startDate=${startDate}&endDate=${endDate}`);\n        if (response.ok) {\n          const data = await response.json();\n          if (data.success) {\n            // Sort by date then by departure time\n            const sortedSchedule = data.data.sort((a, b) => {\n              const dateA = new Date(a.departure_datetime);\n              const dateB = new Date(b.departure_datetime);\n              \n              if (dateA.toDateString() === dateB.toDateString()) {\n                return dateA.getTime() - dateB.getTime(); // Sort by time if same day\n              }\n              return dateA.getTime() - dateB.getTime(); // Sort by date\n            });\n            \n            setFilteredSchedule(sortedSchedule);\n          }\n        }\n      } catch (error) {\n        console.error('Error loading schedule for date:', error);\n        setFilteredSchedule([]);\n      } finally {\n        setLoadingSchedule(false);\n      }\n    };\n\n    loadScheduleForDate();\n  }, [selectedDate, dateRange, viewMode]);\n  \n  // Load route stops when a route is selected\n  useEffect(() => {\n    const loadRouteStops = async () => {\n      if (!createForm.route_id) {\n        setRouteStops([]);\n        return;\n      }\n      \n      try {\n        const response = await fetch(`http://localhost:5001/api/admin/routes/${createForm.route_id}/stops`);\n        if (response.ok) {\n          const data = await response.json();\n          if (data.success) {\n            setRouteStops(data.data);\n          }\n        }\n      } catch (error) {\n        console.error('Error loading route stops:', error);\n        setRouteStops([]);\n      }\n    };\n    \n    loadRouteStops();\n  }, [createForm.route_id]);\n\n  const formatTime = (datetime) => {\n    try {\n      return new Date(datetime).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});\n    } catch (error) {\n      return 'Invalid time';\n    }\n  };\n\n  const formatDate = (datetime) => {\n    try {\n      return new Date(datetime).toLocaleDateString('en-GB');\n    } catch (error) {\n      return 'Invalid date';\n    }\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'scheduled': return 'bg-blue-100 text-blue-800';\n      case 'boarding': return 'bg-yellow-100 text-yellow-800';\n      case 'in_transit': return 'bg-green-100 text-green-800';\n      case 'arrived': return 'bg-gray-100 text-gray-800';\n      case 'cancelled': return 'bg-red-100 text-red-800';\n      case 'delayed': return 'bg-orange-100 text-orange-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  // Handle seat type multiplier change\n  const handleSeatTypeChange = (id, value) => {\n    setCreateForm(prev => {\n      const updatedSeatTypes = prev.seat_types.map(type => \n        type.id === id ? { ...type, multiplier: parseFloat(value) } : type\n      );\n      return { ...prev, seat_types: updatedSeatTypes };\n    });\n  };\n  \n  // Handle pricing rule toggle\n  const handlePricingRuleToggle = (id, enabled) => {\n    setCreateForm(prev => {\n      const updatedRules = prev.pricing_rules.map(rule => \n        rule.id === id ? { ...rule, enabled } : rule\n      );\n      return { ...prev, pricing_rules: updatedRules };\n    });\n  };\n  \n  // Handle pricing rule value change\n  const handlePricingRuleValueChange = (id, value) => {\n    setCreateForm(prev => {\n      const updatedRules = prev.pricing_rules.map(rule => \n        rule.id === id ? { ...rule, value: parseInt(value, 10) } : rule\n      );\n      return { ...prev, pricing_rules: updatedRules };\n    });\n  };\n  \n  // Create trip schedule with enhanced options\n  const handleCreateTrip = async () => {\n    try {\n      const departureDateTime = `${createForm.departure_date} ${createForm.departure_time}:00`;\n      \n      // Calculate estimated arrival time based on route stops information\n      let arrivalOffset = 4.5; // Default 4.5 hours if no stops data\n      \n      if (routeStops.length > 0) {\n        const lastStop = routeStops[routeStops.length - 1];\n        arrivalOffset = lastStop.arrival_offset_minutes / 60; // Convert minutes to hours\n      }\n      \n      const arrivalDateTime = new Date(new Date(departureDateTime).getTime() + arrivalOffset * 60 * 60 * 1000)\n        .toISOString().slice(0, 19).replace('T', ' ');\n\n      // Calculate pricing information\n      const enabledSeatTypes = createForm.seat_types.filter(type => type.enabled);\n      const enabledPricingRules = createForm.pricing_rules.filter(rule => rule.enabled);\n      \n      const response = await fetch('http://localhost:5001/api/admin/schedules', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          route_id: createForm.route_id,\n          vehicle_id: createForm.vehicle_id,\n          departure_datetime: departureDateTime,\n          estimated_arrival_datetime: arrivalDateTime,\n          base_price: parseFloat(createForm.base_price),\n          seat_types: enabledSeatTypes,\n          pricing_rules: enabledPricingRules,\n          dynamic_pricing_enabled: enabledPricingRules.length > 0\n        }),\n      });\n\n      if (response.ok) {\n        setShowCreateModal(false);\n        setCreateForm({\n          route_id: '',\n          vehicle_id: '',\n          departure_date: systemDate,\n          departure_time: '08:00',\n          base_price: 0,\n          seat_types: [\n            { id: 'regular', name: 'Regular Seats', multiplier: 1.0, enabled: true },\n            { id: 'premium', name: 'Premium Seats', multiplier: 1.5, enabled: true },\n            { id: 'vip', name: 'VIP Seats', multiplier: 2.0, enabled: true }\n          ],\n          pricing_rules: [\n            { id: 'weekend', name: 'Weekend Pricing', value: 15, enabled: false },\n            { id: 'holiday', name: 'Holiday Pricing', value: 25, enabled: false },\n            { id: 'early_booking', name: 'Early Booking Discount', value: 10, enabled: false }\n          ],\n          stops: []\n        });\n        setRouteStops([]);\n        onRefresh();\n        alert('Trip scheduled successfully!');\n      } else {\n        const errorData = await response.json();\n        alert(`Failed to schedule trip: ${errorData.message || 'Unknown error'}`);\n      }\n    } catch (error) {\n      console.error('Error creating trip:', error);\n      alert('Error scheduling trip');\n    }\n  };\n\n  // Function to group trips by date\n  const getTripsByDate = () => {\n    const groupedTrips = {};\n    \n    filteredSchedule.forEach(trip => {\n      const date = new Date(trip.departure_datetime).toDateString();\n      if (!groupedTrips[date]) {\n        groupedTrips[date] = [];\n      }\n      groupedTrips[date].push(trip);\n    });\n    \n    return groupedTrips;\n  };\n  \n  // Set week view dates\n  const setWeekView = () => {\n    const currentDate = new Date(selectedDate);\n    const startOfWeek = new Date(currentDate);\n    startOfWeek.setDate(currentDate.getDate() - currentDate.getDay());\n    \n    const endOfWeek = new Date(startOfWeek);\n    endOfWeek.setDate(startOfWeek.getDate() + 6);\n    \n    setDateRange({\n      startDate: startOfWeek.toISOString().split('T')[0],\n      endDate: endOfWeek.toISOString().split('T')[0]\n    });\n    setViewMode('week');\n  };\n  \n  // Set month view dates\n  const setMonthView = () => {\n    const currentDate = new Date(selectedDate);\n    const startOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);\n    const endOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);\n    \n    setDateRange({\n      startDate: startOfMonth.toISOString().split('T')[0],\n      endDate: endOfMonth.toISOString().split('T')[0]\n    });\n    setViewMode('month');\n  };\n  \n  // Switch back to day view\n  const setDayView = () => {\n    setViewMode('day');\n  };\n  \n  // Get formatted date range text based on view mode\n  const getDateRangeText = () => {\n    if (viewMode === 'day') {\n      return `Schedule for ${formatDate(selectedDate)}`;\n    } \n    else if (viewMode === 'week') {\n      return `Week of ${formatDate(dateRange.startDate)} - ${formatDate(dateRange.endDate)}`;\n    }\n    else {\n      return `Month of ${new Date(dateRange.startDate).toLocaleString('en-US', {month: 'long', year: 'numeric'})}`;\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex flex-wrap justify-between items-center gap-4\">\n        <h2 className=\"text-2xl font-bold text-gray-900\">Schedule Management</h2>\n        <div className=\"flex flex-wrap items-center gap-3\">\n          {/* View mode selector */}\n          <div className=\"inline-flex rounded-md shadow-sm\">\n            <button\n              className={`px-4 py-2 text-sm font-medium ${viewMode === 'day' ? 'bg-blue-600 text-white' : 'bg-white text-gray-700 hover:bg-gray-50'} border border-gray-300 rounded-l-md focus:z-10`}\n              onClick={setDayView}\n            >\n              Day\n            </button>\n            <button\n              className={`px-4 py-2 text-sm font-medium ${viewMode === 'week' ? 'bg-blue-600 text-white' : 'bg-white text-gray-700 hover:bg-gray-50'} border-t border-b border-r border-gray-300 focus:z-10`}\n              onClick={setWeekView}\n            >\n              Week\n            </button>\n            <button\n              className={`px-4 py-2 text-sm font-medium ${viewMode === 'month' ? 'bg-blue-600 text-white' : 'bg-white text-gray-700 hover:bg-gray-50'} border-t border-b border-r border-gray-300 rounded-r-md focus:z-10`}\n              onClick={setMonthView}\n            >\n              Month\n            </button>\n          </div>\n          \n          {/* Date selector */}\n          <input\n            type=\"date\"\n            value={selectedDate}\n            onChange={(e) => setSelectedDate(e.target.value)}\n            className=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            min={systemDate}\n            max=\"2025-07-31\"\n          />\n          \n          <button \n            className=\"btn-primary flex items-center\"\n            onClick={() => setShowCreateModal(true)}\n          >\n            <Calendar className=\"w-4 h-4 mr-2\" />\n            Create Schedule\n          </button>\n        </div>\n      </div>\n\n      {loadingSchedule ? (\n        <div className=\"card py-16\">\n          <div className=\"flex flex-col items-center justify-center\">\n            <div className=\"w-12 h-12 border-4 border-t-4 border-primary-600 border-t-transparent rounded-full animate-spin\"></div>\n            <p className=\"mt-4 text-gray-600\">Loading schedule data...</p>\n          </div>\n        </div>\n      ) : (\n        <div className=\"card\">\n          <h3 className=\"text-lg font-semibold mb-4\">\n            {getDateRangeText()}\n            <span className=\"ml-2 text-sm font-normal text-gray-600\">\n              ({filteredSchedule.length} trips)\n            </span>\n          </h3>\n          \n          {filteredSchedule.length === 0 ? (\n            <div className=\"text-center py-8 text-gray-500\">\n              <Calendar className=\"w-12 h-12 mx-auto mb-3 text-gray-300\" />\n              <p>No trips scheduled for this period</p>\n            </div>\n          ) : viewMode === 'day' ? (\n            // Day view - simple list\n            <div className=\"space-y-3\">\n              {filteredSchedule.map((trip) => {\n                const occupiedSeats = trip.occupied_seats || (trip.total_seats - trip.available_seats);\n                const occupancyPercentage = trip.occupancy_percentage || \n                  Math.round((occupiedSeats / trip.total_seats) * 100);\n                \n                return (\n                  <div key={trip.id} className=\"p-4 border border-gray-200 rounded-lg hover:bg-gray-50\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center space-x-6\">\n                          {/* Route Info */}\n                          <div className=\"min-w-0 flex-1\">\n                            <div className=\"font-medium text-gray-900 mb-1\">\n                              {trip.route_name}\n                            </div>\n                            <div className=\"text-sm text-gray-600\">\n                              {trip.origin_name} → {trip.destination_name}\n                            </div>\n                          </div>\n                          \n                          {/* Vehicle Info */}\n                          <div className=\"text-sm text-gray-600\">\n                            <div className=\"font-medium\">{trip.vehicle_number}</div>\n                            <div>{trip.vehicle_model}</div>\n                          </div>\n                          \n                          {/* Time Info */}\n                          <div className=\"text-sm text-gray-600\">\n                            <div className=\"font-medium\">\n                              {formatTime(trip.departure_datetime)}\n                            </div>\n                            <div>\n                              to {formatTime(trip.estimated_arrival_datetime)}\n                            </div>\n                          </div>\n                          \n                          {/* Status */}\n                          <div>\n                            <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(trip.status)}`}>\n                              {trip.status.replace('_', ' ').toUpperCase()}\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                      \n                      {/* Occupancy Info */}\n                      <div className=\"flex items-center space-x-4 ml-4\">\n                        <div className=\"text-sm text-right\">\n                          <div className=\"font-medium\">\n                            {occupiedSeats}/{trip.total_seats} seats\n                          </div>\n                          <div className={`text-xs px-2 py-1 rounded-full ${\n                            occupancyPercentage > 80 ? 'bg-red-100 text-red-600' :\n                            occupancyPercentage > 60 ? 'bg-yellow-100 text-yellow-600' :\n                            'bg-green-100 text-green-600'\n                          }`}>\n                            {occupancyPercentage}% occupied\n                          </div>\n                        </div>\n                        <div className=\"w-16 bg-gray-200 rounded-full h-2\">\n                          <div \n                            className=\"h-2 rounded-full transition-all\"\n                            style={{ \n                              width: `${Math.min(occupancyPercentage, 100)}%`,\n                              backgroundColor: occupancyPercentage > 80 ? '#EF4444' : \n                                occupancyPercentage > 60 ? '#F59E0B' : '#10B981'\n                            }}\n                          ></div>\n                        </div>\n                        \n                        {/* Action Buttons */}\n                        <div className=\"flex space-x-2\">\n                          <button className=\"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded\">\n                            <Edit className=\"w-4 h-4\" />\n                          </button>\n                          <button className=\"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded\">\n                            <Trash2 className=\"w-4 h-4\" />\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          ) : (\n            // Week/Month view - grouped by date\n            <div className=\"space-y-6\">\n              {Object.entries(getTripsByDate()).map(([date, trips]) => (\n                <div key={date} className=\"border border-gray-200 rounded-lg overflow-hidden\">\n                  <div className=\"bg-gray-50 px-4 py-3 border-b border-gray-200\">\n                    <h4 className=\"text-md font-semibold\">{new Date(date).toLocaleDateString('en-US', {weekday: 'long', year: 'numeric', month: 'short', day: 'numeric'})}</h4>\n                  </div>\n                  <div className=\"divide-y divide-gray-200\">\n                    {trips.map((trip) => {\n                      const occupiedSeats = trip.occupied_seats || (trip.total_seats - trip.available_seats);\n                      const occupancyPercentage = trip.occupancy_percentage || \n                        Math.round((occupiedSeats / trip.total_seats) * 100);\n                      \n                      return (\n                        <div key={trip.id} className=\"p-4 hover:bg-gray-50\">\n                          <div className=\"flex items-center justify-between\">\n                            <div className=\"flex-1\">\n                              <div className=\"flex items-center space-x-6\">\n                                {/* Time */}\n                                <div className=\"text-sm font-medium text-gray-900 w-24\">\n                                  {formatTime(trip.departure_datetime)}\n                                </div>\n                                \n                                {/* Route Info */}\n                                <div className=\"min-w-0 flex-1\">\n                                  <div className=\"font-medium text-gray-900\">\n                                    {trip.route_name}\n                                  </div>\n                                  <div className=\"text-sm text-gray-600\">\n                                    {trip.origin_name} → {trip.destination_name}\n                                  </div>\n                                </div>\n                                \n                                {/* Vehicle */}\n                                <div className=\"text-sm text-gray-600 w-28\">\n                                  {trip.vehicle_number}\n                                </div>\n                                \n                                {/* Status */}\n                                <div>\n                                  <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(trip.status)}`}>\n                                    {trip.status.replace('_', ' ').toUpperCase()}\n                                  </span>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Create Schedule Modal */}\n      {showCreateModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-5xl\">\n            <h3 className=\"text-lg font-semibold mb-4\">Create New Trip Schedule</h3>\n            \n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              {/* Left Column - Basic Info */}\n              <div className=\"space-y-4\">\n                <h4 className=\"text-md font-medium text-gray-700\">Basic Trip Information</h4>\n                \n                {/* Routes with Stops Selection */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Route\n                  </label>\n                  <select\n                    value={createForm.route_id}\n                    onChange={(e) => setCreateForm(prev => ({ ...prev, route_id: e.target.value }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    required\n                  >\n                    <option value=\"\">Select a route</option>\n                    {routes.map(route => (\n                      <option key={route.id} value={route.id}>\n                        {route.name || `${route.origin_name} → ${route.destination_name}`}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                {/* Route Stops - Will be dynamically loaded based on selected route */}\n                {createForm.route_id && (\n                  <div className=\"bg-gray-50 p-3 rounded-lg border border-gray-200\">\n                    <h5 className=\"text-sm font-medium text-gray-700 mb-2\">Route Stops</h5>\n                    {routeStops.length === 0 ? (\n                      <div className=\"text-sm text-gray-500 text-center py-2\">\n                        Loading route stops...\n                      </div>\n                    ) : (\n                      <div className=\"space-y-2\">\n                        {routeStops.map((stop, index) => {\n                          const isOrigin = index === 0;\n                          const isDestination = index === routeStops.length - 1;\n                          const isMiddle = !isOrigin && !isDestination;\n                          \n                          return (\n                            <div key={stop.id} className=\"flex items-center text-sm\">\n                              {/* Visual indicator */}\n                              <div className=\"relative\">\n                                {!isDestination && (\n                                  <div className=\"h-full w-0.5 bg-blue-500 absolute left-2 top-3\"></div>\n                                )}\n                                {isOrigin || isDestination ? (\n                                  <div className=\"h-4 w-4 rounded-full bg-blue-500 mt-1\"></div>\n                                ) : (\n                                  <div className=\"h-4 w-4 rounded-full border-2 border-blue-500 bg-white mt-1\"></div>\n                                )}\n                              </div>\n                              \n                              {/* Stop name */}\n                              <span className={`ml-3 ${isOrigin || isDestination ? 'font-medium' : ''}`}>\n                                {stop.location_name}\n                                {isOrigin && ' (Origin)'}\n                                {isDestination && ' (Destination)'}\n                              </span>\n                              \n                              {/* Time offset */}\n                              {!isOrigin && (\n                                <span className=\"ml-auto text-xs text-gray-500\">\n                                  +{Math.floor(stop.arrival_offset_minutes / 60)} hrs \n                                  {stop.arrival_offset_minutes % 60 > 0 ? ` ${stop.arrival_offset_minutes % 60} mins` : ''}\n                                </span>\n                              )}\n                            </div>\n                          );\n                        })}\n                      </div>\n                    )}\n                  </div>\n                )}\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Vehicle\n                  </label>\n                  <select\n                    value={createForm.vehicle_id}\n                    onChange={(e) => setCreateForm(prev => ({ ...prev, vehicle_id: e.target.value }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    required\n                  >\n                    <option value=\"\">Select a vehicle</option>\n                    {vehicles.filter(v => v.status === 'active').map(vehicle => (\n                      <option key={vehicle.id} value={vehicle.id}>\n                        {vehicle.license_plate || vehicle.vehicle_number} - {vehicle.model} ({vehicle.capacity} seats)\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-3\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Departure Date\n                    </label>\n                    <input\n                      type=\"date\"\n                      value={createForm.departure_date}\n                      onChange={(e) => setCreateForm(prev => ({ ...prev, departure_date: e.target.value }))}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      min={systemDate}\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Departure Time\n                    </label>\n                    <input\n                      type=\"time\"\n                      value={createForm.departure_time}\n                      onChange={(e) => setCreateForm(prev => ({ ...prev, departure_time: e.target.value }))}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    />\n                  </div>\n                </div>\n              </div>\n              \n              {/* Right Column - Pricing and Seats */}\n              <div className=\"space-y-4\">\n                <h4 className=\"text-md font-medium text-gray-700\">Pricing Configuration</h4>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Base Price (RM)\n                  </label>\n                  <input\n                    type=\"number\"\n                    step=\"0.50\"\n                    min=\"0\"\n                    value={createForm.base_price}\n                    onChange={(e) => setCreateForm(prev => ({ ...prev, base_price: e.target.value }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"e.g. 45.00\"\n                  />\n                </div>\n\n                {/* Seat Type Pricing */}\n                <div className=\"bg-gray-50 p-3 rounded-lg border border-gray-200\">\n                  <h5 className=\"text-sm font-medium text-gray-700 mb-2\">Seat Type Pricing</h5>\n                  <div className=\"space-y-3 mt-3\">\n                    {createForm.seat_types.map(seatType => (\n                      <div key={seatType.id} className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center\">\n                          <input \n                            type=\"checkbox\" \n                            id={`${seatType.id}-seats`} \n                            className=\"mr-2\" \n                            checked={seatType.enabled} \n                            onChange={(e) => {\n                              const updatedSeatTypes = createForm.seat_types.map(type => \n                                type.id === seatType.id ? { ...type, enabled: e.target.checked } : type\n                              );\n                              setCreateForm(prev => ({ ...prev, seat_types: updatedSeatTypes }));\n                            }}\n                          />\n                          <label htmlFor={`${seatType.id}-seats`} className=\"text-sm\">{seatType.name}</label>\n                        </div>\n                        <div className=\"text-sm flex items-center\">\n                          <span className=\"text-gray-500 mr-2\">Multiplier:</span>\n                          {seatType.id === 'regular' ? (\n                            <span className=\"font-medium\">1.0x</span>\n                          ) : (\n                            <input \n                              type=\"number\" \n                              step=\"0.1\" \n                              min=\"1\" \n                              className=\"w-16 px-2 py-1 border border-gray-300 rounded-md\" \n                              value={seatType.multiplier} \n                              onChange={(e) => handleSeatTypeChange(seatType.id, e.target.value)}\n                            />\n                          )}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Dynamic Pricing Rules */}\n                <div className=\"bg-gray-50 p-3 rounded-lg border border-gray-200\">\n                  <h5 className=\"text-sm font-medium text-gray-700 mb-2\">Dynamic Pricing Rules</h5>\n                  <div className=\"space-y-3 mt-3\">\n                    {createForm.pricing_rules.map(rule => (\n                      <div key={rule.id} className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center\">\n                          <input \n                            type=\"checkbox\" \n                            id={rule.id} \n                            className=\"mr-2\" \n                            checked={rule.enabled}\n                            onChange={(e) => handlePricingRuleToggle(rule.id, e.target.checked)}\n                          />\n                          <label htmlFor={rule.id} className=\"text-sm\">{rule.name}</label>\n                        </div>\n                        <div className=\"text-sm flex items-center\">\n                          <span className=\"text-gray-500 mr-2\">{rule.id === 'early_booking' ? '-' : '+'}</span>\n                          <input \n                            type=\"number\" \n                            step=\"1\" \n                            min=\"0\" \n                            className=\"w-16 px-2 py-1 border border-gray-300 rounded-md\" \n                            value={rule.value} \n                            disabled={!rule.enabled}\n                            onChange={(e) => handlePricingRuleValueChange(rule.id, e.target.value)}\n                          />\n                          <span className=\"text-gray-500 ml-1\">%</span>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex space-x-3 mt-6\">\n              <button \n                className=\"btn-primary flex-1\"\n                onClick={handleCreateTrip}\n                disabled={!createForm.route_id || !createForm.vehicle_id || !createForm.base_price}\n              >\n                Schedule Trip\n              </button>\n              <button \n                className=\"btn-secondary flex-1\"\n                onClick={() => setShowCreateModal(false)}\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Analytics Component\nconst Analytics = () => {\n  const [analyticsData, setAnalyticsData] = useState(null);\n  const [routePerformance, setRoutePerformance] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  \n  useEffect(() => {\n    const loadAnalyticsData = async () => {\n      setLoading(true);\n      try {\n        // 加载总体分析数据\n        const statsResponse = await getAnalyticsData();\n        if (statsResponse.success) {\n          setAnalyticsData(statsResponse.data);\n        } else {\n          setError('Failed to load analytics data');\n        }\n        \n        // 加载路线表现数据\n        const routeResponse = await getRouteAnalytics();\n        if (routeResponse.success) {\n          setRoutePerformance(routeResponse.data);\n        } else {\n          setError('Failed to load route performance data');\n        }\n      } catch (err) {\n        console.error('Error loading analytics:', err);\n        setError(handleApiError(err));\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    loadAnalyticsData();\n  }, []);\n  \n  if (loading) {\n    return (\n      <div className=\"flex justify-center py-20\">\n        <div className=\"flex flex-col items-center\">\n          <div className=\"w-12 h-12 border-4 border-primary-600 border-t-transparent rounded-full animate-spin\"></div>\n          <p className=\"mt-4 text-gray-600\">Loading analytics data...</p>\n        </div>\n      </div>\n    );\n  }\n  \n  if (error) {\n    return (\n      <div className=\"card bg-red-50 border-red-200\">\n        <div className=\"flex items-center text-red-600 mb-2\">\n          <AlertCircle className=\"w-5 h-5 mr-2\" />\n          <h3 className=\"font-medium\">Error loading analytics</h3>\n        </div>\n        <p className=\"text-red-600\">{error}</p>\n        <button \n          className=\"mt-4 px-4 py-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-md\"\n          onClick={() => window.location.reload()}\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <h2 className=\"text-2xl font-bold text-gray-900\">Analytics & Reports</h2>\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Total Revenue</p>\n              <p className=\"text-2xl font-bold text-green-600\">\n                RM {analyticsData?.totalRevenue?.toLocaleString() || '0'}\n              </p>\n            </div>\n            <TrendingUp className=\"w-8 h-8 text-green-600\" />\n          </div>\n        </div>\n\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Average Occupancy</p>\n              <p className=\"text-2xl font-bold text-blue-600\">\n                {typeof analyticsData?.averageOccupancy === 'number' ? analyticsData.averageOccupancy.toFixed(1) : '0'}%\n              </p>\n            </div>\n            <Users className=\"w-8 h-8 text-blue-600\" />\n          </div>\n        </div>\n\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Total Passengers</p>\n              <p className=\"text-2xl font-bold text-purple-600\">\n                {analyticsData?.totalPassengers?.toLocaleString() || '0'}\n              </p>\n            </div>\n            <Users className=\"w-8 h-8 text-purple-600\" />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"card\">\n        <h3 className=\"text-lg font-semibold mb-4\">Route Performance</h3>\n        <div className=\"space-y-4\">\n          {routePerformance.length > 0 ? routePerformance.map((route) => (\n            <div key={route.route_name} className=\"p-4 border border-gray-200 rounded-lg\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h4 className=\"font-medium text-gray-900\">{route.route_name}</h4>\n                  <p className=\"text-sm text-gray-600\">{route.trips_scheduled} trips scheduled</p>\n                </div>\n                <div className=\"text-right space-y-1\">\n                  <div className=\"text-sm font-medium text-green-600\">\n                    RM {parseFloat(route.total_revenue || 0).toLocaleString()}\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <div className=\"w-20 bg-gray-200 rounded-full h-2\">\n                      <div \n                        className=\"h-2 rounded-full transition-all\"\n                        style={{ \n                          width: `${Math.min(route.avg_occupancy || 0, 100)}%`,\n                          backgroundColor: (route.avg_occupancy || 0) > 80 ? '#EF4444' : (route.avg_occupancy || 0) > 60 ? '#F59E0B' : '#10B981'\n                        }}\n                      ></div>\n                    </div>\n                    <span className=\"text-xs font-medium\">\n                      {typeof route.avg_occupancy === 'number' ? route.avg_occupancy.toFixed(0) : '0'}%\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )) : (\n            <div className=\"text-center py-8 text-gray-500\">\n              <p>No route performance data available</p>\n            </div>\n          )}\n        </div>\n      </div>\n      \n      <div className=\"card\">\n        <h3 className=\"text-lg font-semibold mb-4\">Monthly Revenue</h3>\n        <div className=\"h-64 bg-gray-50 rounded-lg flex items-center justify-center\">\n          <p className=\"text-gray-500\">Monthly revenue chart will be displayed here</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// System Settings Component\nconst SystemSettings = () => {\n  return (\n    <div className=\"space-y-6\">\n      <h2 className=\"text-2xl font-bold text-gray-900\">System Settings</h2>\n      \n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <div className=\"card\">\n          <h3 className=\"text-lg font-semibold mb-4\">Pricing Configuration</h3>\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"label\">Weekend Surcharge (%)</label>\n              <input type=\"number\" className=\"input\" defaultValue=\"15\" />\n            </div>\n            <div>\n              <label className=\"label\">Peak Hour Multiplier</label>\n              <input type=\"number\" step=\"0.1\" className=\"input\" defaultValue=\"1.2\" />\n            </div>\n            <div>\n              <label className=\"label\">Early Bird Discount (%)</label>\n              <input type=\"number\" className=\"input\" defaultValue=\"15\" />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"card\">\n          <h3 className=\"text-lg font-semibold mb-4\">Operational Settings</h3>\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"label\">Booking Window (days)</label>\n              <input type=\"number\" className=\"input\" defaultValue=\"90\" />\n            </div>\n            <div>\n              <label className=\"label\">Cancellation Deadline (hours)</label>\n              <input type=\"number\" className=\"input\" defaultValue=\"24\" />\n            </div>\n            <div>\n              <label className=\"label\">Maximum Seats per Booking</label>\n              <input type=\"number\" className=\"input\" defaultValue=\"6\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Customer Service Component for Walk-in Ticket Sales\nconst CustomerService = () => {\n  const { locations, systemDate } = useApp();\n  const [currentStep, setCurrentStep] = useState(1); // 1: Search, 2: Select Trip, 3: Customer Info, 4: Payment\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedTrip, setSelectedTrip] = useState(null);\n  const [customerInfo, setCustomerInfo] = useState({\n    fullName: '',\n    phone: '',\n    email: '',\n    icNumber: '',\n    passengerCount: 1\n  });\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [error, setError] = useState(null);\n\n  const [searchForm, setSearchForm] = useState({\n    origin: '',\n    destination: '',\n    date: systemDate,\n    isRoundTrip: false,\n    returnDate: format(addDays(new Date(systemDate), 1), 'yyyy-MM-dd')\n  });\n\n  const handleSearch = async () => {\n    setIsProcessing(true);\n    \n    try {\n      const searchParams = {\n        origin: searchForm.origin,\n        destination: searchForm.destination,\n        departureDate: searchForm.date,\n        passengers: customerInfo.passengerCount\n      };\n\n      const response = await searchTrips(searchParams);\n      \n      if (response.success) {\n        setSearchResults(response.data);\n        setCurrentStep(2);\n      } else {\n        setError('Failed to search trips. Please try again.');\n      }\n    } catch (err) {\n      console.error('Search error:', err);\n      setError(handleApiError(err));\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const handleTripSelect = (trip) => {\n    setSelectedTrip(trip);\n    setCurrentStep(3);\n  };\n\n  const handleCustomerSubmit = () => {\n    if (customerInfo.fullName && customerInfo.phone) {\n      setCurrentStep(4);\n    }\n  };\n\n  const handlePaymentComplete = () => {\n    // Process booking\n    const bookingRef = `TBS${format(new Date(systemDate), 'yyyyMMddHHmm')}`;\n    alert(`Booking confirmed! Reference: ${bookingRef}`);\n    \n    // Reset form\n    setCurrentStep(1);\n    setSearchResults([]);\n    setSelectedTrip(null);\n    setCustomerInfo({ fullName: '', phone: '', email: '', icNumber: '', passengerCount: 1 });\n  };\n\n  const resetSearch = () => {\n    setCurrentStep(1);\n    setSearchResults([]);\n    setSelectedTrip(null);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Error Message */}\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <div className=\"flex\">\n            <div className=\"flex-shrink-0\">\n              <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n              </svg>\n            </div>\n            <div className=\"ml-3\">\n              <p className=\"text-sm text-red-700\">{error}</p>\n              <button \n                onClick={() => setError(null)}\n                className=\"mt-2 text-red-800 underline hover:text-red-900 text-sm\"\n              >\n                Dismiss\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n      \n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-gray-900\">Customer Service Portal</h2>\n          <p className=\"text-gray-600\">Help walk-in customers purchase tickets quickly and efficiently</p>\n        </div>\n        {currentStep > 1 && (\n          <button onClick={resetSearch} className=\"btn-secondary\">\n            New Search\n          </button>\n        )}\n      </div>\n\n      {/* Progress Steps */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n        <div className=\"flex items-center justify-between\">\n          {['Search Trips', 'Select Trip', 'Customer Info', 'Payment'].map((step, index) => (\n            <div key={index} className=\"flex items-center\">\n              <div className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${\n                currentStep > index + 1 ? 'bg-green-500 text-white' :\n                currentStep === index + 1 ? 'bg-primary-500 text-white' :\n                'bg-gray-200 text-gray-600'\n              }`}>\n                {currentStep > index + 1 ? '✓' : index + 1}\n              </div>\n              <span className={`ml-2 text-sm font-medium ${\n                currentStep >= index + 1 ? 'text-gray-900' : 'text-gray-500'\n              }`}>\n                {step}\n              </span>\n              {index < 3 && (\n                <div className={`w-8 h-0.5 mx-4 ${\n                  currentStep > index + 1 ? 'bg-green-500' : 'bg-gray-200'\n                }`}></div>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Step 1: Search Form */}\n      {currentStep === 1 && (\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Search Available Trips</h3>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n            <div>\n              <label className=\"label\">From</label>\n              <select\n                value={searchForm.origin}\n                onChange={(e) => setSearchForm(prev => ({ ...prev, origin: e.target.value }))}\n                className=\"input w-full\"\n                required\n              >\n                <option value=\"\">Select origin</option>\n                {locations.map(location => (\n                  <option key={location.id} value={location.id}>{location.city}</option>\n                ))}\n              </select>\n            </div>\n            \n            <div>\n              <label className=\"label\">To</label>\n              <select\n                value={searchForm.destination}\n                onChange={(e) => setSearchForm(prev => ({ ...prev, destination: e.target.value }))}\n                className=\"input w-full\"\n                required\n              >\n                <option value=\"\">Select destination</option>\n                {locations.map(location => (\n                  <option key={location.id} value={location.id}>{location.city}</option>\n                ))}\n              </select>\n            </div>\n            \n            <div>\n              <label className=\"label\">Departure Date</label>\n              <input\n                type=\"date\"\n                value={searchForm.date}\n                onChange={(e) => setSearchForm(prev => ({ ...prev, date: e.target.value }))}\n                            min={systemDate}\n            max={format(addDays(new Date(systemDate), 90), 'yyyy-MM-dd')}\n                className=\"input w-full\"\n                required\n              />\n            </div>\n            \n            <div>\n              <label className=\"label\">Passengers</label>\n              <select\n                value={customerInfo.passengerCount}\n                onChange={(e) => setCustomerInfo(prev => ({ ...prev, passengerCount: parseInt(e.target.value) }))}\n                className=\"input w-full\"\n              >\n                {[1,2,3,4,5,6].map(num => (\n                  <option key={num} value={num}>{num} passenger{num > 1 ? 's' : ''}</option>\n                ))}\n              </select>\n            </div>\n          </div>\n          \n          <button\n            onClick={handleSearch}\n            disabled={!searchForm.origin || !searchForm.destination || isProcessing}\n            className=\"btn-primary text-lg px-8 py-3\"\n          >\n            {isProcessing ? 'Searching...' : 'Search Trips'}\n          </button>\n        </div>\n      )}\n\n      {/* Step 2: Trip Selection */}\n      {currentStep === 2 && (\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Available Trips ({searchResults.length} found)</h3>\n          \n          {searchResults.length === 0 ? (\n            <div className=\"text-center py-8 text-gray-500\">\n              <p>No trips found for the selected route and date.</p>\n              <button onClick={resetSearch} className=\"btn-primary mt-4\">Try Another Search</button>\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {searchResults.map(trip => (\n                <div key={trip.id} className=\"border border-gray-200 rounded-lg p-4 hover:border-primary-300 cursor-pointer\"\n                     onClick={() => handleTripSelect(trip)}>\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center space-x-4\">\n                        <div>\n                          <div className=\"font-semibold text-lg\">{trip.route.name}</div>\n                          <div className=\"text-sm text-gray-600\">\n                            {locations.find(l => l.id === trip.route.originId)?.city} → \n                            {locations.find(l => l.id === trip.route.destinationId)?.city}\n                          </div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"font-semibold\">{trip.departureDatetime.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>\n                          <div className=\"text-sm text-gray-600\">Departure</div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"font-semibold\">{trip.arrivalDatetime.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>\n                          <div className=\"text-sm text-gray-600\">Arrival</div>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <div className=\"text-2xl font-bold text-primary-600\">RM {trip.route.basePrice}</div>\n                      <div className=\"text-sm text-gray-600\">{trip.availableSeats} seats available</div>\n                      <div className={`text-xs px-2 py-1 rounded-full ${\n                        calculateOccupancy(trip) > 80 ? 'bg-red-100 text-red-600' :\n                        calculateOccupancy(trip) > 60 ? 'bg-yellow-100 text-yellow-600' :\n                        'bg-green-100 text-green-600'\n                      }`}>\n                        {calculateOccupancy(trip)}% occupied\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Step 3: Customer Information */}\n      {currentStep === 3 && selectedTrip && (\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Customer Information</h3>\n          \n          {/* Selected Trip Summary */}\n          <div className=\"bg-gray-50 rounded-lg p-4 mb-6\">\n            <h4 className=\"font-semibold mb-2\">Selected Trip</h4>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"font-medium\">{selectedTrip.route.name}</div>\n                <div className=\"text-sm text-gray-600\">\n                  {selectedTrip.departureDatetime.toLocaleDateString()} at {selectedTrip.departureDatetime.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}\n                </div>\n              </div>\n              <div className=\"text-right\">\n                <div className=\"text-lg font-bold text-primary-600\">RM {selectedTrip.route.basePrice * customerInfo.passengerCount}</div>\n                <div className=\"text-sm text-gray-600\">{customerInfo.passengerCount} passenger{customerInfo.passengerCount > 1 ? 's' : ''}</div>\n              </div>\n            </div>\n          </div>\n          \n          {/* Customer Form */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\n            <div>\n              <label className=\"label\">Full Name *</label>\n              <input\n                type=\"text\"\n                value={customerInfo.fullName}\n                onChange={(e) => setCustomerInfo(prev => ({ ...prev, fullName: e.target.value }))}\n                className=\"input w-full\"\n                placeholder=\"Enter customer's full name\"\n                required\n              />\n            </div>\n            \n            <div>\n              <label className=\"label\">Phone Number *</label>\n              <input\n                type=\"tel\"\n                value={customerInfo.phone}\n                onChange={(e) => setCustomerInfo(prev => ({ ...prev, phone: e.target.value }))}\n                className=\"input w-full\"\n                placeholder=\"+60123456789\"\n                required\n              />\n            </div>\n            \n            <div>\n              <label className=\"label\">Email Address</label>\n              <input\n                type=\"email\"\n                value={customerInfo.email}\n                onChange={(e) => setCustomerInfo(prev => ({ ...prev, email: e.target.value }))}\n                className=\"input w-full\"\n                placeholder=\"customer@email.com\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"label\">IC Number</label>\n              <input\n                type=\"text\"\n                value={customerInfo.icNumber}\n                onChange={(e) => setCustomerInfo(prev => ({ ...prev, icNumber: e.target.value }))}\n                className=\"input w-full\"\n                placeholder=\"123456-78-9012\"\n              />\n            </div>\n          </div>\n          \n          <div className=\"flex space-x-4\">\n            <button onClick={() => setCurrentStep(2)} className=\"btn-secondary\">\n              Back to Trip Selection\n            </button>\n            <button \n              onClick={handleCustomerSubmit}\n              disabled={!customerInfo.fullName || !customerInfo.phone}\n              className=\"btn-primary\"\n            >\n              Continue to Payment\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Step 4: Payment */}\n      {currentStep === 4 && selectedTrip && (\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Payment & Confirmation</h3>\n          \n          {/* Booking Summary */}\n          <div className=\"bg-gray-50 rounded-lg p-6 mb-6\">\n            <h4 className=\"font-semibold mb-4\">Booking Summary</h4>\n            \n            <div className=\"space-y-3\">\n              <div className=\"flex justify-between\">\n                <span>Route:</span>\n                <span className=\"font-medium\">{selectedTrip.route.name}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span>Date & Time:</span>\n                <span className=\"font-medium\">\n                  {selectedTrip.departureDatetime.toLocaleDateString()} at {selectedTrip.departureDatetime.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}\n                </span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span>Passenger:</span>\n                <span className=\"font-medium\">{customerInfo.fullName}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span>Phone:</span>\n                <span className=\"font-medium\">{customerInfo.phone}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span>Passengers:</span>\n                <span className=\"font-medium\">{customerInfo.passengerCount}</span>\n              </div>\n              <hr />\n              <div className=\"flex justify-between text-lg font-bold\">\n                <span>Total Amount:</span>\n                <span className=\"text-primary-600\">RM {selectedTrip.route.basePrice * customerInfo.passengerCount}</span>\n              </div>\n            </div>\n          </div>\n          \n          {/* Payment Methods */}\n          <div className=\"mb-6\">\n            <h4 className=\"font-semibold mb-3\">Payment Method</h4>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <button className=\"border-2 border-primary-500 bg-primary-50 text-primary-700 rounded-lg p-4 text-center\">\n                💳 Card Payment\n              </button>\n              <button className=\"border-2 border-gray-200 hover:border-gray-300 rounded-lg p-4 text-center\">\n                💰 Cash Payment\n              </button>\n              <button className=\"border-2 border-gray-200 hover:border-gray-300 rounded-lg p-4 text-center\">\n                📱 E-Wallet\n              </button>\n            </div>\n          </div>\n          \n          <div className=\"flex space-x-4\">\n            <button onClick={() => setCurrentStep(3)} className=\"btn-secondary\">\n              Back to Customer Info\n            </button>\n            <button onClick={handlePaymentComplete} className=\"btn-primary\">\n              Confirm Payment & Issue Ticket\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Route Management Component\nconst RouteManagement = ({ routes = [], onRefresh }) => {\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [locations, setLocations] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [createForm, setCreateForm] = useState({\n    name: '',\n    origin_id: '',\n    destination_id: '',\n    base_price: 0,\n    stops: []\n  });\n\n  // Load locations for route creation\n  useEffect(() => {\n    const loadLocations = async () => {\n      try {\n        const response = await getLocationsForRoutes();\n        if (response.success) {\n          setLocations(response.data);\n        }\n      } catch (error) {\n        console.error('Error loading locations:', error);\n      }\n    };\n\n    loadLocations();\n  }, []);\n\n  const handleAddStop = () => {\n    setCreateForm(prev => ({\n      ...prev,\n      stops: [\n        ...prev.stops,\n        {\n          location_id: '',\n          arrival_offset_minutes: 30,\n          departure_offset_minutes: 35,\n          price_from_origin: 0\n        }\n      ]\n    }));\n  };\n\n  const handleRemoveStop = (index) => {\n    setCreateForm(prev => ({\n      ...prev,\n      stops: prev.stops.filter((_, i) => i !== index)\n    }));\n  };\n\n  const handleStopChange = (index, field, value) => {\n    setCreateForm(prev => {\n      const newStops = [...prev.stops];\n      newStops[index] = {\n        ...newStops[index],\n        [field]: value\n      };\n      return { ...prev, stops: newStops };\n    });\n  };\n\n  const handleCreateRoute = async () => {\n    setLoading(true);\n    try {\n      const response = await createRoute(createForm);\n      if (response.success) {\n        setShowCreateModal(false);\n        setCreateForm({\n          name: '',\n          origin_id: '',\n          destination_id: '',\n          base_price: 0,\n          stops: []\n        });\n        onRefresh();\n        alert('Route created successfully!');\n      } else {\n        alert('Failed to create route');\n      }\n    } catch (error) {\n      console.error('Error creating route:', error);\n      alert('Error creating route');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-2xl font-bold text-gray-900\">Route Management</h2>\n        <button \n          className=\"btn-primary flex items-center\"\n          onClick={() => setShowCreateModal(true)}\n        >\n          <Plus className=\"w-4 h-4 mr-2\" />\n          Create New Route\n        </button>\n      </div>\n\n      {/* Routes List */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {routes.map((route) => (\n          <div key={route.id} className=\"card\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\">\n                  <Map className=\"w-5 h-5 text-blue-600\" />\n                </div>\n                <div>\n                  <h3 className=\"font-semibold text-gray-900\">{route.name}</h3>\n                  <p className=\"text-sm text-gray-600\">{route.route_code}</p>\n                </div>\n              </div>\n              <div className=\"text-sm text-gray-500\">\n                RM {route.base_price}\n              </div>\n            </div>\n            \n            <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\n              <MapPin className=\"w-4 h-4\" />\n              <span>{route.origin_name} → {route.destination_name}</span>\n            </div>\n            \n            {route.total_trips > 0 && (\n              <div className=\"mt-3 flex items-center justify-between text-xs\">\n                <span className=\"text-gray-500\">Trip Count:</span>\n                <span className=\"font-medium\">{route.total_trips} trips</span>\n              </div>\n            )}\n            \n            {route.avg_occupancy > 0 && (\n              <div className=\"flex items-center justify-between text-xs\">\n                <span className=\"text-gray-500\">Avg. Occupation:</span>\n                <div className=\"flex items-center space-x-2\">\n                  <div className=\"w-16 bg-gray-200 rounded-full h-2\">\n                    <div \n                      className=\"h-2 rounded-full transition-all\"\n                      style={{ \n                        width: `${Math.min(route.avg_occupancy || 0, 100)}%`,\n                        backgroundColor: (route.avg_occupancy || 0) > 80 ? '#EF4444' : (route.avg_occupancy || 0) > 60 ? '#F59E0B' : '#10B981'\n                      }}\n                    ></div>\n                  </div>\n                  <span className=\"font-medium\">\n                    {typeof route.avg_occupancy === 'number' ? route.avg_occupancy.toFixed(0) : '0'}%\n                  </span>\n                </div>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n\n      {/* Create Route Modal */}\n      {showCreateModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-4xl\">\n            <h3 className=\"text-lg font-semibold mb-4\">Create New Route</h3>\n            \n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Route Name\n                </label>\n                <input\n                  type=\"text\"\n                  value={createForm.name}\n                  onChange={(e) => setCreateForm(prev => ({ ...prev, name: e.target.value }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  placeholder=\"e.g. KL - Penang Express\"\n                  required\n                />\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Origin\n                  </label>\n                  <select\n                    value={createForm.origin_id}\n                    onChange={(e) => setCreateForm(prev => ({ ...prev, origin_id: e.target.value }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    required\n                  >\n                    <option value=\"\">Select origin location</option>\n                    {locations.map(location => (\n                      <option key={location.id} value={location.id}>\n                        {location.name}, {location.city}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Destination\n                  </label>\n                  <select\n                    value={createForm.destination_id}\n                    onChange={(e) => setCreateForm(prev => ({ ...prev, destination_id: e.target.value }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    required\n                  >\n                    <option value=\"\">Select destination location</option>\n                    {locations.map(location => (\n                      <option key={location.id} value={location.id}>\n                        {location.name}, {location.city}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Base Price (RM)\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"0.50\"\n                  min=\"0\"\n                  value={createForm.base_price}\n                  onChange={(e) => setCreateForm(prev => ({ ...prev, base_price: parseFloat(e.target.value) }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  placeholder=\"e.g. 45.00\"\n                  required\n                />\n              </div>\n\n              {/* Middle Stops */}\n              <div>\n                <div className=\"flex items-center justify-between mb-2\">\n                  <label className=\"block text-sm font-medium text-gray-700\">\n                    Middle Stops (Optional)\n                  </label>\n                  <button \n                    type=\"button\" \n                    className=\"text-sm text-blue-600 hover:text-blue-800 flex items-center\"\n                    onClick={handleAddStop}\n                  >\n                    <Plus className=\"w-4 h-4 mr-1\" />\n                    Add Stop\n                  </button>\n                </div>\n\n                {createForm.stops.length === 0 ? (\n                  <div className=\"text-sm text-gray-500 text-center py-4 border border-dashed border-gray-300 rounded-md\">\n                    No middle stops added. Click \"Add Stop\" to add intermediate stops.\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    {createForm.stops.map((stop, index) => (\n                      <div key={index} className=\"p-3 border border-gray-200 rounded-md bg-gray-50\">\n                        <div className=\"flex justify-between items-center mb-2\">\n                          <h4 className=\"text-sm font-medium text-gray-700\">Stop #{index + 1}</h4>\n                          <button \n                            type=\"button\" \n                            className=\"text-sm text-red-600 hover:text-red-800\"\n                            onClick={() => handleRemoveStop(index)}\n                          >\n                            <X className=\"w-4 h-4\" />\n                          </button>\n                        </div>\n                        \n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                          <div>\n                            <label className=\"block text-xs text-gray-700 mb-1\">\n                              Location\n                            </label>\n                            <select\n                              value={stop.location_id}\n                              onChange={(e) => handleStopChange(index, 'location_id', e.target.value)}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\"\n                              required\n                            >\n                              <option value=\"\">Select location</option>\n                              {locations.filter(loc => \n                                loc.id !== createForm.origin_id && \n                                loc.id !== createForm.destination_id &&\n                                !createForm.stops.some((s, i) => i !== index && s.location_id === loc.id)\n                              ).map(location => (\n                                <option key={location.id} value={location.id}>\n                                  {location.name}, {location.city}\n                                </option>\n                              ))}\n                            </select>\n                          </div>\n                          \n                          <div>\n                            <label className=\"block text-xs text-gray-700 mb-1\">\n                              Price from Origin (RM)\n                            </label>\n                            <input\n                              type=\"number\"\n                              step=\"0.50\"\n                              min=\"0\"\n                              value={stop.price_from_origin}\n                              onChange={(e) => handleStopChange(index, 'price_from_origin', parseFloat(e.target.value))}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\"\n                            />\n                          </div>\n                        </div>\n                        \n                        <div className=\"grid grid-cols-2 gap-3 mt-2\">\n                          <div>\n                            <label className=\"block text-xs text-gray-700 mb-1\">\n                              Arrival Offset (minutes)\n                            </label>\n                            <input\n                              type=\"number\"\n                              min=\"0\"\n                              value={stop.arrival_offset_minutes}\n                              onChange={(e) => handleStopChange(index, 'arrival_offset_minutes', parseInt(e.target.value))}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\"\n                            />\n                          </div>\n                          \n                          <div>\n                            <label className=\"block text-xs text-gray-700 mb-1\">\n                              Departure Offset (minutes)\n                            </label>\n                            <input\n                              type=\"number\"\n                              min=\"0\"\n                              value={stop.departure_offset_minutes}\n                              onChange={(e) => handleStopChange(index, 'departure_offset_minutes', parseInt(e.target.value))}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\"\n                            />\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n\n            <div className=\"flex space-x-3 mt-6\">\n              <button \n                className=\"btn-primary flex-1\"\n                onClick={handleCreateRoute}\n                disabled={loading || !createForm.name || !createForm.origin_id || !createForm.destination_id || !createForm.base_price}\n              >\n                {loading ? 'Creating...' : 'Create Route'}\n              </button>\n              <button \n                className=\"btn-secondary flex-1\"\n                onClick={() => setShowCreateModal(false)}\n                disabled={loading}\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AdminDashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}